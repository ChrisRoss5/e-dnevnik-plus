{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Login.vue?aeb1","webpack:///./src/components/Main.vue?fee0","webpack:///./src/components/User.vue?1d4a","webpack:///./src/components/Navbar.vue?6c04","webpack:///./src/views/class/subjects/SubjectsSummary.vue?a45d","webpack:///./src/components/Spinner.vue?4398","webpack:///./src/views/Settings.vue?220f","webpack:///./src/assets/img/logo.png","webpack:///./src/views/Login.vue?0ce2","webpack:///./src/components/stats/Stats.vue?cd60","webpack:///./src/views/class/subjects/SubjectsCounter.vue?fe81","webpack:///./src/components/Dropdown.vue?16e6","webpack:///./src/views/class/ClassSectionFrame.vue?ff2f","webpack:///./src/assets/img/spinner.svg","webpack:///./src/views/class/subjects/Subject.vue?348a","webpack:///./src/views/Class.vue?f271","webpack:///./src/components/NavbarList.vue?b776","webpack:///./src/views/GlobalStats.vue?997e","webpack:///./src/views/class/subjects/Subjects.vue?a04d","webpack:///./src/views/Websites.vue?6c35","webpack:///./src/views/class/subjects/SubjectCardHead.vue?f6fd","webpack:///./src/App.vue","webpack:///./src/store/mutations.ts","webpack:///./src/scripts/utils.ts","webpack:///./src/store/storage.ts","webpack:///./src/store/actions.ts","webpack:///./src/components/Navbar.vue","webpack:///./src/components/NavbarList.vue","webpack:///./src/components/NavbarList.vue?61c8","webpack:///./src/components/NavbarList.vue?cf0d","webpack:///./src/components/Navbar.vue?5eb5","webpack:///./src/components/Navbar.vue?59c0","webpack:///./src/components/Main.vue","webpack:///./src/components/Main.vue?2323","webpack:///./src/components/Main.vue?eb2f","webpack:///./src/components/User.vue","webpack:///./src/components/Dropdown.vue","webpack:///./src/components/Dropdown.vue?dab4","webpack:///./src/components/Dropdown.vue?8baa","webpack:///./src/store/state.ts","webpack:///./src/store/getters.ts","webpack:///./src/store/index.ts","webpack:///./src/scripts/new-user.ts","webpack:///./src/scripts/scrapers.ts","webpack:///./src/components/User.vue?a2cd","webpack:///./src/components/User.vue?2f2f","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e144","webpack:///./src/views/Login.vue?e63b","webpack:///./src/views/Class.vue","webpack:///./src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?2236","webpack:///./src/components/Spinner.vue?c088","webpack:///./src/views/Class.vue?f498","webpack:///./src/views/Class.vue?3608","webpack:///./src/views/class/subjects/Subjects.vue","webpack:///./src/views/class/subjects/SubjectsSummary.vue","webpack:///./src/views/class/subjects/SubjectsSummary.vue?2af8","webpack:///./src/views/class/subjects/SubjectsSummary.vue?58cc","webpack:///./src/views/class/subjects/SubjectsCounter.vue","webpack:///./src/views/class/subjects/SubjectsCounter.vue?4333","webpack:///./src/views/class/subjects/SubjectsCounter.vue?5221","webpack:///./src/views/class/subjects/SubjectCardHead.vue","webpack:///./src/views/class/subjects/SubjectCardHead.vue?3c5c","webpack:///./src/views/class/subjects/SubjectCardHead.vue?aaaf","webpack:///./src/views/class/subjects/SubjectCardBody.vue","webpack:///./src/views/class/subjects/SubjectCardBody.vue?9f30","webpack:///./src/views/class/subjects/SubjectCardBody.vue?8310","webpack:///./src/views/class/subjects/Subjects.vue?41f8","webpack:///./src/views/class/subjects/Subjects.vue?32d4","webpack:///./src/views/class/subjects/Subject.vue","webpack:///./src/views/class/ClassSectionFrame.vue","webpack:///./src/views/class/ClassSectionFrame.vue?9cc7","webpack:///./src/views/class/ClassSectionFrame.vue?3ca8","webpack:///./src/views/class/subjects/Subject.vue?1673","webpack:///./src/views/class/subjects/Subject.vue?7a18","webpack:///./src/views/class/ClassStats.vue","webpack:///./src/components/stats/Stats.vue","webpack:///./src/components/stats/LineChart.vue","webpack:///./src/components/stats/LineChart.vue?8f0c","webpack:///./src/components/stats/LineChart.vue?f79c","webpack:///./src/components/stats/DoughnutChart.vue?ff99","webpack:///./src/components/stats/DoughnutChart.vue","webpack:///./src/components/stats/DoughnutChart.vue?d3b6","webpack:///./src/components/stats/BarChart.vue","webpack:///./src/components/stats/BarChart.vue?87b3","webpack:///./src/components/stats/BarChart.vue?262d","webpack:///./src/components/stats/Stats.vue?40b3","webpack:///./src/components/stats/Stats.vue?5452","webpack:///./src/views/class/ClassStats.vue?175c","webpack:///./src/views/class/ClassStats.vue?e16c","webpack:///./src/views/GlobalStats.vue","webpack:///./src/views/GlobalStats.vue?d332","webpack:///./src/views/GlobalStats.vue?2d7a","webpack:///./src/views/Websites.vue","webpack:///./src/views/Websites.vue?5994","webpack:///./src/views/Websites.vue?d92f","webpack:///./src/views/Settings.vue","webpack:///./src/views/Settings.vue?4535","webpack:///./src/views/Settings.vue?e8e9","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/views/Class.vue?fac5","webpack:///./src/components/stats/BarChart.vue?f45d","webpack:///./src/views/class/subjects/SubjectCardBody.vue?485c","webpack:///./src/App.vue?8fe6","webpack:///./src/views/class/subjects/SubjectCardBody.vue?beb8"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","MutationTypes","mutations","INIT","state","newState","assign","ADD_USER","user","users","UPDATE_USER_STATUS","status","signedIn","UPDATE_LAST_LOADED_CLASS_URL","url","lastLoadedClassUrl","UPDATE_CLASSES_LIST","classesList","UPDATE_CLASS_PROPERTY","classInfo","UPDATE_CLASS_TABS_ORDER","tabs","settings","classTabsOrder","UPDATE_SUBJECT","updatedSubject","cachedSubjects","cachedSubjectIdx","findIndex","subject","UPDATE_GLOBAL_SETTING","UPDATE_USER_SETTINGS","addStyleTag","doc","darkTheme","Promise","resolve","docHead","getElementsByTagName","link","createElement","rel","type","href","onload","onerror","newStyle","document","textContent","appendChild","getElText","el","trim","parseDoc","html","baseUri","DOMParser","parseFromString","base","head","jsonClone","JSON","parse","stringify","toLowerCase","replaceAll","formEncodedBody","obj","keys","map","k","encodeURIComponent","join","getAverage","arr","getSum","multiplyByIndex","reduce","a","b","parseNum","num","parseFloat","replace","isNaN","toFixed","toString","capitalize","str","toUpperCase","removeAllparentheses","numberToColorHsl","hue","rgb","hslToRgb","getGradesColors","alpha","colors","color","Math","round","getSubjectColors","grades","gradesCount","linearGradient","perc","every","val","toAdd","start","col","setEndOfContenteditable","contentEditableElement","range","createRange","selectNodeContents","collapse","selection","getSelection","removeAllRanges","addRange","h","g","q","hue2rgb","floor","defaultState","appDisabled","injectContent","navbarCollapsed","chromeLocalStorage","devTestMode","testState","chrome","storage","local","savedState","ActionTypes","email","password","fullName","year","isYearCompleted","school","finalGrade","headTeacher","lastUpdated","teachers","gradesByCategory","lastNote","note","date","grade","subjectsSettings","zoom","expandTablesOnHover","subjectColors","countAvgs","sortByDragging","subjectsOrder","expandedSubjects","actions","commit","console","log","isAppInitiated","find","id","target","src","class","style","initResizeObserver","isLoginPage","ref","navMidOverflowing","list","linksTop","rootLink","order","navCollapsed","pages","linksBottom","icon","to","convertToPath","props","Array","required","String","Number","Boolean","methods","render","__scopeId","components","NavbarList","mounted","setTimeout","this","ResizeObserver","customListChanged","observe","$refs","navMid","offsetHeight","scrollHeight","computed","$route","path","$store","set","includes","Component","transitionName","main","onscroll","$emitter","emit","watch","from","showDropdown","visible","dropdown","customClass","sourceElementId","dropdownClosed","row","active","close","alignRight","emits","on","windowClicked","beforeUnmount","off","getElementById","rowName","$emit","getters","_getters","classId","storeMutated","_store","subscribe","mutation","_state","store","plugins","newUser","initData","toast","URLS","login","logout","classes","fetch1","fetch","text","loginDoc","csrfElement","getElementsByName","error","csrf_token","method","headers","body","username","fetch2","loggedIn","nextDoc","getClassesList","undefined","u","querySelector","success","timeout","updateClassesHeadteacher","authFetch","classesDoc","Date","getFullYear","getMonth","currentYear","currentMonth","classMenus","getElementsByClassName","menu","split","y","parseInt","end","forceUpdate","timestamp","now","updateAllSubjects","promises","saveSubject","toSave","classDoc","querySelectorAll","forEach","anchor","updateSubject","children","then","allSettled","subjectDoc","rowEl","classList","contains","lastElementChild","match","firstElementChild","cell","lastNoteEl","info","firstLogin","getSectionHTML","sectionUrl","classUrl","Dropdown","showCard","show","userEl","params","Navbar","Main","User","created","dispatch","userSignedIn","location","hash","$router","enabledarkTheme","onresize","onclick","e","composedPath","enabled","firstAttempt","spellcheck","loginStudent","autocomplete","autofocus","tabindex","loginReady","loggingIn","errorCard","domain","indexOf","animation","offsetWidth","openedClassInfo","dropdowns","visibleDropdown","title","closeDropdown","confirmedFinalGrade","tabsOrderChanged","axis","lockAxis","lockOffset","lockToContainerEdges","distance","tabsSortingEvent","tab","index","getSectionPath","draggable","tabsIconOnly","realName","activeRouterLink","showSpinner","sectionTransition","triggerTransition","size","blur","default","SlickList","SlickItem","Spinner","beforeMount","_tabs","$nextTick","classChanged","mainScrolled","positionSelectedLine","getSectionsContainer","started","line","selectedLine","sections","_line","display","add","remove","transition","offsetLeft","transform","width","marginRight","sectionsPadding","paddingRight","short","scrollTop","className","getDropdownList","filterBy","filter","getSectionName","sectionsContainer","tabNames","toName","fromName","toIdx","fromIdx","finalGradeOriginal","options","savedOptions","isOpenedSubject","openedSubject","optionClicked","sortOptionClicked","subjects","subjectsSorting","subjectsOrderChanged","helperClass","cancelKey","disabled","subjectMouseEnter","$event","subjectMouseLeave","v","updateGradesAvgEdited","revertSubject","expandTables","updateTablesMargin","expandSubject","updateSubjectMargin","getSubjectGradesAvg","formatNum","option","optionName","fontSize","sortDropdownVisible","sortDropdownList","sortDropdownClosed","tooltip","gradeTitles","min","gradeCounts","count","updateData","gradesAvgOriginal","marginBottom","isSubjectEdited","onSubjectInfoWheel","getSubjectUrl","isOpened","contenteditable","avgInputted","avgFocusChanged","getSubjectAvgColor","lineColors","toLeft","deltaY","scrollLeft","toRight","scrollWidth","clientWidth","preventDefault","scrollBy","left","behavior","current","mapSubjectGrades","original","gradesByCategoryOriginal","gradesAvgEdited","sort","validInput","test","NaN","avg","gradesAvg","originalAvg","fullPath","colspan","columnColors","expandedKeep","formatGradeText","expanded","expand","doNotSave","subjectBody","margin","gradeInputted","originalGrades","clone","cloneNode","_grades","innerHTML","getCellGrades","sharedGrades","idx","isSomeSubjectOpened","handler","deep","SubjectsSummary","SubjectsCounter","SubjectCardHead","SubjectCardBody","updateSubjects","subjectsLoading","resetSubjects","cached","getSubjectGradesCount","getFinalGradeOriginal","checkActiveSubject","matches","updateSettings","zoomChanged","updateSubjectColors","max","isReverse","sortByAvg","sortProperty","propA","propB","flat","getSubjectAvgText","subjectsWithGrades","counts","cols","totalCount","subjectId","newValue","newSettings","allSubjectsExpanded","subj","hideWhenSubjectIsOpen","zoomIn","zoomOut","sortSubjects","newVal","isSubject","loading","updateContent","urls","biljeske","ispiti","izostanci","vladanja","raspored","errorMessage","iframe","contentWindow","pathName","sectionEl","append","contentEl","height","ClassSectionFrame","loaded","noDataPresent","lineChartData","finalAverage","gradeCountAveragePerMonth","doughnutChartData","finalGradesCount","barChartData","gradeCountAveragePerSubject","chart","createChart","chartData","extractMonthsData","barProperty","bar","ctx","labels","getSlicedMonths","datasets","label","backgroundColor","hoverBackgroundColor","borderColor","borderWidth","yAxisID","interaction","intersect","scales","yAxis1","position","yAxis2","ticks","callback","elements","tension","point","radius","callbacks","context","dataset","parsed","shouldParse","footer","dataIndex","gradesCountEach","annotation","annotations","scaleID","borderDash","content","getGradeCountAveragePerMonth","font","xAxis","drawTime","xMin","xMax","legend","reverse","padding","onHover","native","cursor","onLeave","updateChart","config","update","layout","top","bottom","sortByCount","sortByAverage","extractBarsData","sortChart","getGradeCountAveragePerSubject","getFinalGradesCount","LineChart","DoughnutChart","BarChart","selectedClassesId","updateSelectedClasses","openedClass","getClassInfo","calculateStats","totalGradesCountEach","gradeCountPerSubject","gradeCountMonthlyAveragePerYear","gradeCountEachPerMonth","gradeCountPerMonth","fill","f","sameSubject","gradesSum","average","removeTrailingZeros","finalGradesSum","pop","Stats","allClassesToggled","toggleAllClasses","selectedClassesUrl","classClicked","shouldUserWait","infoTooltip","some","activeFrames","activeFrame","iframeLoaded","iframeError","frames","loomen","changeFrame","site","website","showFrame","frame","for","checked","globalSettings","updateGlobalSetting","routes","component","Login","redirect","Class","Subjects","Subject","ClassStats","GlobalStats","Websites","Settings","router","history","beforeEach","next","isAuthenticated","devPause","res","offset","instantMove","register","defaults","maintainAspectRatio","footerFont","weight","footerMarginTop","footerAlign","app","App","globalProperties","mitt","use","mount"],"mappings":"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","file":"js/app.dc01c6bf.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=1&id=4157b3ab&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Main.vue?vue&type=style&index=0&id=7b588cc0&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./User.vue?vue&type=style&index=0&id=6c17f853&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Navbar.vue?vue&type=style&index=0&id=3e801767&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SubjectsSummary.vue?vue&type=style&index=0&id=56e9793b&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Spinner.vue?vue&type=style&index=0&id=35e9765f&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Settings.vue?vue&type=style&index=0&id=868191a2&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/logo.327dec23.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=4157b3ab&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Stats.vue?vue&type=style&index=0&id=26980fc4&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SubjectsCounter.vue?vue&type=style&index=0&id=3d502fe0&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Dropdown.vue?vue&type=style&index=0&id=26110f42&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ClassSectionFrame.vue?vue&type=style&index=0&id=2e8645c6&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/spinner.7a1b99ad.svg\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Subject.vue?vue&type=style&index=0&id=4ee6470c&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Class.vue?vue&type=style&index=0&id=0281b405&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavbarList.vue?vue&type=style&index=0&id=321c3007&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GlobalStats.vue?vue&type=style&index=0&id=5850037d&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Subjects.vue?vue&type=style&index=0&id=305718a2&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Websites.vue?vue&type=style&index=0&id=12778c44&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SubjectCardHead.vue?vue&type=style&index=0&id=39c1cd05&lang=scss&scoped=true\"","<template>\n  <Navbar></Navbar>\n  <Main></Main>\n  <User></User>\n</template>\n\n<script lang=\"ts\">\nimport { ActionTypes } from \"@/store/actions\";\nimport { defineComponent } from \"vue\";\nimport Navbar from \"@/components/Navbar.vue\";\nimport Main from \"@/components/Main.vue\";\nimport User from \"@/components/User.vue\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    Navbar,\n    Main,\n    User,\n  },\n  created() {\n    this.$store.dispatch(ActionTypes.INIT, undefined).then((userSignedIn) => {\n      const isLoginPage = window.location.hash == \"#/\";\n      if (userSignedIn && isLoginPage) {\n        this.$router.replace(\"/razred\");\n      } else if (!userSignedIn && !isLoginPage) {\n        this.$router.replace(\"/\");\n      }\n      this.enabledarkTheme(this.$store.state.settings.darkTheme);\n    });\n  },\n  mounted() {\n    window.onresize = () => this.$emitter.emit(\"window-resized\");\n    window.onclick = (e: MouseEvent) => {\n      const path = ((e as any).path || (e.composedPath && e.composedPath())) as\n        | HTMLElement[]\n        | false;\n      if (path) this.$emitter.emit(\"window-clicked\", path);\n    };\n  },\n  methods: {\n    enabledarkTheme(enabled: boolean) {\n      document.body.classList[enabled ? \"add\" : \"remove\"](\"theme--dark\");\n      document.body.classList[enabled ? \"remove\" : \"add\"](\"theme--default\");\n    },\n  },\n  watch: {\n    \"$store.getters.user\"(user) {\n      if (!user) this.$router.replace(\"/\");\n    },\n    \"$store.state.settings.darkTheme\"(enabled) {\n      this.enabledarkTheme(enabled);\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\">\n#app {\n  display: flex;\n  height: 100%;\n}\n</style>\n","import { State, User, ClassInfo, SubjectCache, GlobalSettings, Settings } from \"./state\";\r\nimport { MutationTree } from \"vuex\";\r\n\r\nexport enum MutationTypes {\r\n  INIT = \"INIT\",\r\n  ADD_USER = \"ADD_USER\",\r\n  UPDATE_USER_STATUS = \"UPDATE_USER_STATUS\",\r\n  UPDATE_LAST_LOADED_CLASS_URL = \"UPDATE_LAST_LOADED_CLASS_URL\",\r\n  UPDATE_CLASSES_LIST = \"UPDATE_CLASSES_LIST\",\r\n  UPDATE_CLASS_PROPERTY = \"UPDATE_CLASS_PROPERTY\",\r\n  UPDATE_CLASS_TABS_ORDER = \"UPDATE_CLASS_TABS_ORDER\",\r\n  UPDATE_SUBJECT = \"UPDATE_SUBJECT\",\r\n  UPDATE_GLOBAL_SETTING = \"UPDATE_GLOBAL_SETTING\",\r\n  UPDATE_USER_SETTINGS = \"UPDATE_USER_SETTINGS\",\r\n}\r\n\r\nexport type Mutations<S = State> = {\r\n  [MutationTypes.INIT](state: S, newState: S): void;\r\n  [MutationTypes.ADD_USER](state: S, user: User): void;\r\n  [MutationTypes.UPDATE_USER_STATUS](\r\n    state: S,\r\n    { user, status }: { user: User; status: boolean },\r\n  ): void;\r\n  [MutationTypes.UPDATE_LAST_LOADED_CLASS_URL](\r\n    state: S,\r\n    { user, url }: { user: User; url: string },\r\n  ): void;\r\n  [MutationTypes.UPDATE_CLASSES_LIST](\r\n    state: S,\r\n    { user, classesList }: { user: User; classesList: ClassInfo[] },\r\n  ): void;\r\n  [MutationTypes.UPDATE_CLASS_PROPERTY](\r\n    state: S,\r\n    {\r\n      classInfo,\r\n      property,\r\n      value,\r\n    }: { classInfo: ClassInfo; property: string; value: string },\r\n  ): void;\r\n  [MutationTypes.UPDATE_CLASS_TABS_ORDER](\r\n    state: S,\r\n    { user, tabs }: { user: User; tabs: string[] },\r\n  ): void;\r\n  [MutationTypes.UPDATE_SUBJECT](\r\n    state: S,\r\n    {\r\n      classInfo,\r\n      updatedSubject,\r\n    }: { classInfo: ClassInfo; updatedSubject: SubjectCache },\r\n  ): void;\r\n  [MutationTypes.UPDATE_GLOBAL_SETTING](\r\n    state: S,\r\n    { name, value }: { name: keyof GlobalSettings; value: boolean },\r\n  ): void;\r\n  [MutationTypes.UPDATE_USER_SETTINGS](\r\n    state: S,\r\n    { user, settings }: { user: User; settings: Partial<Settings> },\r\n  ): void;\r\n};\r\n\r\n// prettier-ignore\r\nexport const mutations: MutationTree<State> & Mutations = { // nosonar: index signature\r\n  [MutationTypes.INIT](state, newState) {\r\n    Object.assign(state, newState);\r\n  },\r\n  [MutationTypes.ADD_USER](state, user) {\r\n    state.users.push(user);\r\n  },\r\n  [MutationTypes.UPDATE_USER_STATUS](state, { user, status }) {\r\n    user.signedIn = status;\r\n  },\r\n  [MutationTypes.UPDATE_LAST_LOADED_CLASS_URL](state, { user, url }) {\r\n    user.lastLoadedClassUrl = url;\r\n  },\r\n  [MutationTypes.UPDATE_CLASSES_LIST](state, { user, classesList }) {\r\n    user.classesList = { ...user.classesList, ...classesList };\r\n    user.signedIn = true;\r\n  },\r\n  [MutationTypes.UPDATE_CLASS_PROPERTY](state, { classInfo, property, value }) {\r\n    (classInfo as any)[property] = value;\r\n  },\r\n  [MutationTypes.UPDATE_CLASS_TABS_ORDER](state, { user, tabs }) {\r\n    user.settings.classTabsOrder = tabs;\r\n  },\r\n  [MutationTypes.UPDATE_SUBJECT](state, { classInfo, updatedSubject }) {\r\n    if (!classInfo.cachedSubjects) {\r\n      classInfo.cachedSubjects = [updatedSubject];\r\n      return;\r\n    }\r\n    const cachedSubjectIdx = classInfo.cachedSubjects.findIndex(\r\n      (subject) => subject.url == updatedSubject.url,\r\n    );\r\n    if (cachedSubjectIdx == -1) {\r\n      classInfo.cachedSubjects.push(updatedSubject);\r\n      return;\r\n    }\r\n    classInfo.cachedSubjects[cachedSubjectIdx] = updatedSubject;\r\n  },\r\n  [MutationTypes.UPDATE_GLOBAL_SETTING](state, { name, value }) {\r\n    state.settings[name] = value;\r\n  },\r\n  [MutationTypes.UPDATE_USER_SETTINGS](state, { user, settings }) {\r\n    user.settings = {...user.settings, ...settings};\r\n  },\r\n};\r\n","export async function addStyleTag(\r\n  doc: Document,\r\n  darkTheme: boolean,\r\n): Promise<void> {\r\n  return new Promise((resolve) => {\r\n    const docHead = doc.getElementsByTagName(\"head\")[0];\r\n    const link = doc.createElement(\"link\");\r\n    link.rel = \"stylesheet\";\r\n    link.type = \"text/css\";\r\n    link.href = \"https://ocjene.skole.hr/build/layout.c996b0.css\";\r\n    link.onload = link.onerror = () => {\r\n      const newStyle = document.createElement(\"style\");\r\n      newStyle.textContent =\r\n        /* css */ `\r\n          html, body {\r\n            background: transparent !important;\r\n          }\r\n          * {\r\n            transition: none !important;\r\n          }\r\n          .loading-error-plus {\r\n            display: grid;\r\n            place-content: center;\r\n          }\r\n      ` +\r\n        (darkTheme\r\n          ? /* css */ `\r\n          body, * {\r\n            color: white;\r\n            border-color: #2d2d2d !important;\r\n            box-shadow: none !important;\r\n          }`\r\n          : \"\");\r\n      docHead.appendChild(newStyle);\r\n      resolve();\r\n    };\r\n    docHead.appendChild(link);\r\n  });\r\n}\r\n\r\nexport function getElText(el: Element | null): string {\r\n  return el ? (el.textContent as string).trim() : \"\";\r\n}\r\n\r\nexport function parseDoc(html: string, baseUri: string): Document {\r\n  const doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  const base = doc.createElement(\"base\");\r\n  base.href = baseUri;\r\n  doc.head.appendChild(base);\r\n  return doc;\r\n}\r\n\r\nexport function jsonClone<T>(object: T): T {\r\n  return JSON.parse(JSON.stringify(object));\r\n}\r\n\r\nexport function convertToPath(name: string): string {\r\n  return name\r\n    .toLowerCase()\r\n    .replaceAll(\" \", \"-\")\r\n    .replaceAll(\"\", \"z\")\r\n    .replaceAll(\"\", \"d\")\r\n    .replaceAll(\"\", \"s\")\r\n    .replaceAll(/|/g, \"c\");\r\n}\r\n\r\nexport function formEncodedBody(obj: Record<string, string>): string {\r\n  return Object.keys(obj)\r\n    .map((k) => encodeURIComponent(k) + \"=\" + encodeURIComponent(obj[k]))\r\n    .join(\"&\");\r\n}\r\n\r\nexport function getAverage(arr: number[]): number {\r\n  return getSum(arr) / arr.length;\r\n}\r\n\r\nexport function getSum(arr: number[], multiplyByIndex?: boolean): number {\r\n  return arr.reduce((a, b, i) => a + b * ((multiplyByIndex ? i : 0) + 1), 0);\r\n}\r\n\r\nexport function parseNum(num: string): number {\r\n  return parseFloat(num.replace(\",\", \".\"));\r\n}\r\n\r\nexport function formatNum(num: number | string): string {\r\n  if (typeof num == \"number\") {\r\n    if (isNaN(num)) return \"\";\r\n    num = num.toFixed(2).toString();\r\n  }\r\n  return num.replace(\".\", \",\");\r\n}\r\n\r\nexport function formatGradeText(num: number): string {\r\n  return [\r\n    null,\r\n    \"Nedovoljan (1)\",\r\n    \"Dovoljan (2)\",\r\n    \"Dobar (3)\",\r\n    \"Vrlo dobar (4)\",\r\n    \"Odlian (5)\",\r\n  ][num]!;\r\n}\r\n\r\nexport function capitalize(str: string) {\r\n  return str[0].toUpperCase() + str.slice(1);\r\n}\r\n\r\nexport function removeAllparentheses(str: string) {\r\n  return str.replace(/ *\\([^)]*\\) */g, \"\");\r\n}\r\n\r\nexport function numberToColorHsl(i: number, a?: number) {\r\n  const hue = (i * 1.2) / 360;\r\n  const rgb = hslToRgb(hue, 1, 0.5);\r\n  return (\r\n    \"rgb(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + (a ? a : 1) + \")\"\r\n  );\r\n}\r\n\r\nexport function getGradesColors(alpha?: number) {\r\n  let colors = [\"#FF3924\", \"#FF9600\", \"#FFE500\", \"#84FF33\", \"#2ab62a\"];\r\n  if (alpha) {\r\n    colors = colors.map((color) => {\r\n      return (\r\n        color +\r\n        Math.round(alpha * 255)\r\n          .toString(16)\r\n          .toUpperCase()\r\n      );\r\n    });\r\n  }\r\n  return colors;\r\n}\r\n\r\nexport function getSubjectColors(\r\n  grades: number[] | number[][],\r\n  gradesCount?: number,\r\n) {\r\n  const colors = getGradesColors();\r\n  let perc = 0;\r\n  let linearGradient;\r\n  if (grades.length == 5) {\r\n    grades = grades as number[];\r\n    if (grades.every((val) => !val)) return \"transparent\";\r\n    linearGradient = grades.map((val, i) => {\r\n      const toAdd = (val / (gradesCount as number)) * 100;\r\n      if (!toAdd) return \"transparent\";\r\n      const start = colors[i] + \" \" + (perc + (perc ? 1 : 0)) + \"%,\";\r\n      perc += toAdd;\r\n      return start + colors[i] + \" \" + (perc - 1) + \"%\";\r\n    });\r\n  } else {\r\n    linearGradient = (grades as number[][]).map((col) => {\r\n      const color = col.length\r\n        ? numberToColorHsl(\r\n            (col.reduce((a, b) => a + b, 0) / col.length / 5) * 100,\r\n          )\r\n        : \"transparent\";\r\n      const start = color + \" \" + (perc + (perc ? 5 : 0)) + \"%,\";\r\n      perc += 10;\r\n      return start + color + \" \" + (perc - 5) + \"%\";\r\n    });\r\n  }\r\n  return \"linear-gradient(90deg,\" + linearGradient.join(\",\") + \")\";\r\n}\r\n\r\nexport function setEndOfContenteditable(contentEditableElement: HTMLElement) {\r\n  const range = document.createRange();\r\n  range.selectNodeContents(contentEditableElement);\r\n  range.collapse(false);\r\n  const selection = window.getSelection();\r\n  if (selection) {\r\n    selection.removeAllRanges();\r\n    selection.addRange(range);\r\n  }\r\n}\r\n\r\nfunction hslToRgb(h: number, s: number, l: number) {\r\n  let r, g, b;\r\n  if (s == 0) {\r\n    r = g = b = l;\r\n  } else {\r\n    const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\r\n    const p = 2 * l - q;\r\n    r = hue2rgb(p, q, h + 1 / 3);\r\n    g = hue2rgb(p, q, h);\r\n    b = hue2rgb(p, q, h - 1 / 3);\r\n  }\r\n  return [Math.floor(r * 255), Math.floor(g * 255), Math.floor(b * 255)];\r\n}\r\n\r\nfunction hue2rgb(p: number, q: number, t: number) {\r\n  if (t < 0) t += 1;\r\n  if (t > 1) t -= 1;\r\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\r\n  if (t < 1 / 2) return q;\r\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\r\n  return p;\r\n}\r\n","// @ts-nocheck\r\n\r\n/* https://developer.chrome.com/docs/extensions/reference/storage/ */\r\nimport { State } from \"./state\";\r\nimport { jsonClone } from \"@/scripts/utils\";\r\n\r\nconst defaultState: State = {\r\n  settings: {\r\n    darkTheme: false,\r\n    appDisabled: false,\r\n    injectContent: false,\r\n    navbarCollapsed: false,\r\n  },\r\n  users: [],\r\n};\r\n\r\nfunction chromeLocalStorage(): Promise<State>;\r\nfunction chromeLocalStorage(data: State): Promise<void>;\r\nfunction chromeLocalStorage(data?: State): Promise<State | void> {\r\n  return new Promise((resolve) => {\r\n    if (window.devTestMode) return resolve(testState);\r\n    (chrome.storage.local[data ? \"set\" : \"get\"] as any)(\r\n      data ? jsonClone(data) : null,\r\n      (savedState: any) => {\r\n        if (data) resolve();\r\n        else resolve((savedState.users ? savedState : defaultState) as State);\r\n      },\r\n    );\r\n  });\r\n}\r\n\r\nexport default chromeLocalStorage;\r\n\r\n// TODO: chrome.storage.sync\r\n\r\n/* Paste testing State Object here */\r\n\r\nconst testState: State = {\r\n  settings: {\r\n    darkTheme: true,\r\n    appDisabled: false,\r\n    injectContent: false,\r\n    navbarCollapsed: false,\r\n  },\r\n  users: [\r\n    {\r\n      email: \"kristijan.rosandic@skole.hr\",\r\n      password: \"grandayyy\",\r\n      fullName: \"Kristijan Rosandi\",\r\n      classesList: [\r\n        {\r\n          url: \"https://ocjene.skole.hr/class_action/4081787930/course\",\r\n          name: \"4.C\",\r\n          year: \"2020./2021.\",\r\n          isYearCompleted: true,\r\n          school: \"Elektrotehnika kola\",\r\n          finalGrade: \"4.80\",\r\n          headTeacher: \"Martina Filipovi-Tretinjak\",\r\n          lastUpdated: 1630678926.704,\r\n          cachedSubjects: [\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37245361120\",\r\n              name: \"Hrvatski jezik\",\r\n              teachers: \"Sanja Telebar Erceg\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Knjievnost\",\r\n                  grades: [[], [4], [1, 2], [3], [], [2, 1], [], [], [3], []],\r\n                },\r\n                {\r\n                  name: \"Jezik\",\r\n                  grades: [[2], [], [4], [2], [], [], [5], [3], [], []],\r\n                },\r\n                {\r\n                  name: \"Usmeno izraavanje\",\r\n                  grades: [[], [4], [1], [], [], [], [], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"Pisano izraavanje\",\r\n                  grades: [[], [], [], [4], [], [4], [3], [3], [2], []],\r\n                },\r\n              ],\r\n              finalGrade: 3,\r\n              lastNote: {\r\n                note:\r\n                  \"Usmeni ispravak provjere proitanosti lektirnoga djela (Krlea: Gospoda Glembajevi): ocjena dovoljan\",\r\n                date: \"21.5.2021.\",\r\n                grade: \"\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37247144780\",\r\n              name: \"Engleski jezik I\",\r\n              teachers: \"Divna uri\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usmeno izraavanje\",\r\n                  grades: [[], [], [5], [5], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Pisano izraavanje\",\r\n                  grades: [[], [5], [], [], [4], [], [], [], [5, 3], []],\r\n                },\r\n                {\r\n                  name: \"Jezine zakonitosti\",\r\n                  grades: [[], [], [], [], [], [], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Sluanje i itanje s razumijevanjem\",\r\n                  grades: [[], [], [], [], [], [], [4], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Have you ever wondered?\\nThe Vikings\",\r\n                date: \"25.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37254634940\",\r\n              name: \"Tjelesna i zdravstvena kultura\",\r\n              teachers: \"Josip Kaurin\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Motorika znanja\",\r\n                  grades: [[], [], [], [], [], [], [4], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Motorika postignua\",\r\n                  grades: [[3], [], [], [], [], [], [4], [], [2], []],\r\n                },\r\n                {\r\n                  name: \"Kinantropoloka postignua\",\r\n                  grades: [[], [4], [], [4], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Odgojni uinci rada\",\r\n                  grades: [[], [5], [], [5], [], [5], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note:\r\n                  \"dolasci na nastavu, oprema, aktivnost na satu, ponaanje (3, 4 i 5 mj.)\",\r\n                date: \"17.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37278230560\",\r\n              name: \"Tehniko i poslovno komuniciranje\",\r\n              teachers: \"Martina Filipovi-Tretinjak\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost programskih sadraja\",\r\n                  grades: [[], [], [], [5], [], [], [5], [4], [], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[], [], [5, 5], [], [], [5], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [5], [], [], [], [5], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"prijedlog zakljune ocjene (5) odlian\",\r\n                date: \"17.5.2021.\",\r\n                grade: \"\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37278793130\",\r\n              name: \"Konfiguriranje raunalnih mrea i servisa\",\r\n              teachers: \"Ljubomir Mitrovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Poznavanje i razumijevanje nastavnih sadraja\",\r\n                  grades: [[], [4], [5], [], [], [5], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Praktina i kreativna primjena usvojenih nastavnih sadraja\",\r\n                  grades: [[], [], [5], [], [5], [5], [3], [5], [5], []],\r\n                },\r\n                {\r\n                  name: \"Sudjelovanje u nastavi\",\r\n                  grades: [[], [], [], [], [], [5], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"IV pismena provjera\",\r\n                date: \"14.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37281244400\",\r\n              name: \"Ugradbeni raunalni sustavi\",\r\n              teachers: \"Mario Tretinjak\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost programskih sadraja\",\r\n                  grades: [[], [5], [], [], [], [], [5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Sudjelovanje u nastavnom procesu\",\r\n                  grades: [[5], [], [], [], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[], [5], [], [], [], [], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Dokumentacija projektnoga zadatka za Inovu\",\r\n                date: \"18.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37283505790\",\r\n              name: \"Skriptni jezici i web programiranje\",\r\n              teachers: \"Dunja Tomljenovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost programskih sadraja\",\r\n                  grades: [[], [], [5], [5], [], [], [5], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[], [], [5], [5], [], [], [5], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"Sudjelovanje u nastavnom procesu\",\r\n                  grades: [\r\n                    [5, 5],\r\n                    [],\r\n                    [5, 5, 5],\r\n                    [5],\r\n                    [],\r\n                    [5, 5],\r\n                    [],\r\n                    [],\r\n                    [],\r\n                    [],\r\n                  ],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Projektni zadatak: JS Browser BOM\",\r\n                date: \"21.4.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37292884650\",\r\n              name: \"Primijenjena  matematika (izborni)\",\r\n              teachers: \"Biljana Kuhar\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost programskih sadraja\",\r\n                  grades: [[5], [], [3], [], [], [], [], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[], [], [3], [], [], [], [], [], [5, 5], []],\r\n                },\r\n                {\r\n                  name: \"Sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [], [5], [], [5], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Polarni sustav, krivulje (5)\\nDesmos\",\r\n                date: \"21.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37306283310\",\r\n              name: \"Napredno i objektno programiranje (izborni)\",\r\n              teachers: \"Matea Muek\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost programskih sadraja\",\r\n                  grades: [[], [], [5], [5], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[5], [], [5], [5, 5], [], [5], [], [], [3], []],\r\n                },\r\n                {\r\n                  name: \"Sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [], [5], [], [], [5, 5], [], [3, 1], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Projektni zadatak Knjinica\",\r\n                date: \"24.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37312462490\",\r\n              name: \"Multimedija (izborni)\",\r\n              teachers: \"Danijel Eskerii\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost programskih sadraja\",\r\n                  grades: [[], [], [], [5], [], [], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[], [], [5], [], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [], [5, 5], [], [], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"Zavrni projekt - 06:34 min; montaa vlastitog video zapisa, Filmora\",\r\n                date: \"17.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37335797530\",\r\n              name: \"Sat razrednika\",\r\n              teachers: \"Martina Filipovi-Tretinjak\",\r\n              gradesByCategory: [],\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37262740190\",\r\n              name: \"Vjeronauk (izborni)\",\r\n              teachers: \"Ivan Banoi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Aktivnost - zalaganje\",\r\n                  grades: [[], [5], [], [4], [5], [5], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Znanje\",\r\n                  grades: [[], [], [], [], [], [], [], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"Kultura komuniciranja\",\r\n                  grades: [[], [5], [], [], [5], [], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Stvaralako izraavanje\",\r\n                  grades: [[], [], [], [], [5], [], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Komunikacija\",\r\n                date: \"21.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/43282560370\",\r\n              name: \"Multimedija (dopunska nastava)\",\r\n              teachers: \"Danijel Eskerii\",\r\n              gradesByCategory: [],\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/43303819860\",\r\n              name: \"Matematika (dodatna nastava)\",\r\n              teachers: \"Biljana Kuhar\",\r\n              gradesByCategory: [],\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37279324390\",\r\n              name: \"Sigurnost informacijskih sustava\",\r\n              teachers: \"Romana Bogut\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost programskih sadraja\",\r\n                  grades: [[], [5, 5], [5], [5], [], [5], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[5], [], [5], [5], [], [5], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [], [], [], [], [5], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Sigurnosne politike\",\r\n                date: \"14.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/43432125210\",\r\n              name: \"Sigurnost informacijskih sustava (dodatna nastava)\",\r\n              teachers: \"Romana Bogut\",\r\n              gradesByCategory: [],\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/43125138740\",\r\n              name: \"Politika i gospodarstvo (dodatna nastava)\",\r\n              teachers: \"Ana utalo Bari\",\r\n              gradesByCategory: [],\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37252423040\",\r\n              name: \"Politika i gospodarstvo\",\r\n              teachers: \"Ana utalo Bari\",\r\n              gradesByCategory: [\r\n                {\r\n                  name:\r\n                    \"001. usvojenost temeljnih koncepata politike i ekonomske pismenosti\",\r\n                  grades: [[], [], [4], [], [], [5], [5], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"002. vjetina primjene nauenih koncepata\",\r\n                  grades: [[], [5], [], [5], [], [], [], [5], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"2. Pisana provjera znanja - Gospodarstvo\\nBodovi:  26/30\",\r\n                date: \"4.5.2021.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37272652330\",\r\n              name: \"Matematika\",\r\n              teachers: \"Biljana Kuhar\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost nastavnih sadraja\",\r\n                  grades: [[], [], [5, 5], [], [5], [], [4], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[], [], [4], [], [], [3], [3], [], [2], []],\r\n                },\r\n                {\r\n                  name: \"Ostali oblici praenja\",\r\n                  grades: [[], [], [], [5], [], [], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"Ueniku je zakljuena ocjena odlian zbog cjelogodinjeg rada na nastavi i izvan nastave.\",\r\n                date: \"24.5.2021.\",\r\n                grade: \"\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37273226010\",\r\n              name: \"Fizika\",\r\n              teachers: \"Ljiljana Prevendar\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost gradiva\",\r\n                  grades: [[], [5], [], [], [5], [], [5], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[], [5], [], [], [5], [], [5], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"Samostalni rad\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"5\",\r\n                date: \"19.5.2021.\",\r\n                grade: \"\",\r\n              },\r\n              lastUpdated: 1630678926.704,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          url: \"https://ocjene.skole.hr/class_action/3149535710/course\",\r\n          name: \"3.C\",\r\n          year: \"2019./2020.\",\r\n          isYearCompleted: true,\r\n          school: \"Elektrotehnika kola\",\r\n          finalGrade: \"4.87\",\r\n          headTeacher: \"Martina Filipovi-Tretinjak\",\r\n          lastUpdated: 1630679056.658,\r\n          cachedSubjects: [\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116440950\",\r\n              name: \"Hrvatski jezik\",\r\n              teachers: \"Marija alui\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Hrvatski jezik\",\r\n                  grades: [[], [5], [], [1], [], [3], [], [3], [5], []],\r\n                },\r\n                {\r\n                  name: \"Knjievnost\",\r\n                  grades: [[], [], [4], [4], [], [], [], [4], [], [4]],\r\n                },\r\n                {\r\n                  name: \"Lektira\",\r\n                  grades: [[], [4], [2], [], [4], [3], [1], [3], [], []],\r\n                },\r\n                {\r\n                  name: \"Jezino izraavanje i stvaranje - usmeno\",\r\n                  grades: [[], [], [4], [4], [], [5], [3], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Jezino izraavanje i stvaranje - pisano\",\r\n                  grades: [[], [3], [4, 4], [], [3], [], [5, 5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Medijska kultura\",\r\n                  grades: [[], [], [3], [3], [], [], [4], [3], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note: \"Knjievnoteorijski pojmovi\",\r\n                date: \"1.6.2017.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116439940\",\r\n              name: \"Likovna kultura\",\r\n              teachers: \"Jelena Kovre\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Izraavanje crteom\",\r\n                  grades: [[], [5], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Koloristiko i tonsko izraavanje\",\r\n                  grades: [[], [5], [5], [5], [], [5], [5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Trodimenzionalno oblikovanje\",\r\n                  grades: [[], [], [], [], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Grafiko izraavanje\",\r\n                  grades: [[], [], [], [5], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Razumijevanje i vrednovanje osnovnih odnosa u umjetnikom djelu\",\r\n                  grades: [[], [5], [5], [], [], [5, 5], [5], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Kompozicija linearnih tekstura\",\r\n                date: \"8.5.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116435900\",\r\n              name: \"Kemija\",\r\n              teachers: \"Velimir Kljaji\",\r\n              gradesByCategory: [\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - usmeno\",\r\n                  grades: [[], [3], [], [2], [], [], [2], [], [3], []],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - pisano\",\r\n                  grades: [[], [], [2], [4], [], [], [4], [1], [], []],\r\n                },\r\n                {\r\n                  name: \"Praktini radovi\",\r\n                  grades: [[], [4], [3], [4], [], [3], [], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"Rjeavanje problema\",\r\n                  grades: [[], [], [2], [2], [], [], [2], [1], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 3,\r\n              lastNote: {\r\n                note: \"Bioloki vani spojevi\",\r\n                date: \"31.5.2017.\",\r\n                grade: \"3\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116434890\",\r\n              name: \"Fizika\",\r\n              teachers: \"eljka Kaar\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost programskih sadraja\",\r\n                  grades: [[], [5], [], [5], [5], [], [5, 4], [5], [5], [5]],\r\n                },\r\n                {\r\n                  name: \"Praktini radovi\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja i vjetine\",\r\n                  grades: [[], [5], [], [5], [], [], [2], [5], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Svjetlost - pokazuje razumijevanje usvojenoga gradiva.\",\r\n                date: \"2.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116433880\",\r\n              name: \"Povijest\",\r\n              teachers: \"Marija Peni\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost osnovnih podataka\",\r\n                  grades: [[], [3], [2], [], [3], [4], [3], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"Uoavanje uzrono-posljedinih veza\",\r\n                  grades: [[], [], [], [], [5], [4], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Snalaenje u vremenu i prostoru\",\r\n                  grades: [[], [], [], [], [5], [], [5], [], [1], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note: \"Dekolonizacija i hladni rat\",\r\n                date: \"9.5.2017.\",\r\n                grade: \"1\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116432870\",\r\n              name: \"Geografija\",\r\n              teachers: \"Marija Peni\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost znanja\",\r\n                  grades: [[], [4], [4], [3], [], [], [4], [4], [4], []],\r\n                },\r\n                {\r\n                  name: \"Uoavanje pojava i procesa\",\r\n                  grades: [[], [], [5], [], [], [], [4], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"Uporaba zemljovida\",\r\n                  grades: [[], [5], [], [2], [], [], [3], [4], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note: \"Nauio s razumijevanjem\",\r\n                date: \"9.5.2017.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116431860\",\r\n              name: \"Tehnika kultura\",\r\n              teachers:\r\n                \"Goran Pintari,       \\n\\t\\t\\t\\t   \\t\\t\\t    \\t\\n\\t\\t\\t\\t   \\t\\t\\t   \\t \\tDinko Nadih\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost sadraja\",\r\n                  grades: [[], [], [5], [], [], [], [], [4], [5], []],\r\n                },\r\n                {\r\n                  name: \"Radne navike i vjetine\",\r\n                  grades: [[4], [], [5], [5], [], [4], [4], [5], [5], []],\r\n                },\r\n                {\r\n                  name: \"Aktivnost i odnos prema radu\",\r\n                  grades: [[], [], [], [5], [], [], [], [5], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Princip rada elektromotora\",\r\n                date: \"29.5.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116430850\",\r\n              name: \"Tjelesna i zdravstvena kultura\",\r\n              teachers: \"Marin Ratkovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Motorika znanja\",\r\n                  grades: [[], [5], [4], [5], [], [5], [5], [2], [5], [5]],\r\n                },\r\n                {\r\n                  name: \"Motorika dostignua\",\r\n                  grades: [[], [], [5], [5], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Motorike sposobnosti\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Funkcionalne sposobnosti\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Odgojni uinci rada\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"\",\r\n                date: \"1.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/11473189100\",\r\n              name: \"Vjeronauk (izborni)\",\r\n              teachers: \"Ljiljana Jelavi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"0.1. usvojenost nastavnih sadraja / znanje\",\r\n                  grades: [[], [], [4], [], [], [], [4], [], [3], []],\r\n                },\r\n                {\r\n                  name: \"0.1. stvaralako izraavanje\",\r\n                  grades: [[], [5], [], [5], [], [], [4], [], [], []],\r\n                },\r\n                {\r\n                  name: \"0.1 aktivnosti i zalaganje\",\r\n                  grades: [[], [2], [], [4], [], [4], [], [4], [], []],\r\n                },\r\n                {\r\n                  name: \"0.1 kultura meuosobne komunikacije\",\r\n                  grades: [[], [], [4], [], [], [4], [], [], [], [4]],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note: \"Pristojan u ponaanju i odnosu prema drugima.\",\r\n                date: \"7.6.2017.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/11481364040\",\r\n              name: \"Informatika (izborni)\",\r\n              teachers: \"Jadranka Horvat\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost sadraja\",\r\n                  grades: [[], [], [5], [5], [], [], [4], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[], [5], [], [], [], [5], [], [5], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Matrica, hiperveze - zadatak\",\r\n                date: \"30.5.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/11488477470\",\r\n              name: \"Sat razrednika\",\r\n              teachers: \"Jelena Kovre\",\r\n              gradesByCategory: [],\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/11481361010\",\r\n              name: \"Engleski jezik I\",\r\n              teachers: \"Jelena Martinovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Razumijevanje\",\r\n                  grades: [[], [5], [4], [4], [], [3], [4], [], [5], [5]],\r\n                },\r\n                {\r\n                  name: \"Govorne sposobnosti\",\r\n                  grades: [[], [5], [4], [], [], [5], [], [5], [], [5]],\r\n                },\r\n                {\r\n                  name: \"Sposobnost pisanog izraavanja\",\r\n                  grades: [[], [], [], [4], [], [], [5, 5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Jezine zakonitosti\",\r\n                  grades: [[], [5], [], [3], [], [3], [3], [], [5], [5]],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Test - tenses, reported speech, passive voice\",\r\n                date: \"12.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116438930\",\r\n              name: \"Glazbena kultura\",\r\n              teachers: \"Nikola Novosel\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Pjevanje i sviranje\",\r\n                  grades: [[], [], [], [], [], [5], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Intonacija, ritam i glazbeno pismo\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Osnove glazbene umjetnosti\",\r\n                  grades: [[], [], [], [3], [], [], [5], [], [1], [2]],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note:\r\n                  \"Glazbeni stilovi.\\nNije uio.Ne poznaje gradivo.Tek tu i tamo neki pojam i to otprilike.\",\r\n                date: \"12.6.2017.\",\r\n                grade: \"2\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116437920\",\r\n              name: \"Matematika\",\r\n              teachers: \"Ivana pori\",\r\n              gradesByCategory: [\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - usmeno\",\r\n                  grades: [[], [], [4], [], [], [5], [], [], [], [5]],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - pisano\",\r\n                  grades: [[], [], [4], [5], [], [5, 4], [5], [], [4], [5]],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - domai uradak\",\r\n                  grades: [[], [], [], [], [5], [], [5], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Analiza 6. ispita znanja - Preslikavanja ravnine\",\r\n                date: \"12.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116436910\",\r\n              name: \"Biologija\",\r\n              teachers: \"Velimir Kljaji\",\r\n              gradesByCategory: [\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - usmeno\",\r\n                  grades: [[5], [], [], [5], [], [5], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - pisano\",\r\n                  grades: [[], [], [4], [4], [], [3], [], [], [], [4]],\r\n                },\r\n                {\r\n                  name: \"Praktini radovi\",\r\n                  grades: [[], [3], [], [5], [], [5], [], [], [5], [5]],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Radna biljenica\",\r\n                date: \"8.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.658,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          url: \"https://ocjene.skole.hr/class_action/2115037150/course\",\r\n          name: \"2.C\",\r\n          year: \"2018./2019.\",\r\n          isYearCompleted: true,\r\n          school: \"TEHNIKA KOLA\",\r\n          finalGrade: \"4.71\",\r\n          headTeacher: \"Boica  Rajkovi\",\r\n          lastUpdated: 1630679106.563,\r\n          cachedSubjects: [\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22700607660\",\r\n              name: \"Fizika\",\r\n              teachers: \"Slavica Bernatovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name:\r\n                    \"Usvojenost nastavnih sadraja - usvojenost i razumijevanje nastavnih sadraja i fizikalnih zakonitosti, praenjem i vrednovanjem uenikovih aktivnosti, znanja i spoznaja.\",\r\n                  grades: [[5], [5, 4], [], [], [5], [], [4, 5], [], [5], []],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Primjena fizikalnih zakonitosti - primjena i razumijevanje fizikalnih zakonitosti, preko pisanih uradaka i eksperimentalnih istraivanja.\",\r\n                  grades: [[], [4], [], [3], [], [4], [4], [4], [4], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"16.5. Uenik je danas odsutan.\\nPriprava za pisanu provjeru.\",\r\n                date: \"16.5.2019.\",\r\n                grade: \"\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22709623930\",\r\n              name: \"Engleski jezik I\",\r\n              teachers: \"Mihaela Majeti Stefanovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Govor i razumijevanje\",\r\n                  grades: [[], [], [], [5], [], [3, 5], [5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Pismeno izraavanje\",\r\n                  grades: [[], [5, 5], [], [], [], [], [4], [5], [4], []],\r\n                },\r\n                {\r\n                  name: \"Jezine zakonitosti\",\r\n                  grades: [[], [4], [], [5], [], [4], [5], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"Discoursive essay: Teachers and students should be friends on social networks\",\r\n                date: \"29.5.2019.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22722467090\",\r\n              name: \"Povijest\",\r\n              teachers: \"Manda Degmei\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost sadraja\",\r\n                  grades: [\r\n                    [],\r\n                    [4],\r\n                    [1],\r\n                    [],\r\n                    [],\r\n                    [1],\r\n                    [],\r\n                    [1],\r\n                    [3, 1, 4],\r\n                    [2, 5],\r\n                  ],\r\n                },\r\n                {\r\n                  name: \"011 samostalni rad\",\r\n                  grades: [[], [], [], [5], [], [5], [4], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 3,\r\n              lastNote: {\r\n                note: \"Usmeni odgovor\",\r\n                date: \"2.10.2018.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22702812490\",\r\n              name: \"Matematika\",\r\n              teachers: \"Marija Lopac\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"011. usvojenost nastavnih sadraja\",\r\n                  grades: [\r\n                    [],\r\n                    [5, 5],\r\n                    [5],\r\n                    [5],\r\n                    [],\r\n                    [5, 5],\r\n                    [],\r\n                    [5],\r\n                    [5, 5, 5],\r\n                    [5],\r\n                  ],\r\n                },\r\n                {\r\n                  name: \"011 primjena znanja\",\r\n                  grades: [[], [5], [], [5], [], [5], [], [5], [], [5]],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"poliedri\",\r\n                date: \"6.6.2019.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22725836450\",\r\n              name: \"Tehnika mehanika\",\r\n              teachers: \"Boica  Rajkovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"01  usvojenost programskih sadraja\",\r\n                  grades: [\r\n                    [],\r\n                    [2, 5],\r\n                    [],\r\n                    [4],\r\n                    [3],\r\n                    [],\r\n                    [3, 5],\r\n                    [],\r\n                    [2, 5],\r\n                    [],\r\n                  ],\r\n                },\r\n                {\r\n                  name: \"Primjena sadraja\",\r\n                  grades: [[], [], [], [], [], [2], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Suradnja u nastavnom procesu\",\r\n                  grades: [[], [], [], [], [1], [], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note:\r\n                  \"4. pisana provjera znanja : Naprezanje na savijanje, naprezanje na uvijanje, naprezanje pri izvijanju 11/22\",\r\n                date: \"10.5.2019.\",\r\n                grade: \"2\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22729179550\",\r\n              name: \"Tehniki materijali\",\r\n              teachers: \"Mato Galovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"001 usvojenost programskih sadraja\",\r\n                  grades: [[], [], [], [5], [], [], [5], [], [5], [5]],\r\n                },\r\n                {\r\n                  name: \"001 primjena sadraja\",\r\n                  grades: [[], [], [4], [], [], [], [], [5], [5], []],\r\n                },\r\n                {\r\n                  name: \"003 suradnja u nastavnom procesu\",\r\n                  grades: [[], [], [], [5], [], [5], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Usmena provjera znanja - ispitivanje tvrdoe\",\r\n                date: \"11.6.2019.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22731134910\",\r\n              name: \"Tehniko crtanje\",\r\n              teachers: \"Tatjana oronda\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost sadraja\",\r\n                  grades: [[], [], [], [5], [], [], [], [5], [], [5]],\r\n                },\r\n                {\r\n                  name: \"Primjena sadraja\",\r\n                  grades: [[5], [5], [], [], [5, 5], [], [5, 5], [], [3], [5]],\r\n                },\r\n                {\r\n                  name: \"Suradnja u nastavnom procesu\",\r\n                  grades: [[], [], [], [4], [], [], [], [], [4], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Crtanje dijelova sklopa ventila\",\r\n                date: \"4.6.2019.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22732302470\",\r\n              name: \"Strojarske tehnologije\",\r\n              teachers: \"Marko Starevi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"011. razumijevanje/usvojenost sadraj\",\r\n                  grades: [[], [], [5], [], [], [], [5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"011. primjena nastavnih sadraja\",\r\n                  grades: [[], [5], [], [], [], [], [], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"02. suradnja u nastavnom procesu\",\r\n                  grades: [[], [], [5], [], [5], [], [5], [], [5], [5]],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Predmet V2\",\r\n                date: \"13.6.2019.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22743985140\",\r\n              name: \"Raunalstvo\",\r\n              teachers: \"Zvjezdana Doli\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost i razumijevanje sadraja i aktivnost\",\r\n                  grades: [[], [3], [5], [], [4], [4], [], [5], [], [5]],\r\n                },\r\n                {\r\n                  name: \"001 primjena znanja\",\r\n                  grades: [[], [5], [5], [5], [5], [5], [], [], [4], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Struktura prezentacije i prezentiranje\",\r\n                date: \"3.6.2019.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/23833004510\",\r\n              name: \"Sat razrednika\",\r\n              teachers: \"Boica  Rajkovi\",\r\n              gradesByCategory: [],\r\n              lastNote: {\r\n                note:\r\n                  \"4. Roditeljski sastanak 13.05.2019. (ponedjeljak) u 16.40 h u Strojarskom praktikumu\",\r\n                date: \"7.5.2019.\",\r\n                grade: \"\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22714727460\",\r\n              name: \"Hrvatski jezik\",\r\n              teachers: \"Boica Sedli\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"01 knjievnost\",\r\n                  grades: [\r\n                    [4],\r\n                    [],\r\n                    [5],\r\n                    [],\r\n                    [],\r\n                    [4, 5],\r\n                    [4],\r\n                    [2, 3],\r\n                    [4, 5, 5],\r\n                    [5],\r\n                  ],\r\n                },\r\n                {\r\n                  name: \"Jezik\",\r\n                  grades: [[], [], [5], [], [], [4], [5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"001. jezino izraavanje\",\r\n                  grades: [[5], [4], [], [4], [], [], [4], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Knjievnost romantizma\",\r\n                date: \"12.6.2019.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22720479410\",\r\n              name: \"Geografija\",\r\n              teachers: \"Hrvoje Ivani\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost znanja\",\r\n                  grades: [[], [5], [], [], [], [3], [], [], [3], []],\r\n                },\r\n                {\r\n                  name: \"Geografske vjetine\",\r\n                  grades: [[], [5], [], [], [], [], [5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Uporaba zemljovida\",\r\n                  grades: [[], [4], [], [], [], [3], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note: \"Naselja i oblici naseljenosti, prirodno kretanje stan.\",\r\n                date: \"29.5.2019.\",\r\n                grade: \"3\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22724423460\",\r\n              name: \"Elementi strojeva\",\r\n              teachers: \"Goran iki\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"011 razumijevanje / usvojenost sadraja\",\r\n                  grades: [[], [], [5], [], [], [], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"011. primjena nastavnih sadraja\",\r\n                  grades: [[], [5], [], [5], [], [5], [5], [5], [5], [4, 5]],\r\n                },\r\n                {\r\n                  name: \"02 suradnja u nastavnom procesu\",\r\n                  grades: [[], [5], [], [], [], [], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"Umna mapa- Finomehaniki elementi strojeva- izrada i prezentiranje\",\r\n                date: \"7.6.2019.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22716611110\",\r\n              name: \"Tjelesna i zdravstvena kultura\",\r\n              teachers: \"Ivan Bili\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Motorika znanja\",\r\n                  grades: [[], [], [], [5, 5], [], [], [], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"Motorika postignua\",\r\n                  grades: [[], [], [], [5], [], [5], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Kinantropoloka postignua\",\r\n                  grades: [[3], [5], [], [], [], [], [], [], [], [3]],\r\n                },\r\n                {\r\n                  name: \"Odgojni uinci\",\r\n                  grades: [[], [5], [5], [], [], [5], [], [5], [], [5]],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Odgojni uinci ( 5. i 6. mjesec)\",\r\n                date: \"12.6.2019.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/22718042280\",\r\n              name: \"Vjeronauk\",\r\n              teachers: \"Andrea Rai\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Znanje\",\r\n                  grades: [[], [], [], [4], [], [], [], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"Zlaganje\",\r\n                  grades: [[], [], [], [5], [], [], [], [], [5], [5]],\r\n                },\r\n                {\r\n                  name: \"Kultura meusobne komunikacije\",\r\n                  grades: [[], [], [5], [], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Stvaralako izraavanje\",\r\n                  grades: [[], [4], [], [], [], [4], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Biljenica+\",\r\n                date: \"4.6.2019.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679106.563,\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          url: \"https://ocjene.skole.hr/class_action/940995980/course\",\r\n          name: \"8.b\",\r\n          year: \"2016./2017.\",\r\n          isYearCompleted: true,\r\n          school: 'Osnovna kola \"Antun Mihanovi\" Slavonski Brod',\r\n          finalGrade: \"4.50\",\r\n          headTeacher: \"Jelena Kovre\",\r\n          lastUpdated: 1630679056.659,\r\n          cachedSubjects: [\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116440950\",\r\n              name: \"Hrvatski jezik\",\r\n              teachers: \"Marija alui\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Hrvatski jezik\",\r\n                  grades: [[], [5], [], [1], [], [3], [], [3], [5], []],\r\n                },\r\n                {\r\n                  name: \"Knjievnost\",\r\n                  grades: [[], [], [4], [4], [], [], [], [4], [], [4]],\r\n                },\r\n                {\r\n                  name: \"Lektira\",\r\n                  grades: [[], [4], [2], [], [4], [3], [1], [3], [], []],\r\n                },\r\n                {\r\n                  name: \"Jezino izraavanje i stvaranje - usmeno\",\r\n                  grades: [[], [], [4], [4], [], [5], [3], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Jezino izraavanje i stvaranje - pisano\",\r\n                  grades: [[], [3], [4, 4], [], [3], [], [5, 5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Medijska kultura\",\r\n                  grades: [[], [], [3], [3], [], [], [4], [3], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note: \"Knjievnoteorijski pojmovi\",\r\n                date: \"1.6.2017.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116439940\",\r\n              name: \"Likovna kultura\",\r\n              teachers: \"Jelena Kovre\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Izraavanje crteom\",\r\n                  grades: [[], [5], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Koloristiko i tonsko izraavanje\",\r\n                  grades: [[], [5], [5], [5], [], [5], [5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Trodimenzionalno oblikovanje\",\r\n                  grades: [[], [], [], [], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Grafiko izraavanje\",\r\n                  grades: [[], [], [], [5], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Razumijevanje i vrednovanje osnovnih odnosa u umjetnikom djelu\",\r\n                  grades: [[], [5], [5], [], [], [5, 5], [5], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Kompozicija linearnih tekstura\",\r\n                date: \"8.5.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116434890\",\r\n              name: \"Fizika\",\r\n              teachers: \"eljka Kaar\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost programskih sadraja\",\r\n                  grades: [[], [5], [], [5], [5], [], [5, 4], [5], [5], [5]],\r\n                },\r\n                {\r\n                  name: \"Praktini radovi\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja i vjetine\",\r\n                  grades: [[], [5], [], [5], [], [], [2], [5], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Svjetlost - pokazuje razumijevanje usvojenoga gradiva.\",\r\n                date: \"2.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116433880\",\r\n              name: \"Povijest\",\r\n              teachers: \"Marija Peni\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost osnovnih podataka\",\r\n                  grades: [[], [3], [2], [], [3], [4], [3], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"Uoavanje uzrono-posljedinih veza\",\r\n                  grades: [[], [], [], [], [5], [4], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Snalaenje u vremenu i prostoru\",\r\n                  grades: [[], [], [], [], [5], [], [5], [], [1], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note: \"Dekolonizacija i hladni rat\",\r\n                date: \"9.5.2017.\",\r\n                grade: \"1\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116432870\",\r\n              name: \"Geografija\",\r\n              teachers: \"Marija Peni\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost znanja\",\r\n                  grades: [[], [4], [4], [3], [], [], [4], [4], [4], []],\r\n                },\r\n                {\r\n                  name: \"Uoavanje pojava i procesa\",\r\n                  grades: [[], [], [5], [], [], [], [4], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"Uporaba zemljovida\",\r\n                  grades: [[], [5], [], [2], [], [], [3], [4], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note: \"Nauio s razumijevanjem\",\r\n                date: \"9.5.2017.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116431860\",\r\n              name: \"Tehnika kultura\",\r\n              teachers: \"Dinko Nadih\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost sadraja\",\r\n                  grades: [[], [], [5], [], [], [], [], [4], [5], []],\r\n                },\r\n                {\r\n                  name: \"Radne navike i vjetine\",\r\n                  grades: [[4], [], [5], [5], [], [4], [4], [5], [5], []],\r\n                },\r\n                {\r\n                  name: \"Aktivnost i odnos prema radu\",\r\n                  grades: [[], [], [], [5], [], [], [], [5], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Princip rada elektromotora\",\r\n                date: \"29.5.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116430850\",\r\n              name: \"Tjelesna i zdravstvena kultura\",\r\n              teachers: \"Marin Ratkovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Motorika znanja\",\r\n                  grades: [[], [5], [4], [5], [], [5], [5], [2], [5], [5]],\r\n                },\r\n                {\r\n                  name: \"Motorika dostignua\",\r\n                  grades: [[], [], [5], [5], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Motorike sposobnosti\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Funkcionalne sposobnosti\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Odgojni uinci rada\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"\",\r\n                date: \"1.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/11473189100\",\r\n              name: \"Vjeronauk (izborni)\",\r\n              teachers: \"Ljiljana Jelavi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"0.1. usvojenost nastavnih sadraja / znanje\",\r\n                  grades: [[], [], [4], [], [], [], [4], [], [3], []],\r\n                },\r\n                {\r\n                  name: \"0.1. stvaralako izraavanje\",\r\n                  grades: [[], [5], [], [5], [], [], [4], [], [], []],\r\n                },\r\n                {\r\n                  name: \"0.1 aktivnosti i zalaganje\",\r\n                  grades: [[], [2], [], [4], [], [4], [], [4], [], []],\r\n                },\r\n                {\r\n                  name: \"0.1 kultura meuosobne komunikacije\",\r\n                  grades: [[], [], [4], [], [], [4], [], [], [], [4]],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note: \"Pristojan u ponaanju i odnosu prema drugima.\",\r\n                date: \"7.6.2017.\",\r\n                grade: \"4\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/11481364040\",\r\n              name: \"Informatika (izborni)\",\r\n              teachers: \"Jadranka Horvat\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Usvojenost sadraja\",\r\n                  grades: [[], [], [5], [5], [], [], [4], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Primjena znanja\",\r\n                  grades: [[], [5], [], [], [], [5], [], [5], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Matrica, hiperveze - zadatak\",\r\n                date: \"30.5.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/11488477470\",\r\n              name: \"Sat razrednika\",\r\n              teachers: \"Jelena Kovre\",\r\n              gradesByCategory: [],\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116435900\",\r\n              name: \"Kemija\",\r\n              teachers: \"Velimir Kljaji\",\r\n              gradesByCategory: [\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - usmeno\",\r\n                  grades: [[], [3], [], [2], [], [], [2], [], [3], []],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - pisano\",\r\n                  grades: [[], [], [2], [4], [], [], [4], [1], [], []],\r\n                },\r\n                {\r\n                  name: \"Praktini radovi\",\r\n                  grades: [[], [4], [3], [4], [], [3], [], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"Rjeavanje problema\",\r\n                  grades: [[], [], [2], [2], [], [], [2], [1], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 3,\r\n              lastNote: {\r\n                note: \"Bioloki vani spojevi\",\r\n                date: \"31.5.2017.\",\r\n                grade: \"3\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/11481361010\",\r\n              name: \"Engleski jezik I\",\r\n              teachers: \"Jelena Martinovi\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Razumijevanje\",\r\n                  grades: [[], [5], [4], [4], [], [3], [4], [], [5], [5]],\r\n                },\r\n                {\r\n                  name: \"Govorne sposobnosti\",\r\n                  grades: [[], [5], [4], [], [], [5], [], [5], [], [5]],\r\n                },\r\n                {\r\n                  name: \"Sposobnost pisanog izraavanja\",\r\n                  grades: [[], [], [], [4], [], [], [5, 5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Jezine zakonitosti\",\r\n                  grades: [[], [5], [], [3], [], [3], [3], [], [5], [5]],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Test - tenses, reported speech, passive voice\",\r\n                date: \"12.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116438930\",\r\n              name: \"Glazbena kultura\",\r\n              teachers: \"Nikola Novosel\",\r\n              gradesByCategory: [\r\n                {\r\n                  name: \"Pjevanje i sviranje\",\r\n                  grades: [[], [], [], [], [], [5], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"Intonacija, ritam i glazbeno pismo\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"Osnove glazbene umjetnosti\",\r\n                  grades: [[], [], [], [3], [], [], [5], [], [1], [2]],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note:\r\n                  \"Glazbeni stilovi.\\nNije uio.Ne poznaje gradivo.Tek tu i tamo neki pojam i to otprilike.\",\r\n                date: \"12.6.2017.\",\r\n                grade: \"2\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116437920\",\r\n              name: \"Matematika\",\r\n              teachers: \"Ivana pori\",\r\n              gradesByCategory: [\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - usmeno\",\r\n                  grades: [[], [], [4], [], [], [5], [], [], [], [5]],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - pisano\",\r\n                  grades: [[], [], [4], [5], [], [5, 4], [5], [], [4], [5]],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - domai uradak\",\r\n                  grades: [[], [], [], [], [5], [], [5], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Analiza 6. ispita znanja - Preslikavanja ravnine\",\r\n                date: \"12.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/10116436910\",\r\n              name: \"Biologija\",\r\n              teachers: \"Velimir Kljaji\",\r\n              gradesByCategory: [\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - usmeno\",\r\n                  grades: [[5], [], [], [5], [], [5], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name:\r\n                    \"Usvojenost, razumijevanje i primjena programskih sadraja - pisano\",\r\n                  grades: [[], [], [4], [4], [], [3], [], [], [], [4]],\r\n                },\r\n                {\r\n                  name: \"Praktini radovi\",\r\n                  grades: [[], [3], [], [5], [], [5], [], [], [5], [5]],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Radna biljenica\",\r\n                date: \"8.6.2017.\",\r\n                grade: \"5\",\r\n              },\r\n              lastUpdated: 1630679056.659,\r\n            },\r\n          ],\r\n        },\r\n      ],\r\n      signedIn: true,\r\n      settings: {\r\n        classTabsOrder: [\r\n          \"Ocjene\",\r\n          \"Biljeske\",\r\n          \"Ispiti\",\r\n          \"Izostanci\",\r\n          \"Vladanja\",\r\n          \"Raspored\",\r\n          \"Statistika\",\r\n        ],\r\n        subjectsSettings: {\r\n          zoom: 2,\r\n          expandTablesOnHover: true,\r\n          subjectColors: true,\r\n          countAvgs: false,\r\n          sortByDragging: true,\r\n          subjectsOrder: [\r\n            \"https://ocjene.skole.hr/grade/37245361120\",\r\n            \"https://ocjene.skole.hr/grade/37254634940\",\r\n            \"https://ocjene.skole.hr/grade/37272652330\",\r\n            \"https://ocjene.skole.hr/grade/37306283310\",\r\n            \"https://ocjene.skole.hr/grade/37292884650\",\r\n            \"https://ocjene.skole.hr/grade/37247144780\",\r\n            \"https://ocjene.skole.hr/grade/37252423040\",\r\n            \"https://ocjene.skole.hr/grade/37278793130\",\r\n            \"https://ocjene.skole.hr/grade/37262740190\",\r\n            \"https://ocjene.skole.hr/grade/37278230560\",\r\n            \"https://ocjene.skole.hr/grade/37281244400\",\r\n            \"https://ocjene.skole.hr/grade/37283505790\",\r\n            \"https://ocjene.skole.hr/grade/37312462490\",\r\n            \"https://ocjene.skole.hr/grade/37279324390\",\r\n            \"https://ocjene.skole.hr/grade/37273226010\",\r\n            \"https://ocjene.skole.hr/grade/37335797530\",\r\n            \"https://ocjene.skole.hr/grade/43282560370\",\r\n            \"https://ocjene.skole.hr/grade/43303819860\",\r\n            \"https://ocjene.skole.hr/grade/43432125210\",\r\n            \"https://ocjene.skole.hr/grade/43125138740\",\r\n          ],\r\n          expandedSubjects: [],\r\n        },\r\n      },\r\n      lastLoadedClassUrl:\r\n        \"https://ocjene.skole.hr/class_action/2115037150/course\",\r\n    },\r\n  ],\r\n};\r\n","import { ActionTree, ActionContext } from \"vuex\";\r\nimport { State } from \"./state\";\r\nimport { Mutations, MutationTypes } from \"./mutations\";\r\nimport chromeLocalStorage from \"./storage\";\r\n\r\ntype AugmentedActionContext = {\r\n  commit<K extends keyof Mutations>(\r\n    key: K,\r\n    payload: Parameters<Mutations[K]>[1],\r\n  ): ReturnType<Mutations[K]>;\r\n} & Omit<ActionContext<State, State>, \"commit\">;\r\n\r\nexport enum ActionTypes {\r\n  INIT = \"INIT\",\r\n}\r\nexport interface Actions {\r\n  [ActionTypes.INIT]({ commit }: AugmentedActionContext): Promise<boolean>;\r\n}\r\n\r\n// prettier-ignore\r\nexport const actions: ActionTree<State, State> & Actions = { // nosonar: Index signature\r\n  async [ActionTypes.INIT]({ commit }) {\r\n    const state = await chromeLocalStorage();\r\n    console.log(\"LOCAL STORAGE: \", state);\r\n\r\n    //await pause(3000);  // todo: delete\r\n\r\n    if (!state) return false;\r\n    commit(MutationTypes.INIT, state);\r\n    window.isAppInitiated = true;\r\n    return !!state.users.find((user) => user.signedIn);\r\n  },\r\n};\r\n","<template>\r\n  <div\r\n    id=\"navbar\"\r\n    :class=\"{\r\n      'nav-collapsed': navCollapsed,\r\n      shadow: $route.path.includes('/stranica/'),\r\n    }\"\r\n  >\r\n    <div id=\"nav-top\">\r\n      <a\r\n        id=\"app-logo\"\r\n        href=\"https://www.carnet.hr/usluga/e-dnevnik-za-ucenike-i-roditelje/\"\r\n        target=\"_blank\"\r\n      >\r\n        <img src=\"@/assets/img/logo.png\" />\r\n      </a>\r\n      <a\r\n        href=\"https://ednevnik.plus\"\r\n        target=\"_blank\"\r\n        id=\"main-title\"\r\n        class=\"text\"\r\n        style=\"--order: 1\"\r\n      >\r\n        e-Dnevnik\r\n      </a>\r\n    </div>\r\n    <transition name=\"navbar\" @enter=\"initResizeObserver\">\r\n      <div\r\n        v-if=\"!isLoginPage\"\r\n        id=\"nav-mid\"\r\n        ref=\"navMid\"\r\n        :class=\"{ overflowing: navMidOverflowing }\"\r\n      >\r\n        <NavbarList\r\n          :list=\"linksTop\"\r\n          rootLink=\"/\"\r\n          :order=\"2\"\r\n          :navCollapsed=\"navCollapsed\"\r\n        ></NavbarList>\r\n        <span id=\"more-horiz\" class=\"material-icons\"> more_horiz </span>\r\n        <NavbarList\r\n          :list=\"pages\"\r\n          rootLink=\"/stranica/\"\r\n          :order=\"5\"\r\n          :navCollapsed=\"navCollapsed\"\r\n        ></NavbarList>\r\n      </div>\r\n      <div v-else id=\"welcome\" class=\"abs-center text\" style=\"--order: 5\">\r\n        Dobro doli!\r\n      </div>\r\n    </transition>\r\n    <div id=\"nav-bottom\">\r\n      <transition name=\"navbar\">\r\n        <div v-if=\"!isLoginPage\">\r\n          <NavbarList\r\n            :list=\"linksBottom.slice(0, -1)\"\r\n            rootLink=\"/\"\r\n            :order=\"8\"\r\n            :navCollapsed=\"navCollapsed\"\r\n          ></NavbarList>\r\n        </div>\r\n        <div v-else></div>\r\n      </transition>\r\n      <NavbarList\r\n        :list=\"linksBottom.slice(-1)\"\r\n        rootLink=\"/\"\r\n        :order=\"9\"\r\n        :navCollapsed=\"navCollapsed\"\r\n      ></NavbarList>\r\n      <a id=\"collapse\" @click=\"navCollapsed = !navCollapsed\">\r\n        <div id=\"collapse-arrow\" class=\"material-icons\">chevron_left</div>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" scoped>\r\nimport { defineComponent } from \"vue\";\r\nimport NavbarList from \"./NavbarList.vue\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\n\r\nexport default defineComponent({\r\n  name: \"Navbar\",\r\n  components: { NavbarList },\r\n  data() {\r\n    return {\r\n      navMidOverflowing: false,\r\n      mounted: false,\r\n      linksTop: [\r\n        {\r\n          name: \"Razred\",\r\n          icon: \"school\",\r\n        },\r\n        {\r\n          name: \"Statistika ocjena\",\r\n          icon: \"equalizer\",\r\n        },\r\n        {\r\n          name: \"Kalkulator bodova\",\r\n          icon: \"table_view\",\r\n        },\r\n      ],\r\n      pages: [\r\n        {\r\n          name: \"kolska stranica\",\r\n          icon: \"home\",\r\n        },\r\n        {\r\n          name: \"Loomen\",\r\n          icon: \"apps\",\r\n        },\r\n        {\r\n          name: \"Srednja.hr\",\r\n          icon: \"whatshot\",\r\n        },\r\n        {\r\n          name: \"kolski e-Rudnik\",\r\n          icon: \"bubble_chart\",\r\n        },\r\n      ],\r\n      linksBottom: [\r\n        {\r\n          name: \"Postavke\",\r\n          icon: \"settings\",\r\n        },\r\n        {\r\n          name: \"O aplikaciji\",\r\n          icon: \"help_outline\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    // Always show a \"welcome\" message for a second\r\n    setTimeout(() => (this.mounted = true), 1000);\r\n  },\r\n  methods: {\r\n    initResizeObserver() {\r\n      !this.isLoginPage &&\r\n        new (window as any).ResizeObserver(this.customListChanged).observe(\r\n          this.$refs.navMid as HTMLElement,\r\n        );\r\n    },\r\n    customListChanged() {\r\n      const navMid = this.$refs.navMid as HTMLElement | undefined;\r\n      this.navMidOverflowing = navMid\r\n        ? navMid.offsetHeight < navMid.scrollHeight\r\n        : false;\r\n    },\r\n  },\r\n  computed: {\r\n    isLoginPage(): boolean {\r\n      return this.$route.path == \"/\" || !this.mounted;\r\n    },\r\n    navCollapsed: {\r\n      get(): boolean {\r\n        return this.$store.state.settings.navbarCollapsed;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(MutationTypes.UPDATE_GLOBAL_SETTING, {\r\n          name: \"navbarCollapsed\",\r\n          value,\r\n        });\r\n      },\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$collapse-duration: 500ms;\r\n$nav-shadow-top: 0 1px 0 #ffffff1a inset;\r\n$nav-shadow-bottom: 0 -1px 0 #ffffff1a inset;\r\n\r\n@mixin text-hidden {\r\n  transform: translateY(10px);\r\n  opacity: 0;\r\n  transition: transform 150ms, opacity 150ms;\r\n}\r\n\r\n#navbar {\r\n  position: relative;\r\n  background-attachment: fixed;\r\n  background-image: url(\"~@/assets/img/nav-background.png\");\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  display: flex;\r\n  flex-direction: column;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  max-width: $navbar-max-width;\r\n  transition: max-width $collapse-duration, box-shadow $views-transition;\r\n  z-index: 1;\r\n\r\n  &.shadow {\r\n    box-shadow: 0 0 10px black;\r\n  }\r\n\r\n  @include themed() {\r\n    background-color: t(\"dark-dark-blue\");\r\n  }\r\n}\r\n\r\n#nav-top,\r\n#nav-bottom :deep(a),\r\n#nav-mid :deep(a) {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 60px;\r\n  padding: 20px 30px;\r\n  box-shadow: $nav-shadow-bottom;\r\n}\r\n\r\n#nav-top {\r\n  align-items: flex-start;\r\n}\r\n\r\n#nav-mid {\r\n  flex: 1;\r\n  overflow: hidden auto;\r\n  transition: box-shadow 150ms;\r\n\r\n  &.overflowing {\r\n    box-shadow: 0 0 5px 1px #476282;\r\n  }\r\n}\r\n\r\n#nav-bottom {\r\n  margin-top: auto;\r\n  box-shadow: $nav-shadow-top !important;\r\n}\r\n\r\n#nav-mid :deep(a),\r\n#nav-bottom :deep(a:not(#collapse)) {\r\n  color: $navbar-text-color;\r\n  transition: background-color 150ms, color 150ms, opacity 150ms;\r\n\r\n  .material-icons {\r\n    padding-right: 15px;\r\n  }\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: #ffffff14;\r\n  }\r\n}\r\n\r\n#nav-top,\r\n#collapse {\r\n  height: 110px !important;\r\n  user-select: none;\r\n}\r\n\r\n#more-horiz {\r\n  width: 100%;\r\n  padding: 20px 0;\r\n  text-align: center;\r\n  box-shadow: $nav-shadow-bottom;\r\n\r\n  @include themed() {\r\n    color: t(\"gray-blue\");\r\n  }\r\n}\r\n\r\n:deep(.text) {\r\n  transition: transform 150ms calc(150ms + var(--order) * 20ms),\r\n    opacity 150ms calc(150ms + var(--order) * 20ms), color 150ms,\r\n    text-shadow 150ms;\r\n}\r\n\r\n#app-logo {\r\n  margin-right: 25px;\r\n\r\n  img {\r\n    height: 50px;\r\n    border-radius: 10px;\r\n    box-shadow: 0 0 20px -5px #2296da;\r\n    transition: transform $collapse-duration - 100ms, box-shadow 150ms;\r\n  }\r\n\r\n  &:hover img {\r\n    box-shadow: 0 0 20px -2px #2296da;\r\n  }\r\n}\r\n\r\n#main-title {\r\n  position: relative;\r\n  font-size: 35px;\r\n  line-height: 35px;\r\n  color: white;\r\n  text-shadow: 0 0 20px $plus-color;\r\n\r\n  &::after {\r\n    content: \"Plus\";\r\n    position: absolute;\r\n    right: 0;\r\n    top: 100%;\r\n    font-style: italic;\r\n    font-size: $body-font-size;\r\n    line-height: 15px;\r\n    color: $plus-color;\r\n    text-shadow: 0 0 20px white;\r\n  }\r\n\r\n  &:hover {\r\n    text-shadow: 0 0 25px white;\r\n  }\r\n}\r\n\r\n#welcome {\r\n  font-size: 24px;\r\n  letter-spacing: 2px;\r\n  pointer-events: none;\r\n  color: white;\r\n}\r\n\r\n#collapse {\r\n  flex-basis: 100%;\r\n  cursor: pointer;\r\n\r\n  &:hover #collapse-arrow {\r\n    color: white;\r\n  }\r\n}\r\n\r\n#collapse-arrow {\r\n  margin-left: auto;\r\n  font-size: 50px;\r\n  width: 35px;\r\n  box-shadow: none !important;\r\n  transition: color 150ms, transform $collapse-duration;\r\n\r\n  @include themed() {\r\n    color: t(\"gray-blue\");\r\n  }\r\n}\r\n\r\n.nav-collapsed {\r\n  max-width: 84px !important;\r\n\r\n  #app-logo img {\r\n    transform: scale(0.8) translate(-17px, 2px);\r\n  }\r\n\r\n  #welcome {\r\n    transform: translate(-50%, calc(-50% + 10px)) !important;\r\n  }\r\n\r\n  #collapse-arrow {\r\n    transform: scale(-1);\r\n  }\r\n\r\n  :deep(.text) {\r\n    @include text-hidden;\r\n  }\r\n}\r\n\r\n/* transitions */\r\n\r\n.navbar-enter-active,\r\n.navbar-leave-active {\r\n  transition: opacity $views-transition !important;\r\n}\r\n\r\n.navbar-enter-from,\r\n.navbar-leave-to {\r\n  opacity: 0;\r\n\r\n  :deep(.text) {\r\n    @include text-hidden;\r\n  }\r\n}\r\n</style>","<template>\r\n  <router-link\r\n    v-for=\"({ name, icon }, i) in list\"\r\n    :key=\"i\"\r\n    :to=\"rootLink + convertToPath(name)\"\r\n    :class=\"{\r\n      'router-link-active':\r\n        $route.href && $route.href.includes('razred') && name == 'Razred',\r\n    }\"\r\n    v-tooltip.right=\"navCollapsed ? name : ''\"\r\n    v-wave\r\n  >\r\n    <span class=\"material-icons\"> {{ icon }} </span>\r\n    <div class=\"text\" :style=\"'--order: ' + (i + order)\">{{ name }}</div>\r\n  </router-link>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport { convertToPath } from \"@/scripts/utils\";\r\n\r\n// TODO: fix v-tooltip empty divs in <body>\r\n\r\nexport default defineComponent({\r\n  name: \"NavbarList\",\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<Array<{ name: string; icon: string }>>,\r\n      required: true,\r\n    },\r\n    rootLink: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    order: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    navCollapsed: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n  methods: {\r\n    convertToPath: (name: string) => convertToPath(name)\r\n  }\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.router-link-active {\r\n  background: $navbar-selected;\r\n  color: $navbar-selected-text-color !important;\r\n\r\n  .material-icons {\r\n    text-shadow: 0 0 15px;\r\n  }\r\n}\r\n</style>","\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport { convertToPath } from \"@/scripts/utils\";\r\n\r\n// TODO: fix v-tooltip empty divs in <body>\r\n\r\nexport default defineComponent({\r\n  name: \"NavbarList\",\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<Array<{ name: string; icon: string }>>,\r\n      required: true,\r\n    },\r\n    rootLink: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    order: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    navCollapsed: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n  methods: {\r\n    convertToPath: (name: string) => convertToPath(name)\r\n  }\r\n});\r\n","import { render } from \"./NavbarList.vue?vue&type=template&id=321c3007&scoped=true\"\nimport script from \"./NavbarList.vue?vue&type=script&lang=ts\"\nexport * from \"./NavbarList.vue?vue&type=script&lang=ts\"\n\nimport \"./NavbarList.vue?vue&type=style&index=0&id=321c3007&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-321c3007\"\n\nexport default script","\r\nimport { defineComponent } from \"vue\";\r\nimport NavbarList from \"./NavbarList.vue\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\n\r\nexport default defineComponent({\r\n  name: \"Navbar\",\r\n  components: { NavbarList },\r\n  data() {\r\n    return {\r\n      navMidOverflowing: false,\r\n      mounted: false,\r\n      linksTop: [\r\n        {\r\n          name: \"Razred\",\r\n          icon: \"school\",\r\n        },\r\n        {\r\n          name: \"Statistika ocjena\",\r\n          icon: \"equalizer\",\r\n        },\r\n        {\r\n          name: \"Kalkulator bodova\",\r\n          icon: \"table_view\",\r\n        },\r\n      ],\r\n      pages: [\r\n        {\r\n          name: \"kolska stranica\",\r\n          icon: \"home\",\r\n        },\r\n        {\r\n          name: \"Loomen\",\r\n          icon: \"apps\",\r\n        },\r\n        {\r\n          name: \"Srednja.hr\",\r\n          icon: \"whatshot\",\r\n        },\r\n        {\r\n          name: \"kolski e-Rudnik\",\r\n          icon: \"bubble_chart\",\r\n        },\r\n      ],\r\n      linksBottom: [\r\n        {\r\n          name: \"Postavke\",\r\n          icon: \"settings\",\r\n        },\r\n        {\r\n          name: \"O aplikaciji\",\r\n          icon: \"help_outline\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    // Always show a \"welcome\" message for a second\r\n    setTimeout(() => (this.mounted = true), 1000);\r\n  },\r\n  methods: {\r\n    initResizeObserver() {\r\n      !this.isLoginPage &&\r\n        new (window as any).ResizeObserver(this.customListChanged).observe(\r\n          this.$refs.navMid as HTMLElement,\r\n        );\r\n    },\r\n    customListChanged() {\r\n      const navMid = this.$refs.navMid as HTMLElement | undefined;\r\n      this.navMidOverflowing = navMid\r\n        ? navMid.offsetHeight < navMid.scrollHeight\r\n        : false;\r\n    },\r\n  },\r\n  computed: {\r\n    isLoginPage(): boolean {\r\n      return this.$route.path == \"/\" || !this.mounted;\r\n    },\r\n    navCollapsed: {\r\n      get(): boolean {\r\n        return this.$store.state.settings.navbarCollapsed;\r\n      },\r\n      set(value) {\r\n        this.$store.commit(MutationTypes.UPDATE_GLOBAL_SETTING, {\r\n          name: \"navbarCollapsed\",\r\n          value,\r\n        });\r\n      },\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Navbar.vue?vue&type=template&id=3e801767&scoped=true\"\nimport script from \"./Navbar.vue?vue&type=script&lang=ts&scoped=true\"\nexport * from \"./Navbar.vue?vue&type=script&lang=ts&scoped=true\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=3e801767&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3e801767\"\n\nexport default script","<template>\n  <div\n    id=\"main\"\n    ref=\"main\"\n    :class=\"{ 'no-overflow': $route.path.includes('/stranica/') }\"\n  >\n    <router-view v-slot=\"{ Component }\">\n      <transition :name=\"transitionName\" mode=\"out-in\">\n        <component :is=\"Component\" />\n      </transition>\n    </router-view>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Main\",\n  data() {\n    return {\n      transitionName: \"\",\n    };\n  },\n  mounted() {\n    (this.$refs.main as HTMLElement).onscroll = () =>\n      this.$emitter.emit(\"main-scrolled\");\n  },\n  watch: {\n    $route(to, from) {\n      if (to.path == \"/\") this.transitionName = \"logged-out\";\n      else if (from.path == \"/\") this.transitionName = \"logged-in\";\n      else this.transitionName = \"main\";\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\">\n#main {\n  position: relative;\n  overflow: hidden scroll;\n  flex: 1;\n\n  &.no-overflow {\n    overflow: hidden;\n  }\n\n  /* root views */\n  & > div {\n    transition: opacity $views-transition, transform $views-transition;\n  }\n}\n\n/* transitions */\n\n.logged-in-leave-to #students,\n.logged-out-enter-from #students {\n  margin-right: 50px;\n}\n\n.logged-in-enter-from,\n.logged-out-leave-to,\n.main-enter-from,\n.main-leave-to {\n  transform: scale(0.97);\n}\n\n.logged-out-enter-from,\n.logged-in-enter-from,\n.logged-out-leave-to,\n.logged-in-leave-to,\n.main-enter-from,\n.main-leave-to {\n  opacity: 0;\n}\n</style>","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Main\",\n  data() {\n    return {\n      transitionName: \"\",\n    };\n  },\n  mounted() {\n    (this.$refs.main as HTMLElement).onscroll = () =>\n      this.$emitter.emit(\"main-scrolled\");\n  },\n  watch: {\n    $route(to, from) {\n      if (to.path == \"/\") this.transitionName = \"logged-out\";\n      else if (from.path == \"/\") this.transitionName = \"logged-in\";\n      else this.transitionName = \"main\";\n    },\n  },\n});\n","import { render } from \"./Main.vue?vue&type=template&id=7b588cc0\"\nimport script from \"./Main.vue?vue&type=script&lang=ts\"\nexport * from \"./Main.vue?vue&type=script&lang=ts\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=7b588cc0&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <div\r\n    v-if=\"user\"\r\n    id=\"user\"\r\n    class=\"hovered-text-button\"\r\n    @click.self=\"showDropdown = !showDropdown\"\r\n    ref=\"user\"\r\n  >\r\n    {{ user.fullName }}\r\n    <span class=\"material-icons\"> account_circle </span>\r\n    <Dropdown\r\n      :visible=\"showDropdown\"\r\n      :list=\"dropdown\"\r\n      customClass=\"user-dropdown\"\r\n      sourceElementId=\"user\"\r\n      @close=\"dropdownClosed\"\r\n    ></Dropdown>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport Dropdown, { DropdownItem } from \"./Dropdown.vue\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\nimport { User } from \"@/store/state\";\r\nimport { logout } from \"@/scripts/scrapers\";\r\n\r\nexport default defineComponent({\r\n  name: \"User\",\r\n  components: {\r\n    Dropdown,\r\n  },\r\n  data() {\r\n    return {\r\n      showDropdown: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async dropdownClosed(rowName: string | undefined) {\r\n      this.showDropdown = false;\r\n      if (rowName == \"Odjava\" && this.user && (await logout())) {\r\n        this.$store.commit(MutationTypes.UPDATE_USER_STATUS, {\r\n          user: this.user,\r\n          status: false,\r\n        });\r\n      }\r\n    },\r\n    showCard(show: boolean) {\r\n      const userEl = this.$refs.user as HTMLElement;\r\n      if (userEl) userEl.classList[show ? \"add\" : \"remove\"](\"card\");\r\n    },\r\n  },\r\n  computed: {\r\n    user(): User | undefined {\r\n      return this.$store.getters.user;\r\n    },\r\n    dropdown(): DropdownItem[] {\r\n      return [\r\n        {\r\n          name: \"Osobni podaci\",\r\n          icon: \"fingerprint\",\r\n          link: \"/razred/\" + (this.$route.params.classId || \"-\") + \"/osobni-podaci\" ,\r\n        },\r\n        {\r\n          name: \"Odjava\",\r\n          icon: \"exit_to_app\",\r\n        },\r\n      ];\r\n    }\r\n  },\r\n  watch: {\r\n    $route(to) {\r\n      this.showCard(to.path.includes(\"/stranica/\"));\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#user {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 0;\r\n  padding: 0 40px 0 20px;\r\n  border-radius: 8px 0 0 8px;\r\n  user-select: none;\r\n  transition: box-shadow 150ms, color 150ms;\r\n  z-index: 99;\r\n\r\n  & > .material-icons {\r\n    pointer-events: none;\r\n    font-size: 44px;\r\n    padding-left: 20px;\r\n  }\r\n\r\n  @include themed() {\r\n    color: t(\"gray-blue\");\r\n\r\n    &.card {\r\n      background: t(\"white-background\");\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <transition\r\n    :name=\"customClass == 'user-dropdown' ? 'user-dropdown' : 'dropdown'\"\r\n  >\r\n    <div v-if=\"visible\" class=\"dropdown\" :class=\"customClass\" ref=\"dropdown\">\r\n      <component\r\n        v-for=\"(row, i) in list\"\r\n        :key=\"i\"\r\n        :is=\"row.link ? 'router-link' : 'a'\"\r\n        :to=\"row.link\"\r\n        :class=\"{ active: row.active }\"\r\n        @click=\"close(row.name)\"\r\n        v-tooltip.right=\"{\r\n          content: row.tooltip,\r\n          disabled: !row.tooltip,\r\n          html: true,\r\n        }\"\r\n        v-wave\r\n      >\r\n        <span v-if=\"row.icon\" class=\"material-icons\"> {{ row.icon }} </span>\r\n        {{ row.name }}\r\n        <div v-if=\"row.alignRight\" class=\"align-right\">\r\n          {{ row.alignRight }}\r\n        </div>\r\n      </component>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\n\r\nexport interface DropdownItem {\r\n  name: string;\r\n  alignRight?: string;\r\n  icon?: string;\r\n  link?: string | { params: Record<string, string> };\r\n  tooltip?: string;\r\n  active?: boolean;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Dropdown\",\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<Array<DropdownItem>>,\r\n      required: true,\r\n    },\r\n    visible: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    sourceElementId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    customClass: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n  },\r\n  emits: [\"close\"],\r\n  mounted() {\r\n    this.$emitter.on(\"main-scrolled\", this.close);\r\n    this.$emitter.on(\"window-clicked\", this.windowClicked);\r\n  },\r\n  beforeUnmount() {\r\n    this.$emitter.off(\"main-scrolled\", this.close);\r\n    this.$emitter.off(\"window-clicked\", this.windowClicked);\r\n  },\r\n  methods: {\r\n    windowClicked(path?: HTMLElement[]) {\r\n      if (\r\n        !path ||\r\n        (!path.includes(this.$refs.dropdown as HTMLElement) &&\r\n          !path.includes(document.getElementById(this.sourceElementId)!))\r\n      ) {\r\n        this.close();\r\n      }\r\n    },\r\n    close(rowName?: string) {\r\n      this.$emit(\"close\", rowName);\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dropdown {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  min-width: 100%;\r\n  padding: 8px 0;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  border-radius: 0 8px 8px 8px;\r\n  box-shadow: 0 1px 2px 0 rgb(60 64 67 / 30%), 0 2px 6px 2px rgb(60 64 67 / 15%);\r\n  cursor: default;\r\n  transform-origin: top left;\r\n  transition: transform 250ms, opacity 250ms;\r\n  z-index: 99;\r\n\r\n  & > a {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 8px 20px;\r\n    transition: color 150ms;\r\n    cursor: pointer;\r\n\r\n    & > span {\r\n      padding-right: 20px;\r\n    }\r\n\r\n    &.active {\r\n      color: $navbar-selected-text-color !important;\r\n    }\r\n\r\n    @include themed() {\r\n      color: t(\"light-gray\");\r\n\r\n      &:not(.active):hover {\r\n        color: t(\"dark-blue\") !important;\r\n      }\r\n    }\r\n  }\r\n\r\n  @include themed() {\r\n    background: t(\"white-background\");\r\n  }\r\n}\r\n\r\n.align-right {\r\n  margin-left: auto;\r\n  padding-left: 25px;\r\n  font-weight: bold;\r\n}\r\n\r\n/* props.customClass */\r\n\r\n.right {\r\n  border-radius: 8px 0 8px 8px;\r\n  transform-origin: top right;\r\n  right: 0;\r\n  left: auto;\r\n  font-size: $body-font-size;\r\n}\r\n\r\n.user-dropdown {\r\n  top: calc(100% + 8px);\r\n  left: 0;\r\n  right: 0;\r\n  border-radius: 8px 0 0 8px;\r\n}\r\n\r\n/* transitions */\r\n\r\n.user-dropdown-enter-from,\r\n.user-dropdown-leave-to {\r\n  transform: translateX(100%);\r\n  opacity: 0;\r\n}\r\n\r\n.dropdown-enter-from,\r\n.dropdown-leave-to {\r\n  transform: scale(0.8);\r\n  opacity: 0;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent, PropType } from \"vue\";\r\n\r\nexport interface DropdownItem {\r\n  name: string;\r\n  alignRight?: string;\r\n  icon?: string;\r\n  link?: string | { params: Record<string, string> };\r\n  tooltip?: string;\r\n  active?: boolean;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Dropdown\",\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<Array<DropdownItem>>,\r\n      required: true,\r\n    },\r\n    visible: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    sourceElementId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    customClass: {\r\n      type: String,\r\n      required: false,\r\n    },\r\n  },\r\n  emits: [\"close\"],\r\n  mounted() {\r\n    this.$emitter.on(\"main-scrolled\", this.close);\r\n    this.$emitter.on(\"window-clicked\", this.windowClicked);\r\n  },\r\n  beforeUnmount() {\r\n    this.$emitter.off(\"main-scrolled\", this.close);\r\n    this.$emitter.off(\"window-clicked\", this.windowClicked);\r\n  },\r\n  methods: {\r\n    windowClicked(path?: HTMLElement[]) {\r\n      if (\r\n        !path ||\r\n        (!path.includes(this.$refs.dropdown as HTMLElement) &&\r\n          !path.includes(document.getElementById(this.sourceElementId)!))\r\n      ) {\r\n        this.close();\r\n      }\r\n    },\r\n    close(rowName?: string) {\r\n      this.$emit(\"close\", rowName);\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Dropdown.vue?vue&type=template&id=26110f42&scoped=true\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=ts\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=ts\"\n\nimport \"./Dropdown.vue?vue&type=style&index=0&id=26110f42&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-26110f42\"\n\nexport default script","export const state: State = {\n  settings: {\n    darkTheme: true,\n    appDisabled: false,\n    injectContent: false,\n    navbarCollapsed: false,\n  },\n  users: [],\n};\n\nexport interface State {\n  settings: GlobalSettings;\n  users: User[];\n}\n\nexport interface User {\n  signedIn: boolean;\n  email: string;\n  password: string;\n  fullName: string;\n  settings: Settings;\n  classesList: ClassInfo[];\n  lastLoadedClassUrl?: string;\n}\n\nexport interface Settings {\n  classTabsOrder: string[];\n  subjectsSettings: SubjectsSettings;\n}\n\nexport interface SubjectsSettings {\n  zoom: number;\n  expandTablesOnHover: boolean;\n  subjectColors: boolean;\n  countAvgs: boolean;\n  sortByDragging: boolean;\n  subjectsOrder: string[];\n  expandedSubjects: string[];\n}\n\nexport interface GlobalSettings {\n  darkTheme: boolean;\n  appDisabled: boolean;\n  injectContent: boolean;\n  navbarCollapsed: boolean;\n}\n\nexport interface ClassInfo {\n  url: string;\n  name: string;\n  year: string;\n  isYearCompleted: boolean;\n  school: string;\n  headTeacher?: string;\n  finalGrade?: string;\n  cachedSubjects?: SubjectCache[];\n  lastUpdated?: number;\n}\n\nexport interface SubjectCache {\n  url: string;\n  name: string;\n  teachers: string;\n  gradesByCategory?: GradesByCategory[];\n  finalGrade?: number;\n  lastNote?: Note;\n  lastUpdated?: number;\n}\n\nexport interface GradesByCategory {\n  name: string;\n  grades: number[][];\n}\n\nexport interface Note {\n  note: string;\n  date: string;\n  grade: string;\n}\n","import { State, User, ClassInfo } from \"./state\";\n\nexport type Getters = {\n  user(state: State): User | undefined;\n  classInfo(\n    state: State,\n    _getters: any,\n  ): (classId: string) => ClassInfo | undefined;\n};\n\nexport const getters: Getters = {\n  user: (state) => state.users.find((user) => user.signedIn),\n  classInfo: (state, _getters) => (classId) => {\n    const user: User | undefined = _getters.user;\n    if (user) return user.classesList.find((c) => c.url.includes(classId));\n  },\n};\n","/*\r\n__VUE_DEVTOOLS_GLOBAL_HOOK__.store\r\nhttps://dev.to/3vilarthas/vuex-typescript-m4j\r\nhttps://next.vuex.vuejs.org/guide/typescript-support.html\r\nhttps://developer.chrome.com/docs/extensions/reference/storage/#property-local\r\n */\r\n\r\nimport {\r\n  createStore,\r\n  Store as VuexStore,\r\n  CommitOptions,\r\n  DispatchOptions,\r\n} from \"vuex\";\r\nimport { State, state } from \"./state\";\r\nimport { Getters, getters } from \"./getters\";\r\nimport { Mutations, mutations } from \"./mutations\";\r\nimport { Actions, actions, ActionTypes } from \"./actions\";\r\nimport chromeLocalStorage from \"./storage\";\r\n\r\nfunction storeMutated(_store: Store) {\r\n  _store.subscribe((mutation, _state) => {\r\n    console.log(\"MUTATED\", mutation, _state);\r\n    if (mutation.type != ActionTypes.INIT) chromeLocalStorage(_state);\r\n  });\r\n}\r\n\r\nexport const store = createStore({\r\n  plugins: [storeMutated],\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions,\r\n});\r\n\r\nexport type Store = Omit<\r\n  VuexStore<State>,\r\n  \"getters\" | \"commit\" | \"dispatch\"\r\n> & {\r\n  commit<K extends keyof Mutations, P extends Parameters<Mutations[K]>[1]>(\r\n    key: K,\r\n    payload: P,\r\n    options?: CommitOptions,\r\n  ): ReturnType<Mutations[K]>;\r\n} & {\r\n  dispatch<K extends keyof Actions>(\r\n    key: K,\r\n    payload: Parameters<Actions[K]>[1],\r\n    options?: DispatchOptions,\r\n  ): ReturnType<Actions[K]>;\r\n} & {\r\n  getters: {\r\n    [K in keyof Getters]: ReturnType<Getters[K]>;\r\n  };\r\n};\r\n","import { User, ClassInfo } from \"@/store/state\";\r\n\r\ninterface InitData {\r\n  email: string;\r\n  password: string;\r\n  fullName: string;\r\n  classesList: ClassInfo[];\r\n}\r\n\r\nexport default function newUser(initData: InitData): User {\r\n  return {\r\n    ...initData,\r\n    signedIn: true,\r\n    settings: {\r\n      classTabsOrder: [\r\n        \"Ocjene\",\r\n        \"Biljeske\",\r\n        \"Ispiti\",\r\n        \"Izostanci\",\r\n        \"Vladanja\",\r\n        \"Raspored\",\r\n        \"Statistika\",\r\n      ],\r\n      subjectsSettings: {\r\n        zoom: 2,\r\n        expandTablesOnHover: true,\r\n        subjectColors: false,\r\n        countAvgs: false,\r\n        sortByDragging: true,\r\n        subjectsOrder: [],\r\n        expandedSubjects: []\r\n      },\r\n    },\r\n  };\r\n}\r\n","import { useToast } from \"vue-toastification\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\nimport { User, ClassInfo, SubjectCache } from \"@/store/state\";\r\nimport { store } from \"@/store\";\r\nimport newUser from \"./new-user\";\r\nimport * as UTILS from \"./utils\";\r\n\r\nconst toast = useToast();\r\nconst URLS = {\r\n  base: \"https://ocjene.skole.hr\",\r\n  login: \"https://ocjene.skole.hr/login\",\r\n  logout: \"https://ocjene.skole.hr/logout\",\r\n  classes: \"https://ocjene.skole.hr/class\",\r\n};\r\n\r\nasync function login(\r\n  email: string,\r\n  password: string,\r\n  fetch1?: Response,\r\n): Promise<boolean> {\r\n  if (window.devTestMode) return true;\r\n  //\r\n  // Login GET\r\n  fetch1 = fetch1 || (await fetch(URLS.login));\r\n  if (!fetch1.url.includes(\"login\")) {\r\n    //\r\n    // Logout GET\r\n    return (await logout()) && login(email, password);\r\n  }\r\n  const loginDoc = UTILS.parseDoc(await fetch1.text(), fetch1.url);\r\n  const csrfElement = loginDoc.getElementsByName(\"csrf_token\")[0];\r\n  if (!csrfElement) {\r\n    toast.error(\"Greka u prijavi: Nedostaje CSRF token!\");\r\n    return false;\r\n  }\r\n  const csrf_token = (csrfElement as HTMLInputElement).value;\r\n  //\r\n  // Login POST\r\n  const fetch2 = await fetch(URLS.login, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n    body: UTILS.formEncodedBody({ username: email, password, csrf_token }),\r\n  });\r\n  const loggedIn = !fetch2.url.includes(\"login\");\r\n  if (!loggedIn) return false;\r\n  //\r\n  // Either /class or /course\r\n  const nextDoc = UTILS.parseDoc(await fetch2.text(), fetch2.url);\r\n  const classesList = await getClassesList(\r\n    fetch2.url == URLS.classes ? nextDoc : undefined,\r\n  );\r\n  if (!classesList || !classesList.length) {\r\n    toast.error(\"Greka u prijavi: Popis razreda je nedostupan!\");\r\n    return false;\r\n  }\r\n  //\r\n  // Old or new user\r\n  const user = store.state.users.find((u) => u.email == email);\r\n  if (user) {\r\n    store.commit(MutationTypes.UPDATE_CLASSES_LIST, { user, classesList });\r\n  } else {\r\n    const fullName = UTILS.getElText(nextDoc.querySelector(\".user-name\"));\r\n    store.commit(\r\n      MutationTypes.ADD_USER,\r\n      newUser({ email, password, fullName, classesList }),\r\n    );\r\n    setTimeout(() => {\r\n      toast.success(\r\n        \"Automatska prijava je omoguena!\\nOpciju promijenite u postavkama \",\r\n        { timeout: false },\r\n      );\r\n    }, 1000);\r\n  }\r\n  await updateClassesHeadteacher(classesList, !user);\r\n  return true;\r\n}\r\n\r\nasync function logout(): Promise<boolean> {\r\n  const success = (await fetch(URLS.logout)).url.includes(\"login\");\r\n  if (!success) toast.error(\"Greka u odjavi! Pokuajte ponovo.\");\r\n  return success;\r\n}\r\n\r\nasync function authFetch(url: string): Promise<undefined | Document> {\r\n  const fetch1 = await fetch(url);\r\n  if (fetch1.url.includes(\"login\")) {\r\n    const user = store.getters.user as User | undefined;\r\n    if (!user) return;\r\n    if (!(await login(user.email, user.password, fetch1))) {\r\n      const error = `Greka u prijavi: Promijenili ste lozinku za ${user.email}!`;\r\n      toast.error(error, { timeout: false });\r\n      store.commit(MutationTypes.UPDATE_USER_STATUS, { user, status: false });\r\n      return;\r\n    }\r\n  }\r\n  return UTILS.parseDoc(await fetch1.text(), fetch1.url);\r\n}\r\n\r\nasync function getClassesList(\r\n  classesDoc?: Document,\r\n): Promise<ClassInfo[] | undefined> {\r\n  classesDoc = classesDoc || (await authFetch(URLS.classes));\r\n  if (!classesDoc) return;\r\n  const date = new Date();\r\n  const [currentYear, currentMonth] = [date.getFullYear(), date.getMonth()];\r\n  const classMenus = classesDoc.getElementsByClassName(\"class-menu-vertical\");\r\n  const classesList = [] as ClassInfo[];\r\n  for (const menu of classMenus) {\r\n    const year = UTILS.getElText(menu.querySelector(\".class-schoolyear\"));\r\n    const [start, end] = year.split(\"/\").map((y) => parseInt(\"20\" + y));\r\n    const finalGrade = menu.querySelector(\".overall-grade .bold\");\r\n    classesList.push({\r\n      url: (menu.querySelector(\".school\") as HTMLAnchorElement).href,\r\n      name: UTILS.getElText(menu.querySelector(\".class > .bold\")),\r\n      year: start + \"./\" + end + \".\",\r\n      isYearCompleted:\r\n        currentYear > end || (currentYear == end && currentMonth > 6),\r\n      school: UTILS.getElText(menu.querySelector(\".school-name\")),\r\n      finalGrade: UTILS.getElText(finalGrade) || undefined,\r\n    });\r\n  }\r\n  return classesList;\r\n}\r\n\r\nasync function updateSubjects( // NOSONAR: Cognitive Complexity from 18 to the 15 allowed\r\n  classInfo: ClassInfo,\r\n  forceUpdate?: boolean,\r\n): Promise<boolean> {\r\n  if (window.devTestMode) return true;\r\n\r\n  const cachedSubjects = classInfo.cachedSubjects || [];\r\n  const { lastUpdated, isYearCompleted } = classInfo;\r\n  const timestamp = Date.now() / 1000;\r\n  const updateAllSubjects = timestamp - (lastUpdated || 0) > 1800;\r\n  const promises: Promise<boolean>[] = [];\r\n  const saveSubject = (updatedSubject: SubjectCache | false) => {\r\n    if (!updatedSubject) return false;\r\n    updatedSubject.lastUpdated = timestamp;\r\n    const toSave = { classInfo, updatedSubject };\r\n    store.commit(MutationTypes.UPDATE_SUBJECT, toSave);\r\n    return true;\r\n  };\r\n\r\n  if (isYearCompleted && classInfo.cachedSubjects && !forceUpdate) return true;\r\n  if (updateAllSubjects || forceUpdate) {\r\n    classInfo.lastUpdated = timestamp;\r\n\r\n    // Default: 30 minutes; TODO: add settings\r\n    const classDoc = await authFetch(classInfo.url);\r\n    if (!classDoc) {\r\n      toast.error(\"Greka pri dobavljanju razreda!\");\r\n      return false;\r\n    }\r\n\r\n    store.commit(MutationTypes.UPDATE_LAST_LOADED_CLASS_URL, {\r\n      user: store.getters.user as User,\r\n      url: classInfo.url,\r\n    });\r\n\r\n    // TODO: delete slice\r\n    [...classDoc.querySelectorAll(\".content a[href^='/grade/']\")]\r\n      /* .slice(0, 3) */\r\n      .forEach((anchor) =>\r\n        promises.push(\r\n          updateSubject({\r\n            url: (anchor as HTMLAnchorElement).href,\r\n            name: UTILS.getElText(anchor.children[0]),\r\n            teachers: UTILS.getElText(anchor.children[1]),\r\n          }).then(saveSubject),\r\n        ),\r\n      );\r\n  } else\r\n    for (const subject of cachedSubjects)\r\n      if (timestamp - (subject.lastUpdated || 0) > 1800)\r\n        promises.push(updateSubject(subject).then(saveSubject));\r\n\r\n  await Promise.allSettled(promises);\r\n  return true;\r\n}\r\n\r\nasync function updateSubject(\r\n  subject: SubjectCache,\r\n): Promise<SubjectCache | false> {\r\n  const subjectDoc = await authFetch(subject.url);\r\n  if (!subjectDoc) {\r\n    toast.error(\"Greka: Predmet ne postoji!\");\r\n    return false;\r\n  }\r\n  subject.gradesByCategory = [];\r\n  subjectDoc.querySelectorAll(\".grades-table > .row\").forEach((rowEl) => {\r\n    if (rowEl.classList.contains(\"final-grade\")) {\r\n      const finalGrade = UTILS.getElText(rowEl.lastElementChild).match(/\\d/);\r\n      if (finalGrade) subject.finalGrade = parseInt(finalGrade[0]);\r\n      return;\r\n    }\r\n    subject.gradesByCategory?.push({\r\n      name: UTILS.capitalize(UTILS.getElText(rowEl.firstElementChild)),\r\n      grades: [...rowEl.children]\r\n        .slice(1)\r\n        .map((cell) => (UTILS.getElText(cell).match(/\\d/g) || []).map(Number)),\r\n    });\r\n  });\r\n  const lastNoteEl = subjectDoc.querySelector(\".notes-table > .row\");\r\n  if (lastNoteEl) {\r\n    const info = [...lastNoteEl.children].map(UTILS.getElText);\r\n    subject.lastNote = { note: info[0], date: info[1], grade: info[2] };\r\n  }\r\n  return subject;\r\n}\r\n\r\nasync function updateClassesHeadteacher(\r\n  classesList: ClassInfo[],\r\n  firstLogin: boolean,\r\n) {\r\n  if (firstLogin) toast(\"Prva prijava moe potrajati malo due.\");\r\n\r\n  // Because the class response is 302, requests must go 1 by 1\r\n  // prettier-ignore\r\n  for (let i = 0; i < classesList.length; i++) { // nosonar: for of\r\n    if (classesList[i].headTeacher) continue;\r\n    const classDoc = await authFetch(classesList[i].url);\r\n    if (!classDoc) {\r\n      toast.error(\"Greka pri dobavljanju razreda!\");\r\n      return;\r\n    }\r\n    const headTeacher = classDoc.querySelector(\".schoolyear .black\");\r\n    if (headTeacher)\r\n      store.commit(MutationTypes.UPDATE_CLASS_PROPERTY, {\r\n        classInfo: classesList[i],\r\n        property: \"headTeacher\",\r\n        value: UTILS.getElText(headTeacher),\r\n      });\r\n  }\r\n}\r\n\r\nasync function getSectionHTML(\r\n  classId: string,\r\n  sectionUrl: string,\r\n): Promise<Element | false> {\r\n  if (window.devTestMode) return false;\r\n\r\n  const user = store.getters.user as User;\r\n  const classUrl = store.getters.classInfo(classId).url as string;\r\n  const lastLoadedClassUrl = user.lastLoadedClassUrl || \"\";\r\n  if (lastLoadedClassUrl != classUrl) {\r\n    if (!(await authFetch(classUrl))) {\r\n      toast.error(\"Greka pri dobavljanju razreda!\");\r\n      return false;\r\n    }\r\n    store.commit(MutationTypes.UPDATE_LAST_LOADED_CLASS_URL, {\r\n      user,\r\n      url: classUrl,\r\n    });\r\n  }\r\n  const doc = await authFetch(sectionUrl);\r\n  if (!doc) {\r\n    toast.error(\"Greka pri dobavljanju stranice razreda!\");\r\n    return false;\r\n  }\r\n  return doc.querySelector(\".content\") || false;\r\n}\r\n\r\nexport { login, logout, updateSubjects, getSectionHTML };\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport Dropdown, { DropdownItem } from \"./Dropdown.vue\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\nimport { User } from \"@/store/state\";\r\nimport { logout } from \"@/scripts/scrapers\";\r\n\r\nexport default defineComponent({\r\n  name: \"User\",\r\n  components: {\r\n    Dropdown,\r\n  },\r\n  data() {\r\n    return {\r\n      showDropdown: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async dropdownClosed(rowName: string | undefined) {\r\n      this.showDropdown = false;\r\n      if (rowName == \"Odjava\" && this.user && (await logout())) {\r\n        this.$store.commit(MutationTypes.UPDATE_USER_STATUS, {\r\n          user: this.user,\r\n          status: false,\r\n        });\r\n      }\r\n    },\r\n    showCard(show: boolean) {\r\n      const userEl = this.$refs.user as HTMLElement;\r\n      if (userEl) userEl.classList[show ? \"add\" : \"remove\"](\"card\");\r\n    },\r\n  },\r\n  computed: {\r\n    user(): User | undefined {\r\n      return this.$store.getters.user;\r\n    },\r\n    dropdown(): DropdownItem[] {\r\n      return [\r\n        {\r\n          name: \"Osobni podaci\",\r\n          icon: \"fingerprint\",\r\n          link: \"/razred/\" + (this.$route.params.classId || \"-\") + \"/osobni-podaci\" ,\r\n        },\r\n        {\r\n          name: \"Odjava\",\r\n          icon: \"exit_to_app\",\r\n        },\r\n      ];\r\n    }\r\n  },\r\n  watch: {\r\n    $route(to) {\r\n      this.showCard(to.path.includes(\"/stranica/\"));\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./User.vue?vue&type=template&id=6c17f853&scoped=true\"\nimport script from \"./User.vue?vue&type=script&lang=ts\"\nexport * from \"./User.vue?vue&type=script&lang=ts\"\n\nimport \"./User.vue?vue&type=style&index=0&id=6c17f853&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-6c17f853\"\n\nexport default script","\nimport { ActionTypes } from \"@/store/actions\";\nimport { defineComponent } from \"vue\";\nimport Navbar from \"@/components/Navbar.vue\";\nimport Main from \"@/components/Main.vue\";\nimport User from \"@/components/User.vue\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    Navbar,\n    Main,\n    User,\n  },\n  created() {\n    this.$store.dispatch(ActionTypes.INIT, undefined).then((userSignedIn) => {\n      const isLoginPage = window.location.hash == \"#/\";\n      if (userSignedIn && isLoginPage) {\n        this.$router.replace(\"/razred\");\n      } else if (!userSignedIn && !isLoginPage) {\n        this.$router.replace(\"/\");\n      }\n      this.enabledarkTheme(this.$store.state.settings.darkTheme);\n    });\n  },\n  mounted() {\n    window.onresize = () => this.$emitter.emit(\"window-resized\");\n    window.onclick = (e: MouseEvent) => {\n      const path = ((e as any).path || (e.composedPath && e.composedPath())) as\n        | HTMLElement[]\n        | false;\n      if (path) this.$emitter.emit(\"window-clicked\", path);\n    };\n  },\n  methods: {\n    enabledarkTheme(enabled: boolean) {\n      document.body.classList[enabled ? \"add\" : \"remove\"](\"theme--dark\");\n      document.body.classList[enabled ? \"remove\" : \"add\"](\"theme--default\");\n    },\n  },\n  watch: {\n    \"$store.getters.user\"(user) {\n      if (!user) this.$router.replace(\"/\");\n    },\n    \"$store.state.settings.darkTheme\"(enabled) {\n      this.enabledarkTheme(enabled);\n    },\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=44ecbeba\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=44ecbeba&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <div id=\"login\" class=\"flex-center\">\r\n    <div id=\"forms\">\r\n      <transition name=\"error\">\r\n        <div v-if=\"!firstAttempt\" id=\"error\">\r\n          <div class=\"card\" ref=\"errorCard\">\r\n            Neispravno korisniko ime ili lozinka.\r\n          </div>\r\n        </div>\r\n      </transition>\r\n      <form class=\"card\" id=\"students\">\r\n        <div class=\"card-title\">\r\n          <span class=\"material-icons\"> person </span>\r\n          Uenici\r\n        </div>\r\n        <div>Korisniko ime:</div>\r\n        <div style=\"position: relative\">\r\n          <input\r\n            v-model.trim=\"email\"\r\n            type=\"text\"\r\n            spellcheck=\"false\"\r\n            class=\"card\"\r\n            @keyup.enter=\"loginStudent\"\r\n            autocomplete=\"on\"\r\n            autofocus\r\n          />\r\n          <div class=\"skolehr\">@skole.hr</div>\r\n        </div>\r\n        <div>Lozinka:</div>\r\n        <input\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          spellcheck=\"false\"\r\n          class=\"card\"\r\n          @keyup.enter=\"loginStudent\"\r\n          autocomplete=\"on\"\r\n        />\r\n        <div\r\n          class=\"button\"\r\n          :class=\"{\r\n            'disabled-button': !loginReady || loggingIn,\r\n            loggingIn: loggingIn,\r\n          }\"\r\n          :tabindex=\"loginReady ? 0 : -1\"\r\n          @click=\"loginStudent\"\r\n          v-wave\r\n        >\r\n          Prijava\r\n        </div>\r\n      </form>\r\n      <div class=\"card\" id=\"parents\">\r\n        <div class=\"card-title\">\r\n          <span class=\"material-icons\"> supervisor_account </span>\r\n          Roditelji\r\n        </div>\r\n        <div>\r\n          Pristup je dozvoljen iskljuivo korisnicima registriranim u sustavu\r\n          <a href=\"https://gov.hr/\" target=\"_blank\" class=\"text-link\"\r\n            >e-Graani</a\r\n          >.\r\n        </div>\r\n        <div style=\"color: gray; padding: 20px 0\">\r\n          Iz pedagokih razloga, ocjene se prikazuju s vremenskim odmakom od 48\r\n          sati.\r\n        </div>\r\n        <a\r\n          href=\"https://ocjene.skole.hr/nias\"\r\n          target=\"_blank\"\r\n          class=\"button\"\r\n          v-wave\r\n          >Prijava</a\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { login } from \"@/scripts/scrapers\";\r\n\r\nexport default defineComponent({\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      email: \"kristijan.rosandic\",\r\n      password: \"grandayyy\",\r\n      firstAttempt: true,\r\n      loggingIn: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async loginStudent() {\r\n      if (!this.loginReady || this.loggingIn) return;\r\n      this.loggingIn = true;\r\n      const errorCard = this.$refs.errorCard as HTMLElement;\r\n      const domain = this.email.indexOf(\"@\");\r\n      const email =\r\n        (domain == -1 ? this.email : this.email.slice(0, domain)) + \"@skole.hr\";\r\n      const loggedIn = await login(email, this.password);\r\n\r\n      if (loggedIn) {\r\n        this.$router.push(\"/razred\");\r\n      } else {\r\n        if (!this.firstAttempt) {\r\n          errorCard.style.animation = \"none\";\r\n          errorCard.offsetWidth; // nosonar: reflow trigger\r\n          errorCard.style.animation = \"error-red 1s\";\r\n        }\r\n        this.firstAttempt = this.loggingIn = false;\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    loginReady(): boolean {\r\n      return (!!this.email && !!this.password) || true;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n@keyframes error-red {\r\n  0%,\r\n  50%,\r\n  100% {\r\n    border: 1px solid transparent;\r\n  }\r\n  25%,\r\n  75% {\r\n    border: 1px solid red;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n#login {\r\n  height: 100%;\r\n}\r\n\r\n#forms {\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n#error {\r\n  flex-basis: 100%;\r\n\r\n  .card {\r\n    margin: 10px auto;\r\n    text-align: center;\r\n    color: red;\r\n    border: 1px solid transparent;\r\n\r\n    @include themed() {\r\n      background: t(\"white-background\");\r\n    }\r\n  }\r\n}\r\n\r\n.card:not(input) {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 300px;\r\n  width: 400px;\r\n  padding: 15px;\r\n  margin: 20px;\r\n}\r\n\r\n.card-title {\r\n  font-weight: bold;\r\n  color: gray;\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.skolehr {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 17.5px;\r\n  color: gray;\r\n  font-size: 15px;\r\n  pointer-events: none;\r\n}\r\n\r\n.button {\r\n  margin-top: auto;\r\n}\r\n\r\n.loggingIn {\r\n  background: #8eb5e9;\r\n  animation: loggingIn 1s infinite linear;\r\n}\r\n\r\n#students {\r\n  transition: margin $views-transition;\r\n}\r\n\r\n@keyframes loggingIn {\r\n  50% {\r\n    opacity: 0.9;\r\n  }\r\n}\r\n\r\n.material-icons {\r\n  vertical-align: bottom;\r\n}\r\n\r\n/* transitions */\r\n\r\n.error-enter-active {\r\n  transition: all 600ms, transform 300ms;\r\n}\r\n\r\n.error-enter-from {\r\n  max-height: 0;\r\n  opacity: 0;\r\n  transform: translateY(-100px);\r\n}\r\n\r\n.error-enter-to {\r\n  max-height: 100px;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { login } from \"@/scripts/scrapers\";\r\n\r\nexport default defineComponent({\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      email: \"kristijan.rosandic\",\r\n      password: \"grandayyy\",\r\n      firstAttempt: true,\r\n      loggingIn: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async loginStudent() {\r\n      if (!this.loginReady || this.loggingIn) return;\r\n      this.loggingIn = true;\r\n      const errorCard = this.$refs.errorCard as HTMLElement;\r\n      const domain = this.email.indexOf(\"@\");\r\n      const email =\r\n        (domain == -1 ? this.email : this.email.slice(0, domain)) + \"@skole.hr\";\r\n      const loggedIn = await login(email, this.password);\r\n\r\n      if (loggedIn) {\r\n        this.$router.push(\"/razred\");\r\n      } else {\r\n        if (!this.firstAttempt) {\r\n          errorCard.style.animation = \"none\";\r\n          errorCard.offsetWidth; // nosonar: reflow trigger\r\n          errorCard.style.animation = \"error-red 1s\";\r\n        }\r\n        this.firstAttempt = this.loggingIn = false;\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    loginReady(): boolean {\r\n      return (!!this.email && !!this.password) || true;\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Login.vue?vue&type=template&id=4157b3ab&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=4157b3ab&lang=css\"\nimport \"./Login.vue?vue&type=style&index=1&id=4157b3ab&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4157b3ab\"\n\nexport default script","<template>\n  <div id=\"class-container\">\n    <div id=\"class-info\" ref=\"classInfo\">\n      <div id=\"class-title\" class=\"title\">\n        {{ openedClassInfo ? openedClassInfo.name : \"\" }}\n      </div>\n      <div>\n        <div v-for=\"(dropdown, i) in dropdowns\" :key=\"i\" class=\"dropdown-info\">\n          <div\n            :id=\"dropdown.id\"\n            class=\"expand-arrow material-icons hovered-text-button\"\n            @click=\"visibleDropdown = dropdown.id\"\n            v-wave\n          >\n            arrow_drop_down\n          </div>\n          <div class=\"dropdown-title\">{{ dropdown.title }}</div>\n          <div class=\"dropdown-name\">{{ dropdown.name }}</div>\n          <Dropdown\n            :visible=\"visibleDropdown == dropdown.id\"\n            :list=\"dropdown.list\"\n            :sourceElementId=\"dropdown.id\"\n            @close=\"closeDropdown(dropdown.id)\"\n          ></Dropdown>\n        </div>\n      </div>\n      <div\n        v-if=\"confirmedFinalGrade\"\n        id=\"confirmed-final-grade\"\n        class=\"card\"\n        v-tooltip.bottom=\"'Potvreni zavrni uspjeh (na svjedodbi)'\"\n      >\n        {{ confirmedFinalGrade }}\n      </div>\n    </div>\n    <div id=\"sections-container\" ref=\"sectionsContainer\">\n      <SlickList\n        id=\"sections\"\n        v-model:list=\"tabs\"\n        axis=\"x\"\n        lockAxis=\"x\"\n        :lockOffset=\"30\"\n        :lockToContainerEdges=\"true\"\n        :distance=\"5\"\n        @sort-start=\"tabsSortingEvent(true)\"\n        @sort-end=\"tabsSortingEvent(false)\"\n        @sort-cancel=\"tabsSortingEvent(false)\"\n        @update:list=\"tabsOrderChanged\"\n      >\n        <SlickItem\n          v-for=\"(tab, i) in tabs\"\n          :key=\"tab.name\"\n          :index=\"i\"\n          class=\"section-item\"\n        >\n          <router-link\n            :to=\"getSectionPath(tab.name)\"\n            draggable=\"false\"\n            :class=\"{\n              'router-link-active': $route.path.includes(\n                tab.name.toLowerCase(),\n              ),\n            }\"\n          >\n            <span class=\"material-icons\"> {{ tab.icon }} </span>\n            <div v-if=\"!tabsIconOnly\" class=\"section-name\">\n              {{ tab.realName || tab.name }}\n            </div>\n            <div class=\"selected-line tab-drag\"></div>\n          </router-link>\n        </SlickItem>\n        <span\n          id=\"sort\"\n          class=\"material-icons\"\n          v-tooltip.bottom-end=\"'Sortiraj kartice povlaenjem'\"\n        >\n          swap_horiz\n        </span>\n      </SlickList>\n      <div id=\"line\"></div>\n      <transition name=\"opacity\">\n        <div\n          v-show=\"activeRouterLink\"\n          class=\"selected-line\"\n          ref=\"selectedLine\"\n        ></div>\n      </transition>\n    </div>\n\n    <!-- @/views/class components -->\n    <div id=\"section\" v-if=\"classId\">\n      <router-view\n        v-slot=\"{ Component }\"\n        :classId=\"classId\"\n        @sectionLoading=\"showSpinner = true\"\n        @sectionLoaded=\"showSpinner = false\"\n      >\n        <transition :name=\"sectionTransition\" mode=\"out-in\">\n          <component :is=\"Component\" :key=\"triggerTransition\" />\n        </transition>\n      </router-view>\n      <Spinner :visible=\"showSpinner\" :size=\"'125px'\" blur></Spinner>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport { User, ClassInfo } from \"@/store/state\";\nimport { MutationTypes } from \"@/store/mutations\";\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\nimport { SlickList, SlickItem } from \"vue-slicksort\";\nimport { formatNum } from \"@/scripts/utils\";\nimport Spinner from \"@/components/Spinner.vue\";\n\ninterface DropdownInfo {\n  id: string;\n  title: string;\n  name: string;\n  list: DropdownItem[];\n}\n\nexport default defineComponent({\n  name: \"Class\",\n  components: {\n    Dropdown,\n    SlickList,\n    SlickItem,\n    Spinner,\n  },\n  beforeMount() {\n    if (!this.user) return;\n    const _tabs = this.user.settings.classTabsOrder;\n    this.tabs = _tabs.map((name) => this.tabs.find((tab) => tab.name == name)!);\n  },\n  mounted() {\n    this.$nextTick(this.classChanged);\n    this.$emitter.on(\"main-scrolled\", this.mainScrolled);\n    new (window as any).ResizeObserver(() =>\n      this.positionSelectedLine(false),\n    ).observe(this.getSectionsContainer());\n  },\n  beforeUnmount() {\n    this.$emitter.off(\"main-scrolled\", this.mainScrolled);\n    /* ResizeObserver is automatically unobserved on reference deletion! */\n  },\n  data() {\n    return {\n      classId: \"\",\n      tabsIconOnly: false,\n      showSpinner: false,\n      tabs: [\n        { name: \"Ocjene\", icon: \"grade\" },\n        { name: \"Biljeske\", realName: \"Biljeke\", icon: \"edit\" },\n        { name: \"Ispiti\", icon: \"event_note\" },\n        { name: \"Izostanci\", icon: \"timer_off\" },\n        { name: \"Vladanja\", icon: \"error\" },\n        { name: \"Raspored\", icon: \"date_range\" },\n        { name: \"Statistika\", icon: \"show_chart\" },\n      ],\n      visibleDropdown: \"\",\n      sectionTransition: \"\",\n      triggerTransition: 0,\n      activeRouterLink: undefined as HTMLElement | undefined,\n    };\n  },\n  methods: {\n    tabsSortingEvent(started: boolean) {\n      const line = this.$refs.selectedLine as HTMLElement;\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      for (const anchor of sections.querySelectorAll(\"a\")) {\n        const _line = anchor.lastElementChild as HTMLElement;\n        const s = started && anchor.classList.contains(\"router-link-active\");\n        _line.style.display = s ? \"block\" : \"none\";\n      }\n      line.style.display = started ? \"none\" : \"block\";\n    },\n    tabsOrderChanged() {\n      if (this.user)\n        this.$store.commit(MutationTypes.UPDATE_CLASS_TABS_ORDER, {\n          user: this.user,\n          tabs: this.tabs.map((tab) => tab.name),\n        });\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      sections.classList.add(\"no-transition\");\n      this.$nextTick(() => {\n        this.positionSelectedLine();\n        sections.classList.remove(\"no-transition\");\n      });\n    },\n    classChanged() {\n      if (!this.user) return;\n      let classId = this.$route.params.classId as string;\n      if (classId == \"-\") {\n        // Match the newest class by default\n        classId = this.user.classesList[0].url.match(/\\d+/)![0];\n        this.$router.replace({ params: { classId } });\n      }\n      this.classId = classId;\n    },\n    positionSelectedLine(transition?: boolean) {\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      this.activeRouterLink = sections.querySelector(\n        \".router-link-active\",\n      ) as HTMLElement;\n      if (this.activeRouterLink) {\n        const line = this.$refs.selectedLine as HTMLElement;\n        const { offsetLeft, offsetWidth } = this.activeRouterLink;\n        line.style.transition = transition\n          ? \"width 500ms, transform 500ms\"\n          : \"none\";\n        line.style.transform = \"translateX(\" + (offsetLeft + 30) + \"px)\";\n        line.style.width = offsetWidth + \"px\";\n      }\n      const user = document.getElementById(\"user\");\n      const classInfo = this.$refs.classInfo as HTMLElement;\n      if (user) classInfo.style.marginRight = user.offsetWidth + \"px\";\n      const sectionsPadding = (parseInt(sections.style.paddingRight) || 0) - 30;\n      this.tabsIconOnly = sections.offsetWidth - sectionsPadding < 880;\n    },\n    mainScrolled() {\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      const main = document.getElementById(\"main\")!;\n      const user = document.getElementById(\"user\")!;\n      const short = main.scrollTop > 30;\n      const paddingRight = user.offsetWidth + 40;\n      sections.style.paddingRight = short ? paddingRight + \"px\" : \"\";\n      sections.className = short ? \"blur\" : \"\";\n      user.classList[short ? \"add\" : \"remove\"](\"card\");\n    },\n    closeDropdown(id: string) {\n      if (id == this.visibleDropdown) this.visibleDropdown = \"\";\n    },\n    getDropdownList(filterBy?: \"headTeacher\" | \"school\"): DropdownItem[] {\n      return (\n        filterBy\n          ? this.classesList.filter((c) => c[filterBy] == this[filterBy])\n          : this.classesList\n      ).map((classInfo) => ({\n        name: filterBy ? this[filterBy] : classInfo.year,\n        alignRight: classInfo.name,\n        link:\n          \"/razred/\" +\n          classInfo.url.match(/\\d+/)![0] +\n          \"/\" +\n          this.getSectionName(this.$route.path),\n        active: classInfo.url.includes(this.classId),\n      }));\n    },\n    getSectionPath(name: string) {\n      return \"/razred/\" + this.$route.params.classId + \"/\" + name.toLowerCase();\n    },\n    getSectionName(path: string) {\n      return path.replace(/\\/razred\\/\\d+\\//, \"\").replace(/\\/\\d+$/, \"\");\n    },\n    getSectionsContainer() {\n      return this.$refs.sectionsContainer as HTMLElement | undefined;\n    },\n  },\n  computed: {\n    /* TODO: FIX mapGetters TYPES */\n    user(): User | undefined {\n      return this.$store.getters.user;\n    },\n    openedClassInfo(): ClassInfo | undefined {\n      return this.$store.getters.classInfo(\n        this.$route.params.classId as string,\n      );\n    },\n    classesList(): ClassInfo[] {\n      return this.user ? this.user.classesList : [];\n    },\n    headTeacher(): string {\n      return this.openedClassInfo ? this.openedClassInfo.headTeacher || \"\" : \"\";\n    },\n    school(): string {\n      return this.openedClassInfo ? this.openedClassInfo.school : \"\";\n    },\n    dropdowns(): DropdownInfo[] {\n      return [\n        {\n          id: \"year\",\n          title: \"Godina:\",\n          name: this.openedClassInfo ? this.openedClassInfo.year : \"\",\n          list: this.getDropdownList(),\n        },\n        {\n          id: \"headteacher\",\n          title: \"Razrednik:\",\n          name: this.headTeacher,\n          list: this.getDropdownList(\"headTeacher\"),\n        },\n        {\n          id: \"school\",\n          title: \"kola:\",\n          name: this.school,\n          list: this.getDropdownList(\"school\"),\n        },\n      ];\n    },\n    confirmedFinalGrade(): string {\n      const finalGrade =\n        this.openedClassInfo && this.openedClassInfo.finalGrade;\n      return finalGrade ? formatNum(finalGrade) : \"\";\n    },\n    tabNames(): string[] {\n      return this.tabs.map((tab) => tab.name.toLowerCase());\n    },\n  },\n  watch: {\n    $route(to, from) {\n      this.classChanged();\n      this.$nextTick(() => this.positionSelectedLine(true));\n      const toName = this.getSectionName(to.path);\n      const fromName = this.getSectionName(from.path);\n      if (toName == \"osobni-podaci\" || fromName == \"osobni-podaci\") {\n        this.sectionTransition = \"opacity\";\n        this.triggerTransition += 1;\n        return;\n      }\n      const toIdx = this.tabNames.indexOf(toName);\n      const fromIdx = this.tabNames.indexOf(fromName);\n      if (toIdx != fromIdx && fromIdx != -1) this.triggerTransition += 1;\n      this.sectionTransition = toIdx < fromIdx ? \"slide-right\" : \"slide-left\";\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\">\nbody > .section-item {\n  z-index: 10 !important;\n\n  .router-link-active .tab-drag {\n    display: block !important;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n#class-container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n}\n\n#class-info {\n  display: flex;\n  align-items: center;\n  margin: 20px 30px 0;\n}\n\n#class-title {\n  margin-right: 20px;\n}\n\n.dropdown-info {\n  position: relative;\n  display: inline-grid;\n  padding: 2px 0 2px 20px;\n\n  @include themed() {\n    color: t(\"light-gray\");\n    border-left: 1px solid t(\"light-border-color\");\n  }\n}\n\n.expand-arrow {\n  grid-area: 1 / 2 / 3 / 3;\n  font-size: 30px;\n  padding: 0 15px;\n\n  &:hover ~ .dropdown-title,\n  &:hover ~ .dropdown-name {\n    cursor: pointer;\n\n    @include themed() {\n      color: t(\"dark-blue\");\n    }\n  }\n}\n\n.dropdown-title,\n.dropdown-name {\n  transition: color 150ms;\n}\n\n.dropdown-title {\n  grid-area: 1 / 1 / 2 / 2;\n}\n\n.dropdown-name {\n  grid-area: 2 / 1 / 3 / 2;\n}\n\n#confirmed-final-grade {\n  background: #4caf50;\n  color: white;\n  padding: 5px 10px;\n  margin-left: 15px;\n}\n\n#sections-container {\n  position: sticky;\n  top: 0;\n  padding: 25px 30px 0;\n  transition: padding 150ms;\n  z-index: 6;\n  will-change: padding;\n\n  &.no-transition a {\n    transition: none !important;\n  }\n}\n\n#sections {\n  position: relative;\n  display: flex;\n}\n\n.section-item {\n  flex: 1;\n  z-index: 1;\n}\n\n.section-name {\n  padding-left: 5px;\n}\n\na {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  padding: 0 15px 15px;\n  transition: color 500ms;\n\n  @include themed() {\n    color: t(\"gray-blue\");\n\n    &.router-link-active {\n      color: t(\"strong-blue\");\n    }\n  }\n}\n\n#sort {\n  position: absolute;\n  top: -20px;\n  right: 0;\n  color: #47628282;\n  z-index: 1;\n}\n\n#line {\n  width: 100%;\n  height: 1.5px;\n\n  @include themed() {\n    background: t(\"light-border-color\");\n  }\n}\n\n.selected-line {\n  position: absolute;\n  height: 3px;\n  left: 0;\n  bottom: 0;\n  border-radius: 3px 3px 0 0;\n  transition-timing-function: cubic-bezier(0.35, 0, 0.25, 1);\n  z-index: 1;\n\n  &.tab-drag {\n    bottom: -1.5px;\n    right: 0;\n    display: none;\n  }\n\n  @include themed() {\n    background: t(\"strong-blue\");\n  }\n}\n\n#section {\n  position: relative;\n  flex: 1;\n  margin: 40px 20px;\n\n  & > div {\n    transition: opacity $views-transition, transform $views-transition;\n  }\n}\n\n/* transitions */\n\n.slide-left-leave-to,\n.slide-right-enter-from {\n  transform: translateX(-50px);\n  opacity: 0;\n}\n\n.slide-left-enter-from,\n.slide-right-leave-to {\n  transform: translateX(50px);\n  opacity: 0;\n}\n</style>\n","<template>\r\n  <transition name=\"opacity\">\r\n    <div\r\n      v-if=\"visible\"\r\n      id=\"spinner\"\r\n      class=\"flex-center abs-cover\"\r\n      :class=\"{ blur }\"\r\n    >\r\n      <img\r\n        src=\"@/assets/img/spinner.svg\"\r\n        :style=\"{ width: size, height: size }\"\r\n      />\r\n      <slot></slot>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Spinner\",\r\n  props: {\r\n    visible: Boolean,\r\n    blur: Boolean,\r\n    size: {\r\n      type: String,\r\n      default: \"150px\",\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#spinner {\r\n  top: -3px;\r\n  transform: translate3d(0, 0, 0);\r\n  will-change: opacity, transform;\r\n  transition: background-color 500ms, backdrop-filter 500ms;\r\n  z-index: 2;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Spinner\",\r\n  props: {\r\n    visible: Boolean,\r\n    blur: Boolean,\r\n    size: {\r\n      type: String,\r\n      default: \"150px\",\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Spinner.vue?vue&type=template&id=35e9765f&scoped=true\"\nimport script from \"./Spinner.vue?vue&type=script&lang=ts\"\nexport * from \"./Spinner.vue?vue&type=script&lang=ts\"\n\nimport \"./Spinner.vue?vue&type=style&index=0&id=35e9765f&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-35e9765f\"\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport { User, ClassInfo } from \"@/store/state\";\nimport { MutationTypes } from \"@/store/mutations\";\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\nimport { SlickList, SlickItem } from \"vue-slicksort\";\nimport { formatNum } from \"@/scripts/utils\";\nimport Spinner from \"@/components/Spinner.vue\";\n\ninterface DropdownInfo {\n  id: string;\n  title: string;\n  name: string;\n  list: DropdownItem[];\n}\n\nexport default defineComponent({\n  name: \"Class\",\n  components: {\n    Dropdown,\n    SlickList,\n    SlickItem,\n    Spinner,\n  },\n  beforeMount() {\n    if (!this.user) return;\n    const _tabs = this.user.settings.classTabsOrder;\n    this.tabs = _tabs.map((name) => this.tabs.find((tab) => tab.name == name)!);\n  },\n  mounted() {\n    this.$nextTick(this.classChanged);\n    this.$emitter.on(\"main-scrolled\", this.mainScrolled);\n    new (window as any).ResizeObserver(() =>\n      this.positionSelectedLine(false),\n    ).observe(this.getSectionsContainer());\n  },\n  beforeUnmount() {\n    this.$emitter.off(\"main-scrolled\", this.mainScrolled);\n    /* ResizeObserver is automatically unobserved on reference deletion! */\n  },\n  data() {\n    return {\n      classId: \"\",\n      tabsIconOnly: false,\n      showSpinner: false,\n      tabs: [\n        { name: \"Ocjene\", icon: \"grade\" },\n        { name: \"Biljeske\", realName: \"Biljeke\", icon: \"edit\" },\n        { name: \"Ispiti\", icon: \"event_note\" },\n        { name: \"Izostanci\", icon: \"timer_off\" },\n        { name: \"Vladanja\", icon: \"error\" },\n        { name: \"Raspored\", icon: \"date_range\" },\n        { name: \"Statistika\", icon: \"show_chart\" },\n      ],\n      visibleDropdown: \"\",\n      sectionTransition: \"\",\n      triggerTransition: 0,\n      activeRouterLink: undefined as HTMLElement | undefined,\n    };\n  },\n  methods: {\n    tabsSortingEvent(started: boolean) {\n      const line = this.$refs.selectedLine as HTMLElement;\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      for (const anchor of sections.querySelectorAll(\"a\")) {\n        const _line = anchor.lastElementChild as HTMLElement;\n        const s = started && anchor.classList.contains(\"router-link-active\");\n        _line.style.display = s ? \"block\" : \"none\";\n      }\n      line.style.display = started ? \"none\" : \"block\";\n    },\n    tabsOrderChanged() {\n      if (this.user)\n        this.$store.commit(MutationTypes.UPDATE_CLASS_TABS_ORDER, {\n          user: this.user,\n          tabs: this.tabs.map((tab) => tab.name),\n        });\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      sections.classList.add(\"no-transition\");\n      this.$nextTick(() => {\n        this.positionSelectedLine();\n        sections.classList.remove(\"no-transition\");\n      });\n    },\n    classChanged() {\n      if (!this.user) return;\n      let classId = this.$route.params.classId as string;\n      if (classId == \"-\") {\n        // Match the newest class by default\n        classId = this.user.classesList[0].url.match(/\\d+/)![0];\n        this.$router.replace({ params: { classId } });\n      }\n      this.classId = classId;\n    },\n    positionSelectedLine(transition?: boolean) {\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      this.activeRouterLink = sections.querySelector(\n        \".router-link-active\",\n      ) as HTMLElement;\n      if (this.activeRouterLink) {\n        const line = this.$refs.selectedLine as HTMLElement;\n        const { offsetLeft, offsetWidth } = this.activeRouterLink;\n        line.style.transition = transition\n          ? \"width 500ms, transform 500ms\"\n          : \"none\";\n        line.style.transform = \"translateX(\" + (offsetLeft + 30) + \"px)\";\n        line.style.width = offsetWidth + \"px\";\n      }\n      const user = document.getElementById(\"user\");\n      const classInfo = this.$refs.classInfo as HTMLElement;\n      if (user) classInfo.style.marginRight = user.offsetWidth + \"px\";\n      const sectionsPadding = (parseInt(sections.style.paddingRight) || 0) - 30;\n      this.tabsIconOnly = sections.offsetWidth - sectionsPadding < 880;\n    },\n    mainScrolled() {\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      const main = document.getElementById(\"main\")!;\n      const user = document.getElementById(\"user\")!;\n      const short = main.scrollTop > 30;\n      const paddingRight = user.offsetWidth + 40;\n      sections.style.paddingRight = short ? paddingRight + \"px\" : \"\";\n      sections.className = short ? \"blur\" : \"\";\n      user.classList[short ? \"add\" : \"remove\"](\"card\");\n    },\n    closeDropdown(id: string) {\n      if (id == this.visibleDropdown) this.visibleDropdown = \"\";\n    },\n    getDropdownList(filterBy?: \"headTeacher\" | \"school\"): DropdownItem[] {\n      return (\n        filterBy\n          ? this.classesList.filter((c) => c[filterBy] == this[filterBy])\n          : this.classesList\n      ).map((classInfo) => ({\n        name: filterBy ? this[filterBy] : classInfo.year,\n        alignRight: classInfo.name,\n        link:\n          \"/razred/\" +\n          classInfo.url.match(/\\d+/)![0] +\n          \"/\" +\n          this.getSectionName(this.$route.path),\n        active: classInfo.url.includes(this.classId),\n      }));\n    },\n    getSectionPath(name: string) {\n      return \"/razred/\" + this.$route.params.classId + \"/\" + name.toLowerCase();\n    },\n    getSectionName(path: string) {\n      return path.replace(/\\/razred\\/\\d+\\//, \"\").replace(/\\/\\d+$/, \"\");\n    },\n    getSectionsContainer() {\n      return this.$refs.sectionsContainer as HTMLElement | undefined;\n    },\n  },\n  computed: {\n    /* TODO: FIX mapGetters TYPES */\n    user(): User | undefined {\n      return this.$store.getters.user;\n    },\n    openedClassInfo(): ClassInfo | undefined {\n      return this.$store.getters.classInfo(\n        this.$route.params.classId as string,\n      );\n    },\n    classesList(): ClassInfo[] {\n      return this.user ? this.user.classesList : [];\n    },\n    headTeacher(): string {\n      return this.openedClassInfo ? this.openedClassInfo.headTeacher || \"\" : \"\";\n    },\n    school(): string {\n      return this.openedClassInfo ? this.openedClassInfo.school : \"\";\n    },\n    dropdowns(): DropdownInfo[] {\n      return [\n        {\n          id: \"year\",\n          title: \"Godina:\",\n          name: this.openedClassInfo ? this.openedClassInfo.year : \"\",\n          list: this.getDropdownList(),\n        },\n        {\n          id: \"headteacher\",\n          title: \"Razrednik:\",\n          name: this.headTeacher,\n          list: this.getDropdownList(\"headTeacher\"),\n        },\n        {\n          id: \"school\",\n          title: \"kola:\",\n          name: this.school,\n          list: this.getDropdownList(\"school\"),\n        },\n      ];\n    },\n    confirmedFinalGrade(): string {\n      const finalGrade =\n        this.openedClassInfo && this.openedClassInfo.finalGrade;\n      return finalGrade ? formatNum(finalGrade) : \"\";\n    },\n    tabNames(): string[] {\n      return this.tabs.map((tab) => tab.name.toLowerCase());\n    },\n  },\n  watch: {\n    $route(to, from) {\n      this.classChanged();\n      this.$nextTick(() => this.positionSelectedLine(true));\n      const toName = this.getSectionName(to.path);\n      const fromName = this.getSectionName(from.path);\n      if (toName == \"osobni-podaci\" || fromName == \"osobni-podaci\") {\n        this.sectionTransition = \"opacity\";\n        this.triggerTransition += 1;\n        return;\n      }\n      const toIdx = this.tabNames.indexOf(toName);\n      const fromIdx = this.tabNames.indexOf(fromName);\n      if (toIdx != fromIdx && fromIdx != -1) this.triggerTransition += 1;\n      this.sectionTransition = toIdx < fromIdx ? \"slide-right\" : \"slide-left\";\n    },\n  },\n});\n","import { render } from \"./Class.vue?vue&type=template&id=0281b405&scoped=true\"\nimport script from \"./Class.vue?vue&type=script&lang=ts\"\nexport * from \"./Class.vue?vue&type=script&lang=ts\"\n\nimport \"./Class.vue?vue&type=style&index=0&id=0281b405&lang=scss\"\nimport \"./Class.vue?vue&type=style&index=1&id=0281b405&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0281b405\"\n\nexport default script","<template>\r\n  <div id=\"subjects\">\r\n    <SubjectsSummary\r\n      :finalGradeOriginal=\"finalGradeOriginal\"\r\n      :finalGrade=\"finalGrade\"\r\n      :options=\"options\"\r\n      :savedOptions=\"savedOptions\"\r\n      :isOpenedSubject=\"!!openedSubject\"\r\n      @optionClicked=\"optionClicked\"\r\n      @sortOptionClicked=\"sortOptionClicked\"\r\n    ></SubjectsSummary>\r\n    <transition name=\"opacity\">\r\n      <SubjectsCounter\r\n        v-if=\"options.countAvgs.enabled\"\r\n        :subjects=\"subjects\"\r\n        @close=\"optionClicked('countAvgs', options.countAvgs)\"\r\n      ></SubjectsCounter>\r\n    </transition>\r\n    <transition name=\"opacity\">\r\n      <SlickList\r\n        v-if=\"subjects.length\"\r\n        id=\"subjects-list\"\r\n        :class=\"{ sorting: subjectsSorting }\"\r\n        :style=\"{\r\n          'grid-template-columns':\r\n            'repeat(' +\r\n            (openedSubject ? 1 : savedOptions.zoom) +\r\n            ',minmax(0, 1fr))',\r\n        }\"\r\n        v-model:list=\"subjects\"\r\n        axis=\"xy\"\r\n        helperClass=\"dragged-subject\"\r\n        :lockOffset=\"15\"\r\n        :lockToContainerEdges=\"true\"\r\n        :distance=\"5\"\r\n        :cancelKey=\"'no'\"\r\n        @sort-start=\"subjectsSorting = true\"\r\n        @update:list=\"subjectsOrderChanged\"\r\n      >\r\n        <transition-group :name=\"subjectsSorting ? '' : 'subjects-list'\">\r\n          <SlickItem\r\n            v-for=\"(subject, i) in subjects\"\r\n            :key=\"subject.url\"\r\n            :index=\"i\"\r\n            class=\"subject\"\r\n            :class=\"{\r\n              'expanded-keep': subject.expandedKeep && !openedSubject,\r\n              'is-opened': subject.isOpened,\r\n            }\"\r\n            :disabled=\"!savedOptions.sortByDragging\"\r\n            @mouseenter=\"subjectMouseEnter($event, subject)\"\r\n            @mouseleave=\"subjectMouseLeave(subject)\"\r\n          >\r\n            <SubjectCardHead\r\n              :subject=\"subject\"\r\n              :savedOptions=\"savedOptions\"\r\n              @updateGradesAvgEdited=\"(v) => updateGradesAvgEdited(subject, v)\"\r\n              @revertSubject=\"revertSubject(subject)\"\r\n            ></SubjectCardHead>\r\n            <SubjectCardBody\r\n              :subject=\"subject\"\r\n              :savedOptions=\"savedOptions\"\r\n              :isOpenedSubject=\"!!openedSubject\"\r\n              :expandTables=\"expandTables\"\r\n              :updateTablesMargin=\"updateTablesMargin\"\r\n              @expandSubject=\"(v) => expandSubject(subject, v)\"\r\n              @updateSubjectMargin=\"(v) => updateSubjectMargin(subject, v)\"\r\n              @updateGradesAvgEdited=\"updateGradesAvgEdited(subject, undefined)\"\r\n              @updateSubjectGradesAvg=\"(v) => getSubjectGradesAvg(subject, v)\"\r\n            ></SubjectCardBody>\r\n          </SlickItem>\r\n        </transition-group>\r\n      </SlickList>\r\n    </transition>\r\n\r\n    <!-- SUBJECT.VUE -->\r\n    <router-view v-slot=\"{ Component }\" :subject=\"openedSubject\">\r\n      <transition :name=\"'subject'\">\r\n        <component :is=\"Component\" />\r\n      </transition>\r\n    </router-view>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { SlickList, SlickItem } from \"vue-slicksort\";\r\nimport { getSubjectColors, jsonClone } from \"@/scripts/utils\";\r\nimport { updateSubjects } from \"@/scripts/scrapers\";\r\nimport SubjectsSummary from \"./SubjectsSummary.vue\";\r\nimport SubjectsCounter from \"./SubjectsCounter.vue\";\r\nimport SubjectCardHead from \"./SubjectCardHead.vue\";\r\nimport SubjectCardBody from \"./SubjectCardBody.vue\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\nimport {\r\n  User,\r\n  ClassInfo,\r\n  SubjectCache,\r\n  GradesByCategory,\r\n  SubjectsSettings,\r\n} from \"@/store/state\";\r\n\r\nexport interface ExtendedSubjectCache extends SubjectCache {\r\n  expanded: boolean;\r\n  expandedKeep: boolean;\r\n  marginBottom: string;\r\n  gradesByCategoryOriginal: GradesByCategory[];\r\n  gradesCount: number;\r\n  gradesAvg: number;\r\n  gradesAvgEdited?: number;\r\n  gradesAvgOriginal?: number;\r\n  lineColors?: string;\r\n  columnColors?: string;\r\n  isOpened?: boolean;\r\n}\r\n\r\nexport interface Option {\r\n  icon: string;\r\n  tooltip: string;\r\n  hideWhenSubjectIsOpen?: boolean;\r\n  fontSize?: string;\r\n  enabled?: boolean;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Subjects\",\r\n  components: {\r\n    SubjectsSummary,\r\n    SubjectsCounter,\r\n    SlickList,\r\n    SlickItem,\r\n    SubjectCardHead,\r\n    SubjectCardBody,\r\n  },\r\n  props: { classId: { type: String, required: true } },\r\n  /* emits: [\"sectionLoading\", \"sectionLoaded\"], */ // TODO: FIX TS ERROR\r\n  created() {\r\n    this.updateSubjects();\r\n  },\r\n  data() {\r\n    return {\r\n      expandTables: 1,\r\n      updateTablesMargin: 1,\r\n      subjects: [] as ExtendedSubjectCache[],\r\n      subjectsLoading: false,\r\n      subjectsSorting: false,\r\n      openedSubject: false as ExtendedSubjectCache | false,\r\n      finalGradeOriginal: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    async updateSubjects(forceUpdate?: boolean) {\r\n      if (!this.openedClassInfo || this.subjectsLoading) return;\r\n      this.$emit(\"sectionLoading\");\r\n      this.subjectsLoading = true;\r\n      if (!(await updateSubjects(this.openedClassInfo, forceUpdate))) return;\r\n      this.subjectsLoading = false;\r\n      this.$emit(\"sectionLoaded\");\r\n      this.subjects = [];  // Trigger soft 'opacity' transition\r\n      setTimeout(this.resetSubjects, 0);  // Large amount of HTML causes flicker\r\n    },\r\n    resetSubjects() {\r\n      const cached =\r\n        this.openedClassInfo && this.openedClassInfo.cachedSubjects;\r\n      if (!cached || !cached.length) return;\r\n      const clone = jsonClone(cached) as ExtendedSubjectCache[];\r\n      const { subjectsOrder, expandedSubjects } = this.savedOptions;\r\n      this.subjects = clone\r\n        .map((subject) => {\r\n          const gradesByCategoryOriginal = jsonClone(\r\n            subject.gradesByCategory || [],\r\n          );\r\n          const gradesAvg = this.getSubjectGradesAvg(\r\n            subject,\r\n            subject.gradesByCategory,\r\n          );\r\n          const gradesCount = this.getSubjectGradesCount(\r\n            subject,\r\n            subject.gradesByCategory,\r\n          );\r\n          const expandedKeep = expandedSubjects.includes(subject.url);\r\n          return {\r\n            ...subject,\r\n            gradesByCategoryOriginal,\r\n            gradesAvg,\r\n            gradesCount,\r\n            expandedKeep,\r\n          };\r\n        })\r\n        .sort((a, b) => {\r\n          return subjectsOrder.indexOf(a.url) - subjectsOrder.indexOf(b.url);\r\n        });\r\n      this.finalGradeOriginal = this.getFinalGradeOriginal();\r\n      this.$nextTick(() => (this.updateTablesMargin += 1));\r\n      this.checkActiveSubject();\r\n    },\r\n    subjectMouseEnter(e: MouseEvent, subject: ExtendedSubjectCache) {\r\n      if (!this.savedOptions.expandTablesOnHover || this.openedSubject) return;\r\n      const target = e.target as HTMLElement;\r\n      setTimeout(() => (subject.expanded = target.matches(\":hover\")), 150);\r\n    },\r\n    subjectMouseLeave(subject: ExtendedSubjectCache) {\r\n      subject.expanded = false;\r\n    },\r\n    subjectsOrderChanged() {\r\n      const savedOptions = jsonClone(this.savedOptions);\r\n      savedOptions.subjectsOrder = this.subjects.map((subject) => subject.url);\r\n      this.updateSettings(savedOptions);\r\n      this.$nextTick(() => (this.subjectsSorting = false));\r\n    },\r\n    optionClicked(optionName: string) {\r\n      const option = this.options[optionName];\r\n      const savedOptions = jsonClone(this.savedOptions);\r\n      const zoomChanged = optionName.includes(\"zoom\");\r\n      switch (optionName) {\r\n        case \"expandTablesOnHover\":\r\n          savedOptions.expandTablesOnHover = !savedOptions.expandTablesOnHover;\r\n          break;\r\n        case \"expandTables\":\r\n          this.expandTables = !option.enabled ? this.expandTables + 1 : 0;\r\n          return;\r\n        case \"zoomIn\":\r\n          savedOptions.zoom -= 1;\r\n          break;\r\n        case \"zoomOut\":\r\n          savedOptions.zoom += 1;\r\n          break;\r\n        case \"subjectColors\":\r\n          savedOptions.subjectColors = !savedOptions.subjectColors;\r\n          this.subjects.forEach(this.updateSubjectColors);\r\n          break;\r\n        case \"countAvgs\":\r\n          savedOptions.countAvgs = !savedOptions.countAvgs;\r\n          break;\r\n        case \"updateSubjects\":\r\n          this.updateSubjects(true);\r\n          return;\r\n      }\r\n      if (zoomChanged) {\r\n        savedOptions.zoom = Math.min(\r\n          Math.max(savedOptions.zoom, 1),\r\n          this.subjects.length,\r\n        );\r\n      }\r\n      this.updateSettings(savedOptions);\r\n      this.updateTablesMargin += zoomChanged ? 1 : 0;\r\n    },\r\n    sortOptionClicked(optionName: string) {\r\n      const savedOptions = jsonClone(this.savedOptions);\r\n      if (optionName.includes(\"Sortiranje\")) {\r\n        savedOptions.sortByDragging = !savedOptions.sortByDragging;\r\n        this.updateSettings(savedOptions);\r\n        return;\r\n      }\r\n      const isReverse = optionName.includes(\"silazno\");\r\n      const sortByAvg = optionName.includes(\"Prosjek\");\r\n      const sortProperty = sortByAvg ? \"gradesAvgEdited\" : \"gradesCount\";\r\n      this.subjects.sort((a, b) => {\r\n        if (!a.gradesCount && b.gradesCount) return 1; // empty subject\r\n        if (a.gradesCount && !b.gradesCount) return -1; // empty subject\r\n        const propA = a[sortProperty] || a.gradesAvg;\r\n        const propB = b[sortProperty] || b.gradesAvg;\r\n        if (propA < propB) return isReverse ? 1 : -1;\r\n        if (propA > propB) return isReverse ? -1 : 1;\r\n        return 0;\r\n      });\r\n      this.subjectsOrderChanged();\r\n    },\r\n    getSubjectGradesCount(\r\n      subject: ExtendedSubjectCache,\r\n      gradesByCategory?: GradesByCategory[],\r\n      original?: boolean,\r\n    ): number {\r\n      const gradesCount = (gradesByCategory || []).reduce((a, row) => {\r\n        return a + row.grades.flat().length;\r\n      }, 0);\r\n      if (this.savedOptions.subjectColors) this.updateSubjectColors(subject);\r\n      if (!original) subject.gradesCount = gradesCount;\r\n      return gradesCount;\r\n    },\r\n    getSubjectGradesAvg(\r\n      subject: ExtendedSubjectCache,\r\n      gradesByCategory?: GradesByCategory[],\r\n      original?: boolean,\r\n    ): number {\r\n      const gradesAvg =\r\n        (gradesByCategory || []).reduce((a, row) => {\r\n          return a + row.grades.flat().reduce((b, grade) => b + grade, 0);\r\n        }, 0) / this.getSubjectGradesCount(subject, gradesByCategory, original);\r\n      if (!original) subject.gradesAvg = gradesAvg;\r\n      else subject.gradesAvgOriginal = gradesAvg;\r\n      return gradesAvg;\r\n    },\r\n    getSubjectAvgText(subject: ExtendedSubjectCache): number {\r\n      return subject.gradesAvgEdited === undefined\r\n        ? subject.gradesAvg ||\r\n            this.getSubjectGradesAvg(subject, subject.gradesByCategory)\r\n        : subject.gradesAvgEdited;\r\n    },\r\n    getFinalGradeOriginal(): number {\r\n      const subjectsWithGrades = this.subjects.filter((subject) => {\r\n        const params = [subject, subject.gradesByCategoryOriginal, true];\r\n        return (this.getSubjectGradesCount as any)(...params);\r\n      });\r\n      return (\r\n        subjectsWithGrades.reduce((a, subject) => {\r\n          const params = [subject, subject.gradesByCategoryOriginal, true];\r\n          const avg = (this.getSubjectGradesAvg as any)(...params);\r\n          return a + (subject.finalGrade || Math.round(avg));\r\n        }, 0) / subjectsWithGrades.length\r\n      );\r\n    },\r\n    updateSubjectColors(subject: ExtendedSubjectCache) {\r\n      const counts = [0, 0, 0, 0, 0];\r\n      const cols: number[][] = [...Array(10)].map(() => []);\r\n      for (let i = 0; i < (subject.gradesByCategory || []).length; i++) {\r\n        const row = subject.gradesByCategory![i].grades;\r\n        for (let j = 0; j < row.length; j++) {\r\n          for (const grade of row[j]) {\r\n            cols[j].push(grade);\r\n            counts[grade - 1] += 1;\r\n          }\r\n        }\r\n      }\r\n      const totalCount = counts.reduce((a, b) => a + b, 0);\r\n      subject.lineColors = getSubjectColors(counts, totalCount);\r\n      subject.columnColors = getSubjectColors(cols);\r\n    },\r\n    checkActiveSubject() {\r\n      const subjectId = this.$route.params.subjectId as string;\r\n      for (const subject of this.subjects) {\r\n        this.subjectMouseLeave(subject);\r\n        const isOpened = !!subjectId && subject.url.includes(subjectId);\r\n        subject.isOpened = isOpened;\r\n      }\r\n      this.openedSubject = this.subjects.find((s) => s.isOpened) || false;\r\n    },\r\n    updateGradesAvgEdited(\r\n      subject: ExtendedSubjectCache,\r\n      newValue: number | undefined,\r\n    ) {\r\n      subject.gradesAvgEdited = newValue;\r\n    },\r\n    expandSubject(subject: ExtendedSubjectCache, expand: boolean) {\r\n      subject.expandedKeep = expand;\r\n      const savedOptions = jsonClone(this.savedOptions);\r\n      const arr = savedOptions.expandedSubjects;\r\n      const idx = arr.indexOf(subject.url);\r\n      expand ? idx == -1 && arr.push(subject.url) : arr.splice(idx, 1);\r\n      this.updateSettings(savedOptions);\r\n    },\r\n    updateSubjectMargin(subject: ExtendedSubjectCache, margin: string) {\r\n      subject.marginBottom = margin;\r\n    },\r\n    revertSubject(subject: ExtendedSubjectCache) {\r\n      subject.gradesAvgEdited = undefined;\r\n      subject.gradesByCategory = jsonClone(subject.gradesByCategoryOriginal);\r\n      this.getSubjectGradesAvg(subject, subject.gradesByCategory);\r\n    },\r\n    updateSettings(newSettings: SubjectsSettings) {\r\n      this.$store.commit(MutationTypes.UPDATE_USER_SETTINGS, {\r\n        user: this.user,\r\n        settings: {\r\n          subjectsSettings: newSettings,\r\n        },\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    user(): User {\r\n      return this.$store.getters.user as User;\r\n    },\r\n    openedClassInfo(): ClassInfo | undefined {\r\n      return this.$store.getters.classInfo(this.classId);\r\n    },\r\n    allSubjectsExpanded(): boolean {\r\n      return this.subjects.every((subject) => subject.expandedKeep);\r\n    },\r\n    finalGrade(): number {\r\n      const subjectsWithGrades = this.subjects.filter((subj) => {\r\n        if (subj.gradesAvgEdited === undefined) return subj.gradesAvg;\r\n        return !isNaN(subj.gradesAvgEdited);\r\n      });\r\n      return (\r\n        subjectsWithGrades.reduce((a, subj) => {\r\n          return a + Math.round((subj.gradesAvgEdited || subj.gradesAvg)!);\r\n        }, 0) / subjectsWithGrades.length\r\n      );\r\n    },\r\n    savedOptions(): SubjectsSettings {\r\n      return this.user.settings.subjectsSettings;\r\n    },\r\n    options(): Record<string, Option> {\r\n      return {\r\n        expandTablesOnHover: {\r\n          icon: \"menu_open\",\r\n          tooltip: \"Otvori tablice prelaskom mia\",\r\n          hideWhenSubjectIsOpen: true,\r\n          enabled: this.savedOptions.expandTablesOnHover,\r\n        },\r\n        expandTables: {\r\n          icon: \"unfold_more\",\r\n          tooltip: \"Otvori sve tablice\",\r\n          hideWhenSubjectIsOpen: true,\r\n          enabled: this.allSubjectsExpanded,\r\n        },\r\n        zoomIn: {\r\n          icon: \"zoom_in\",\r\n          tooltip: \"Poveaj prikaz\",\r\n          hideWhenSubjectIsOpen: true,\r\n        },\r\n        zoomOut: {\r\n          icon: \"zoom_out\",\r\n          tooltip: \"Smanji prikaz\",\r\n          hideWhenSubjectIsOpen: true,\r\n        },\r\n        subjectColors: {\r\n          icon: \"border_color\",\r\n          tooltip: \"Prikai boje ocjena\",\r\n          fontSize: \"18px\",\r\n          enabled: this.savedOptions.subjectColors,\r\n        },\r\n        countAvgs: {\r\n          icon: \"functions\",\r\n          tooltip: \"Zbroji zakljune ocjene\",\r\n          enabled: this.savedOptions.countAvgs,\r\n        },\r\n        sortSubjects: {\r\n          icon: \"swap_vert\",\r\n          tooltip: \"Sortiraj predmete\",\r\n        },\r\n        updateSubjects: {\r\n          icon: \"sync\",\r\n          tooltip: \"Auriraj sve ocjene\",\r\n        },\r\n      };\r\n    },\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.checkActiveSubject();\r\n    },\r\n    classId(to, from) {\r\n      if (from) this.updateSubjects();\r\n    },\r\n    allSubjectsExpanded(newVal) {\r\n      this.options.expandTables.enabled = newVal;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#subjects {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n#subjects-list {\r\n  flex: 1;\r\n  display: grid;\r\n  grid-template-columns: repeat(2, minmax(0, 1fr));\r\n\r\n  &.sorting > .subject {\r\n    pointer-events: none;\r\n    user-select: none;\r\n  }\r\n}\r\n\r\n.subject {\r\n  position: relative;\r\n  margin: 5px 10px;\r\n  white-space: nowrap;\r\n\r\n  &.is-opened > .subject-head {\r\n    z-index: 4;\r\n\r\n    @include themed() {\r\n      background: t(\"alice-blue\");\r\n    }\r\n  }\r\n\r\n  &.expanded-keep > div {\r\n    transition-delay: unset !important;\r\n\r\n    @include themed() {\r\n      background: t(\"white-background\");\r\n    }\r\n  }\r\n\r\n  &:hover {\r\n    & > .subject-head {\r\n      z-index: 4;\r\n      transition: background-color $subject-peek-duration $subject-peek-delay,\r\n        margin-bottom 500ms;\r\n\r\n      @include themed() {\r\n        background: t(\"alice-blue\");\r\n      }\r\n    }\r\n\r\n    & > .subject-body {\r\n      z-index: 3;\r\n      transition: opacity $subject-peek-duration,\r\n        transform $subject-peek-duration;\r\n    }\r\n  }\r\n}\r\n\r\n.dragged-subject > .subject-head {\r\n  transition: none;\r\n\r\n  @include themed() {\r\n    background: t(\"white-background\");\r\n  }\r\n}\r\n\r\n/* transitions */\r\n\r\n:deep(.subject-colors-enter-active),\r\n:deep(.subject-colors-leave-active) {\r\n  transition: opacity 500ms, transform 500ms;\r\n}\r\n\r\n:deep(.subject-colors-enter-from),\r\n:deep(.subject-colors-leave-to) {\r\n  opacity: 0;\r\n  transform: scaleY(0);\r\n}\r\n\r\n.subjects-list-move {\r\n  transition: transform 1s;\r\n}\r\n\r\n.subject-enter-active,\r\n.subject-leave-active {\r\n  transition: opacity 150ms, transform 150ms;\r\n}\r\n\r\n.subject-leave-active {\r\n  position: absolute !important;\r\n  right: 0;\r\n  top: 75px;\r\n}\r\n\r\n.subject-enter-from,\r\n.subject-leave-to {\r\n  opacity: 0;\r\n  transform: scaleY(0.97);\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"summary\" class=\"card\">\r\n    <div class=\"flex-center\">\r\n      Zavrna ocjena:\r\n      <div\r\n        id=\"final-grade-original\"\r\n        v-tooltip.top-start=\"{\r\n          content:\r\n            'Prosjek svih zakljunih ocjena (zavrni uspjeh).<br>' +\r\n            'Ako ocjena iz predmeta nije zakljuena, zaokruuje se prosjek.' +\r\n            '<br>Ako predmet nema ocjena, ne uraunava se u ovaj prosjek.',\r\n          html: true,\r\n        }\"\r\n      >\r\n        {{ formatNum(finalGradeOriginal) }}\r\n      </div>\r\n      <transition name=\"opacity\">\r\n        <div\r\n          v-if=\"finalGradeOriginal != finalGrade && !isNaN(finalGrade)\"\r\n          v-tooltip.top-start=\"{\r\n            content:\r\n              'Prosjek zaokruenih prosjeka.' +\r\n              '<br>Ako predmet nema ocjena, ne uraunava se u ovaj prosjek.',\r\n            html: true,\r\n          }\"\r\n        >\r\n          <div\r\n            id=\"final-grade\"\r\n            :style=\"{\r\n              color: finalGradeOriginal < finalGrade ? 'green' : 'red',\r\n            }\"\r\n          >\r\n            {{ formatNum(finalGrade) }}\r\n          </div>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n    <div id=\"options\" class=\"flex-center\">\r\n      <div\r\n        v-for=\"(option, optionName) in options\"\r\n        :key=\"optionName\"\r\n        class=\"material-icons flex-center\"\r\n        :class=\"{\r\n          'option-enabled': option.enabled,\r\n          'option-hidden': option.hideWhenSubjectIsOpen && isOpenedSubject,\r\n        }\"\r\n        :style=\"{ 'font-size': option.fontSize || '' }\"\r\n        v-tooltip=\"option.tooltip\"\r\n        v-wave\r\n        @click.self=\"optionClicked(optionName)\"\r\n      >\r\n        {{ option.icon }}\r\n        <Dropdown\r\n          v-if=\"optionName == 'sortSubjects'\"\r\n          :visible=\"sortDropdownVisible\"\r\n          :list=\"sortDropdownList\"\r\n          customClass=\"right\"\r\n          sourceElementId=\"options\"\r\n          @close=\"sortDropdownClosed\"\r\n        ></Dropdown>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\r\nimport { Option } from \"./Subjects.vue\";\r\nimport { formatNum } from \"@/scripts/utils\";\r\n\r\nexport default defineComponent({\r\n  name: \"SubjectsSummary\",\r\n  components: {\r\n    Dropdown,\r\n  },\r\n  props: {\r\n    options: {\r\n      type: Object as PropType<Record<string, Option>>,\r\n      required: true,\r\n    },\r\n    savedOptions: {\r\n      type: Object as PropType<Record<string, any>>,\r\n      required: true,\r\n    },\r\n    finalGradeOriginal: Number,\r\n    finalGrade: Number,\r\n    isOpenedSubject: Boolean,\r\n  },\r\n  emits: [\"optionClicked\", \"sortOptionClicked\"],\r\n  data() {\r\n    return {\r\n      sortDropdownVisible: false,\r\n    };\r\n  },\r\n  methods: {\r\n    optionClicked(optionName: string) {\r\n      if (optionName == \"sortSubjects\") {\r\n        this.sortDropdownVisible = true;\r\n        return;\r\n      }\r\n      this.$emit(\"optionClicked\", optionName);\r\n    },\r\n    sortDropdownClosed(rowName: string | undefined) {\r\n      this.sortDropdownVisible = rowName == \"Sortiranje povlaenjem\";\r\n      if (rowName) this.$emit(\"sortOptionClicked\", rowName);\r\n    },\r\n    formatNum: (num: number): string => formatNum(num),\r\n  },\r\n  computed: {\r\n    sortDropdownList(): DropdownItem[] {\r\n      return [\r\n        { name: \"Prosjek silazno\", icon: \"arrow_downward\" },\r\n        { name: \"Prosjek uzlazno\", icon: \"arrow_upward\" },\r\n        { name: \"Broj ocjena silazno\", icon: \"arrow_downward\" },\r\n        { name: \"Broj ocjena uzlazno\", icon: \"arrow_upward\" },\r\n        {\r\n          name: \"Sortiranje povlaenjem\",\r\n          icon: \"open_with\",\r\n          active: this.savedOptions.sortByDragging,\r\n        },\r\n      ];\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#summary {\r\n  flex: 1 1 100%;\r\n  display: flex;\r\n  font-size: 24px;\r\n  padding: 0 30px;\r\n  margin: 0 10px 30px;\r\n  height: 44px;\r\n\r\n  @include themed() {\r\n    background: linear-gradient(\r\n        45deg,\r\n        transparent 55%,\r\n        t(\"alice-blue-light\") 65%,\r\n        t(\"alice-blue\") calc(65% + 10px)\r\n      ),\r\n      linear-gradient(\r\n        -45deg,\r\n        t(\"white-background\") 65%,\r\n        t(\"alice-blue-light\") calc(75% - 10px),\r\n        t(\"alice-blue\") 75%\r\n      );\r\n  }\r\n}\r\n\r\n#final-grade-original {\r\n  padding-left: 10px;\r\n}\r\n\r\n#final-grade {\r\n  padding-left: 10px;\r\n  margin-left: 10px;\r\n  transition: color 150ms;\r\n\r\n  @include themed() {\r\n    border-left: 1px solid t(\"light-border-color\");\r\n  }\r\n}\r\n\r\n#options {\r\n  margin-left: auto;\r\n\r\n  & > div {\r\n    position: relative;\r\n    width: 24px;\r\n    height: 24px;\r\n    padding: 10px 10px;\r\n    transition: background-color 150ms, opacity 150ms, color 150ms;\r\n\r\n    &:hover {\r\n      cursor: pointer;\r\n\r\n      @include themed() {\r\n        background: t(\"light-blue\");\r\n      }\r\n    }\r\n  }\r\n\r\n  @include themed() {\r\n    color: t(\"gray-blue\");\r\n  }\r\n}\r\n\r\n.option-enabled {\r\n  color: $navbar-selected-text-color;\r\n}\r\n\r\n.option-hidden {\r\n  opacity: 0;\r\n  pointer-events: none;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\r\nimport { Option } from \"./Subjects.vue\";\r\nimport { formatNum } from \"@/scripts/utils\";\r\n\r\nexport default defineComponent({\r\n  name: \"SubjectsSummary\",\r\n  components: {\r\n    Dropdown,\r\n  },\r\n  props: {\r\n    options: {\r\n      type: Object as PropType<Record<string, Option>>,\r\n      required: true,\r\n    },\r\n    savedOptions: {\r\n      type: Object as PropType<Record<string, any>>,\r\n      required: true,\r\n    },\r\n    finalGradeOriginal: Number,\r\n    finalGrade: Number,\r\n    isOpenedSubject: Boolean,\r\n  },\r\n  emits: [\"optionClicked\", \"sortOptionClicked\"],\r\n  data() {\r\n    return {\r\n      sortDropdownVisible: false,\r\n    };\r\n  },\r\n  methods: {\r\n    optionClicked(optionName: string) {\r\n      if (optionName == \"sortSubjects\") {\r\n        this.sortDropdownVisible = true;\r\n        return;\r\n      }\r\n      this.$emit(\"optionClicked\", optionName);\r\n    },\r\n    sortDropdownClosed(rowName: string | undefined) {\r\n      this.sortDropdownVisible = rowName == \"Sortiranje povlaenjem\";\r\n      if (rowName) this.$emit(\"sortOptionClicked\", rowName);\r\n    },\r\n    formatNum: (num: number): string => formatNum(num),\r\n  },\r\n  computed: {\r\n    sortDropdownList(): DropdownItem[] {\r\n      return [\r\n        { name: \"Prosjek silazno\", icon: \"arrow_downward\" },\r\n        { name: \"Prosjek uzlazno\", icon: \"arrow_upward\" },\r\n        { name: \"Broj ocjena silazno\", icon: \"arrow_downward\" },\r\n        { name: \"Broj ocjena uzlazno\", icon: \"arrow_upward\" },\r\n        {\r\n          name: \"Sortiranje povlaenjem\",\r\n          icon: \"open_with\",\r\n          active: this.savedOptions.sortByDragging,\r\n        },\r\n      ];\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./SubjectsSummary.vue?vue&type=template&id=56e9793b&scoped=true\"\nimport script from \"./SubjectsSummary.vue?vue&type=script&lang=ts\"\nexport * from \"./SubjectsSummary.vue?vue&type=script&lang=ts\"\n\nimport \"./SubjectsSummary.vue?vue&type=style&index=0&id=56e9793b&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-56e9793b\"\n\nexport default script","<template>\r\n  <div id=\"counter\" class=\"blur\" @click.self=\"$emit('close')\">\r\n    <div id=\"container\" class=\"card\">\r\n      <div\r\n        v-for=\"i in 5\"\r\n        :key=\"i\"\r\n        class=\"card\"\r\n        v-tooltip.right=\"{\r\n          content: gradeCounts[5 - i].subjects.join('<br>'),\r\n          html: true,\r\n        }\"\r\n      >\r\n        <div>{{ gradeTitles[i - 1] }}:</div>\r\n        <input\r\n          min=\"0\"\r\n          v-model.number=\"gradeCounts[5 - i].count\"\r\n          type=\"number\"\r\n          class=\"card\"\r\n        />\r\n      </div>\r\n      <div id=\"finalGrade\">\r\n        <span\r\n          class=\"material-icons\"\r\n          v-tooltip.top-start=\"{\r\n            content:\r\n              'Prosjek svih zakljunih ocjena (zavrni uspjeh).<br>' +\r\n              'Ako ocjena iz predmeta nije zakljuena, zaokruuje se prosjek.' +\r\n              '<br>Ako predmet nema ocjena, ne uraunava se u ovaj prosjek.',\r\n            html: true,\r\n          }\"\r\n        >\r\n          info </span\r\n        >{{ finalGrade }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport { ExtendedSubjectCache } from \"@/views/class/subjects/Subjects.vue\";\r\nimport { formatNum } from \"@/scripts/utils\";\r\n\r\ninterface Row {\r\n  subjects: string[];\r\n  count: number;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"SubjectsCounter\",\r\n  props: {\r\n    subjects: {\r\n      type: Object as PropType<ExtendedSubjectCache[]>,\r\n      required: true,\r\n    },\r\n  },\r\n  emits: [\"close\"],\r\n  created() {\r\n    this.updateData();\r\n  },\r\n  data() {\r\n    return {\r\n      gradeTitles: [\r\n        \"Odlinih (5)\",\r\n        \"Vrlo dobrih (4)\",\r\n        \"Dobrih (3)\",\r\n        \"Dovoljnih (2)\",\r\n        \"Nedovoljnih (1)\",\r\n      ],\r\n      gradeCounts: [] as Row[],\r\n    };\r\n  },\r\n  methods: {\r\n    updateData() {\r\n      this.gradeCounts = [\r\n        { subjects: [], count: 0 },\r\n        { subjects: [], count: 0 },\r\n        { subjects: [], count: 0 },\r\n        { subjects: [], count: 0 },\r\n        { subjects: [], count: 0 },\r\n      ];\r\n      for (const subject of this.subjects) {\r\n        const name = subject.name;\r\n        let row;\r\n        if (subject.finalGrade) {\r\n          row = this.gradeCounts[Math.round(subject.finalGrade) - 1];\r\n        } else if (subject.gradesAvgOriginal) {\r\n          row = this.gradeCounts[Math.round(subject.gradesAvgOriginal) - 1];\r\n        }\r\n        if (row) {\r\n          row.subjects.push(name);\r\n          row.count += 1;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    finalGrade(): string {\r\n      return formatNum(\r\n        this.gradeCounts.reduce((a, b, i) => a + b.count * (i + 1), 0) /\r\n          this.gradeCounts.reduce((a, b) => a + b.count, 0),\r\n      );\r\n    },\r\n  },\r\n  watch: {\r\n    subjects() {\r\n      this.updateData();\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#counter {\r\n  position: absolute;\r\n  top: 75px;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  font-size: 24px;\r\n  z-index: 5;\r\n}\r\n\r\n#container {\r\n  width: fit-content;\r\n  margin: 100px auto;\r\n\r\n  .card {\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    & > div {\r\n      text-align: right;\r\n      margin-left: 20px;\r\n      flex: 1;\r\n    }\r\n  }\r\n\r\n  @include themed() {\r\n    background: t(\"alice-blue\");\r\n  }\r\n}\r\n\r\ninput {\r\n  width: 75px;\r\n  font-size: 24px;\r\n  margin: 10px;\r\n}\r\n\r\n#finalGrade {\r\n  padding: 10px 25px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport { ExtendedSubjectCache } from \"@/views/class/subjects/Subjects.vue\";\r\nimport { formatNum } from \"@/scripts/utils\";\r\n\r\ninterface Row {\r\n  subjects: string[];\r\n  count: number;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"SubjectsCounter\",\r\n  props: {\r\n    subjects: {\r\n      type: Object as PropType<ExtendedSubjectCache[]>,\r\n      required: true,\r\n    },\r\n  },\r\n  emits: [\"close\"],\r\n  created() {\r\n    this.updateData();\r\n  },\r\n  data() {\r\n    return {\r\n      gradeTitles: [\r\n        \"Odlinih (5)\",\r\n        \"Vrlo dobrih (4)\",\r\n        \"Dobrih (3)\",\r\n        \"Dovoljnih (2)\",\r\n        \"Nedovoljnih (1)\",\r\n      ],\r\n      gradeCounts: [] as Row[],\r\n    };\r\n  },\r\n  methods: {\r\n    updateData() {\r\n      this.gradeCounts = [\r\n        { subjects: [], count: 0 },\r\n        { subjects: [], count: 0 },\r\n        { subjects: [], count: 0 },\r\n        { subjects: [], count: 0 },\r\n        { subjects: [], count: 0 },\r\n      ];\r\n      for (const subject of this.subjects) {\r\n        const name = subject.name;\r\n        let row;\r\n        if (subject.finalGrade) {\r\n          row = this.gradeCounts[Math.round(subject.finalGrade) - 1];\r\n        } else if (subject.gradesAvgOriginal) {\r\n          row = this.gradeCounts[Math.round(subject.gradesAvgOriginal) - 1];\r\n        }\r\n        if (row) {\r\n          row.subjects.push(name);\r\n          row.count += 1;\r\n        }\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    finalGrade(): string {\r\n      return formatNum(\r\n        this.gradeCounts.reduce((a, b, i) => a + b.count * (i + 1), 0) /\r\n          this.gradeCounts.reduce((a, b) => a + b.count, 0),\r\n      );\r\n    },\r\n  },\r\n  watch: {\r\n    subjects() {\r\n      this.updateData();\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./SubjectsCounter.vue?vue&type=template&id=3d502fe0&scoped=true\"\nimport script from \"./SubjectsCounter.vue?vue&type=script&lang=ts\"\nexport * from \"./SubjectsCounter.vue?vue&type=script&lang=ts\"\n\nimport \"./SubjectsCounter.vue?vue&type=style&index=0&id=3d502fe0&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3d502fe0\"\n\nexport default script","<template>\n  <div\n    class=\"subject-head card\"\n    :style=\"{ 'margin-bottom': subject.marginBottom }\"\n  >\n    <transition name=\"opacity\">\n      <div\n        v-if=\"\n          subject.finalGrade &&\n          subject.finalGrade != Math.round(subject.gradesAvgOriginal)\n        \"\n        class=\"material-icons subject-diff\"\n        v-tooltip.top-start=\"\n          subject.finalGrade > Math.round(subject.gradesAvgOriginal)\n            ? 'Zakljuena je ocjena vea od zaokruenog prosjeka.'\n            : 'Zakljuena je ocjena manja od zaokruenog prosjeka.'\n        \"\n        :style=\"{\n          color:\n            subject.finalGrade > Math.round(subject.gradesAvgOriginal)\n              ? 'green'\n              : 'red',\n        }\"\n      >\n        {{\n          subject.finalGrade > Math.round(subject.gradesAvgOriginal)\n            ? \"arrow_upward\"\n            : \"arrow_downward\"\n        }}\n      </div>\n    </transition>\n    <transition name=\"opacity\">\n      <span\n        v-if=\"isSubjectEdited()\"\n        class=\"material-icons subject-warning\"\n        v-tooltip=\"'Klikni za ponitavanje promjena'\"\n        @click=\"$emit('revertSubject')\"\n      >\n        priority_high\n      </span>\n    </transition>\n\n    <div class=\"subject-info\" @wheel=\"onSubjectInfoWheel\">\n      <router-link\n        :to=\"getSubjectUrl(subject.url)\"\n        class=\"subject-name\"\n        :class=\"{ active: subject.isOpened }\"\n        >{{ subject.name }}</router-link\n      >\n      <div class=\"teachers\">{{ subject.teachers }}</div>\n    </div>\n    <div class=\"grade-count\">{{ subject.gradesCount }}</div>\n    <div\n      class=\"grade-avg flex-center\"\n      contenteditable=\"true\"\n      @input=\"avgInputted\"\n      @focus=\"avgFocusChanged\"\n      @blur=\"avgFocusChanged\"\n      :style=\"{ color: getSubjectAvgColor(subject) }\"\n      :title=\"subject.gradesAvgOriginal\"\n    >\n      {{\n        formatNum(\n          subject.gradesAvgEdited === undefined\n            ? subject.gradesAvg\n            : subject.gradesAvgEdited,\n        )\n      }}\n    </div>\n    <transition name=\"subject-colors\">\n      <div\n        v-if=\"savedOptions.subjectColors\"\n        class=\"line-colors\"\n        :style=\"{ background: subject.lineColors }\"\n      ></div>\n    </transition>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport { ExtendedSubjectCache } from \"@/views/class/subjects/Subjects.vue\";\nimport { GradesByCategory } from \"@/store/state\";\nimport { formatNum, jsonClone, setEndOfContenteditable } from \"@/scripts/utils\";\n\nexport default defineComponent({\n  name: \"SubjectCardHead\",\n  props: {\n    subject: {\n      type: Object as PropType<ExtendedSubjectCache>,\n      required: true,\n    },\n    savedOptions: Object as PropType<Record<string, any>>,\n  },\n  // emits: [\"revertSubject\", \"updateGradesAvgEdited\"],\n  methods: {\n    onSubjectInfoWheel(e: WheelEvent) {\n      const path = ((e as any).path ||\n        (e.composedPath && e.composedPath()) ||\n        []) as HTMLElement[];\n      const target = path.find((el) => el.className == \"subject-info\");\n      if (!target) return;\n      const toLeft = e.deltaY < 0 && target.scrollLeft > 0;\n      const toRight =\n        e.deltaY > 0 &&\n        target.scrollLeft < target.scrollWidth - target.clientWidth;\n      if (toLeft || toRight) {\n        e.preventDefault();\n        target.scrollBy({ left: e.deltaY, behavior: \"smooth\" });\n      }\n    },\n    isSubjectEdited(): boolean {\n      const current = this.mapSubjectGrades(\n        this.subject.gradesByCategory || [],\n      );\n      const original = this.mapSubjectGrades(\n        this.subject.gradesByCategoryOriginal || [],\n      );\n      return (\n        this.subject.gradesAvgEdited !== undefined ||\n        JSON.stringify(current) != JSON.stringify(original)\n      );\n    },\n    mapSubjectGrades(grades: GradesByCategory[]): number[][][] {\n      return grades.map((row) => row.grades.map((cell) => [...cell].sort())); // nosonar\n    },\n    avgInputted(e: InputEvent) {\n      const target = e.target as HTMLElement;\n      const validInput = e.data && /[1-5]/.test(e.data);\n      if (!validInput) target.textContent = \"\";\n      this.$emit(\"updateGradesAvgEdited\", validInput ? parseInt(e.data!) : NaN);\n      target.textContent = target.textContent!.slice(0, 4);\n      this.$nextTick(() => target && setEndOfContenteditable(target));\n    },\n    avgFocusChanged(e: FocusEvent) {\n      const target = e.target as HTMLElement;\n      if (e.type == \"focus\" && target.textContent == \"\")\n        target.textContent = \"\";\n      else if (e.type == \"blur\" && !target.textContent)\n        target.textContent = \"\";\n    },\n    getSubjectAvgColor(): string {\n      const avg = this.subject.gradesAvgEdited || this.subject.gradesAvg;\n      const originalAvg = this.subject.gradesAvgOriginal;\n      if (!avg || avg == originalAvg) return \"\";\n      if (!originalAvg || avg < originalAvg) return \"red\";\n      return \"green\";\n    },\n    getSubjectUrl(path: string): string {\n      const match = path.match(/\\d+/);\n      const fullPath = this.$route.path.replace(/\\/(\\d+)?$/, \"\");\n      return fullPath + \"/\" + (match ? match[0] : \"\");\n    },\n\n    formatNum: (num: number): string => formatNum(num),\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n/* icons */\n\n.subject-diff {\n  position: absolute;\n  top: 0;\n}\n\n.subject-warning {\n  position: absolute;\n  top: 50%;\n  right: 0;\n  transform: translateY(-50%);\n  color: #ff7f7f;\n  cursor: pointer;\n  z-index: 1;\n}\n\n/* subject head */\n\n.subject-head {\n  position: relative;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  border-radius: 8px;\n  background: transparent;\n  overflow: hidden;\n  margin-bottom: 0;\n  transition: background-color $subject-peek-duration,\n    margin-bottom 500ms, z-index 0ms $subject-peek-duration;\n  z-index: 2;\n  transform: translateZ(0);\n  will-change: margin, margin-bottom;\n}\n\n.subject-info {\n  display: flex;\n  overflow-x: auto;\n  margin: 0 auto 0 30px;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n}\n\n.grade-count {\n  position: relative;\n  flex-shrink: 0;\n  width: 50px;\n  text-align: center;\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    left: -45px;\n    height: 100%;\n    width: 30px;\n\n    @include themed() {\n      background: linear-gradient(to right, transparent, t(\"white-background\"));\n    }\n  }\n}\n\n.grade-avg {\n  flex-shrink: 0;\n  height: 100%;\n  line-height: 44px;\n  width: 75px;\n  border-radius: 8px;\n  text-align: center;\n  clip-path: inset(1px 1px 1px -5px);\n  outline: none;\n  transition: color 150ms;\n\n  @include themed() {\n    border-left: 1px solid t(\"light-border-color\");\n    box-shadow: t(\"gray-shadow\");\n  }\n}\n\n.line-colors {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  height: 4px;\n  transform-origin: bottom;\n}\n</style>\n","\nimport { defineComponent, PropType } from \"vue\";\nimport { ExtendedSubjectCache } from \"@/views/class/subjects/Subjects.vue\";\nimport { GradesByCategory } from \"@/store/state\";\nimport { formatNum, jsonClone, setEndOfContenteditable } from \"@/scripts/utils\";\n\nexport default defineComponent({\n  name: \"SubjectCardHead\",\n  props: {\n    subject: {\n      type: Object as PropType<ExtendedSubjectCache>,\n      required: true,\n    },\n    savedOptions: Object as PropType<Record<string, any>>,\n  },\n  // emits: [\"revertSubject\", \"updateGradesAvgEdited\"],\n  methods: {\n    onSubjectInfoWheel(e: WheelEvent) {\n      const path = ((e as any).path ||\n        (e.composedPath && e.composedPath()) ||\n        []) as HTMLElement[];\n      const target = path.find((el) => el.className == \"subject-info\");\n      if (!target) return;\n      const toLeft = e.deltaY < 0 && target.scrollLeft > 0;\n      const toRight =\n        e.deltaY > 0 &&\n        target.scrollLeft < target.scrollWidth - target.clientWidth;\n      if (toLeft || toRight) {\n        e.preventDefault();\n        target.scrollBy({ left: e.deltaY, behavior: \"smooth\" });\n      }\n    },\n    isSubjectEdited(): boolean {\n      const current = this.mapSubjectGrades(\n        this.subject.gradesByCategory || [],\n      );\n      const original = this.mapSubjectGrades(\n        this.subject.gradesByCategoryOriginal || [],\n      );\n      return (\n        this.subject.gradesAvgEdited !== undefined ||\n        JSON.stringify(current) != JSON.stringify(original)\n      );\n    },\n    mapSubjectGrades(grades: GradesByCategory[]): number[][][] {\n      return grades.map((row) => row.grades.map((cell) => [...cell].sort())); // nosonar\n    },\n    avgInputted(e: InputEvent) {\n      const target = e.target as HTMLElement;\n      const validInput = e.data && /[1-5]/.test(e.data);\n      if (!validInput) target.textContent = \"\";\n      this.$emit(\"updateGradesAvgEdited\", validInput ? parseInt(e.data!) : NaN);\n      target.textContent = target.textContent!.slice(0, 4);\n      this.$nextTick(() => target && setEndOfContenteditable(target));\n    },\n    avgFocusChanged(e: FocusEvent) {\n      const target = e.target as HTMLElement;\n      if (e.type == \"focus\" && target.textContent == \"\")\n        target.textContent = \"\";\n      else if (e.type == \"blur\" && !target.textContent)\n        target.textContent = \"\";\n    },\n    getSubjectAvgColor(): string {\n      const avg = this.subject.gradesAvgEdited || this.subject.gradesAvg;\n      const originalAvg = this.subject.gradesAvgOriginal;\n      if (!avg || avg == originalAvg) return \"\";\n      if (!originalAvg || avg < originalAvg) return \"red\";\n      return \"green\";\n    },\n    getSubjectUrl(path: string): string {\n      const match = path.match(/\\d+/);\n      const fullPath = this.$route.path.replace(/\\/(\\d+)?$/, \"\");\n      return fullPath + \"/\" + (match ? match[0] : \"\");\n    },\n\n    formatNum: (num: number): string => formatNum(num),\n  },\n});\n","import { render } from \"./SubjectCardHead.vue?vue&type=template&id=39c1cd05&scoped=true\"\nimport script from \"./SubjectCardHead.vue?vue&type=script&lang=ts\"\nexport * from \"./SubjectCardHead.vue?vue&type=script&lang=ts\"\n\nimport \"./SubjectCardHead.vue?vue&type=style&index=0&id=39c1cd05&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-39c1cd05\"\n\nexport default script","<template>\r\n  <transition name=\"subject-body\">\r\n    <div\r\n      v-show=\"(subject.expanded || subject.expandedKeep) && !isOpenedSubject\"\r\n      class=\"subject-body card\"\r\n      ref=\"subjectBody\"\r\n    >\r\n      <template\r\n        v-if=\"subject.gradesByCategory && subject.gradesByCategory.length\"\r\n      >\r\n        <transition name=\"subject-colors\">\r\n          <div\r\n            v-if=\"savedOptions.subjectColors\"\r\n            class=\"column-colors\"\r\n            :style=\"{ background: subject.columnColors }\"\r\n          ></div>\r\n        </transition>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <td>\r\n                <div\r\n                  class=\"pin-subject\"\r\n                  :class=\"{ pinned: subject.expandedKeep }\"\r\n                  @click=\"expandSubject(!subject.expandedKeep)\"\r\n                >\r\n                  <span class=\"material-icons\"> keyboard_capslock </span>\r\n                  Zadri\r\n                </div>\r\n              </td>\r\n              <td>IX</td>\r\n              <td>X</td>\r\n              <td>XI</td>\r\n              <td>XII</td>\r\n              <td>I</td>\r\n              <td>II</td>\r\n              <td>III</td>\r\n              <td>IV</td>\r\n              <td>V</td>\r\n              <td>VI</td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"(row, i) in subject.gradesByCategory\" :key=\"i\">\r\n              <td v-tooltip=\"row.name\">\r\n                {{ row.name }}\r\n              </td>\r\n              <td\r\n                v-for=\"(grades, j) in row.grades\"\r\n                :key=\"j\"\r\n                contenteditable=\"true\"\r\n                @input=\"\r\n                  gradeInputted(\r\n                    $event,\r\n                    subject.gradesByCategoryOriginal[i].grades[j].slice(),\r\n                    grades,\r\n                  )\r\n                \"\r\n                v-html=\"\r\n                  getCellGrades(\r\n                    subject.gradesByCategoryOriginal[i].grades[j].slice(),\r\n                    grades.slice(),\r\n                  )\r\n                \"\r\n              ></td>\r\n            </tr>\r\n            <tr>\r\n              <template v-if=\"subject.finalGrade\">\r\n                <td>Zakljuena ocjena</td>\r\n                <td colspan=\"10\" style=\"font-weight: bold\">\r\n                  {{ formatGradeText(subject.finalGrade) }}\r\n                </td>\r\n              </template>\r\n              <template v-else-if=\"subject.lastNote\">\r\n                <td v-tooltip=\"'Zadnja biljeka'\" style=\"text-align: center\">\r\n                  {{ subject.lastNote.date }}\r\n                </td>\r\n                <td\r\n                  :colspan=\"subject.lastNote.grade ? 9 : 10\"\r\n                  class=\"last-note\"\r\n                >\r\n                  {{ subject.lastNote.note }}\r\n                </td>\r\n                <td v-if=\"subject.lastNote.grade\">\r\n                  {{ subject.lastNote.grade }}\r\n                </td>\r\n              </template>\r\n              <td v-else colspan=\"11\">Predmet nema biljeke.</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </template>\r\n      <div v-else class=\"no-grades\" style=\"text-align: center\">\r\n        Predmet nema ocjena.\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport { ExtendedSubjectCache } from \"@/views/class/subjects/Subjects.vue\";\r\nimport { formatGradeText, setEndOfContenteditable } from \"@/scripts/utils\";\r\n\r\nexport default defineComponent({\r\n  name: \"SubjectCardBody\",\r\n  props: {\r\n    subject: {\r\n      type: Object as PropType<ExtendedSubjectCache>,\r\n      required: true,\r\n    },\r\n    savedOptions: Object as PropType<Record<string, any>>,\r\n    isOpenedSubject: Boolean,\r\n    expandTables: Number,\r\n    updateTablesMargin: Number,\r\n  },\r\n  /* emits: [\r\n    \"expandSubject\",\r\n    \"updateSubjectMargin\",\r\n    \"updateGradesAvgEdited\",\r\n    \"updateSubjectGradesAvg\",\r\n  ], */\r\n  methods: {\r\n    expandSubject(expand: boolean, doNotSave?: boolean) {\r\n      if (!doNotSave) this.$emit(\"expandSubject\", expand);\r\n      this.$nextTick(() => {\r\n        const subjectBody = this.$refs[\"subjectBody\"] as HTMLElement;\r\n        const margin = expand ? subjectBody.offsetHeight + \"px\" : \"0px\";\r\n        this.$emit(\"updateSubjectMargin\", margin);\r\n      });\r\n    },\r\n    gradeInputted(e: InputEvent, originalGrades: number[], grades: number[]) {\r\n      const target = e.target as HTMLElement;\r\n      const clone = target.cloneNode(true) as HTMLElement;\r\n      clone.querySelectorAll(\"[contenteditable]\").forEach((el) => el.remove());\r\n      const _grades = (clone.textContent as string).match(/[1-5]/g) || [];\r\n      target.innerHTML = this.getCellGrades(originalGrades, grades.slice());\r\n      grades.length = 0;\r\n      grades.push(..._grades.map(Number));\r\n      this.$emit(\"updateGradesAvgEdited\");\r\n      this.$emit(\"updateSubjectGradesAvg\", this.subject.gradesByCategory);\r\n      this.$nextTick(() => setEndOfContenteditable(target));\r\n    },\r\n    getCellGrades(originalGrades: number[], grades: number[]): string {\r\n      const sharedGrades: string[] = [];\r\n      for (let i = 0; i < originalGrades.length; i++) {\r\n        const idx = grades.indexOf(originalGrades[i]);\r\n        if (idx == -1) continue;\r\n        sharedGrades.push(\"<span>\" + originalGrades[i] + \"</span>\");\r\n        grades.splice(idx, 1);\r\n        originalGrades.splice(i, 1);\r\n        i -= 1; // nosonar\r\n      }\r\n      return [\r\n        ...originalGrades.map(\r\n          (grade) =>\r\n            \"<span class='line-through' \" +\r\n            (\"contenteditable='false'>\" + grade + \"</span>\"),\r\n        ),\r\n        ...sharedGrades,\r\n        ...grades.map((grade) => \"<span class='red'>\" + grade + \"</span>\"),\r\n      ].join(\", \");\r\n    },\r\n    formatGradeText: (num: number): string => formatGradeText(num),\r\n  },\r\n  watch: {\r\n    expandTables(enabled) {\r\n      this.expandSubject(!!enabled); // true if positive num\r\n    },\r\n    isOpenedSubject(isSomeSubjectOpened) {\r\n      this.expandSubject(!isSomeSubjectOpened, true);\r\n    },\r\n    updateTablesMargin() {\r\n      this.expandSubject(this.subject.expandedKeep, true);\r\n    },\r\n    \"subject.gradesByCategory\": {\r\n      handler() {\r\n        this.expandSubject(this.subject.expandedKeep, true);\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.red {\r\n  color: red !important;\r\n}\r\n\r\n.line-through {\r\n  color: gray !important;\r\n  text-decoration: line-through;\r\n}\r\n\r\n.theme--dark .column-colors + table {\r\n  [contenteditable] {\r\n    color: white;\r\n    text-shadow: 0 0 3px black;\r\n  }\r\n\r\n  .red {\r\n    text-shadow: 0 0 3px white !important;\r\n  }\r\n\r\n  .line-through {\r\n    text-shadow: 0 0 1px white !important;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n$first-col-width: 150px;\r\n\r\n.subject-body {\r\n  position: absolute;\r\n  left: -4px;\r\n  right: -4px;\r\n  padding-top: 10px;\r\n  top: 40px;\r\n  font-size: 14px;\r\n  transition: opacity $subject-peek-duration, transform $subject-peek-duration,\r\n    z-index 0ms $subject-peek-duration;\r\n  transform-origin: top;\r\n  overflow: hidden;\r\n  z-index: 1;\r\n\r\n  @include themed() {\r\n    background: t(\"white-background\");\r\n  }\r\n}\r\n\r\n.pin-subject {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  user-select: none;\r\n  transition: color 150ms;\r\n\r\n  &.pinned {\r\n    @include themed() {\r\n      color: t(\"strong-blue\");\r\n    }\r\n  }\r\n\r\n  span {\r\n    padding: 0 10px 0 24px;\r\n  }\r\n}\r\n\r\ntable {\r\n  table-layout: fixed;\r\n  white-space: pre-line;\r\n  width: 100%;\r\n  border-spacing: 0;\r\n}\r\n\r\nthead {\r\n  font-weight: bold;\r\n\r\n  @include themed() {\r\n    background: t(\"white-background\");\r\n  }\r\n}\r\n\r\ntbody tr {\r\n  transition: background-color 150ms;\r\n\r\n  &:last-child {\r\n    @include themed() {\r\n      background: t(\"white-background\");\r\n    }\r\n  }\r\n}\r\n\r\ntd {\r\n  border-radius: 4px;\r\n  text-align: center;\r\n  padding: 3px 5px;\r\n  overflow: hidden;\r\n  outline: none;\r\n  transition: color 150ms, text-shadow 150ms;\r\n\r\n  &:first-child {\r\n    width: $first-col-width;\r\n    text-align: left;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n  }\r\n\r\n  @include themed() {\r\n    border: 1px solid t(\"light-light-border-color\");\r\n  }\r\n}\r\n\r\n.last-note {\r\n  white-space: nowrap;\r\n  text-overflow: ellipsis;\r\n\r\n  &:hover {\r\n    white-space: normal;\r\n  }\r\n}\r\n\r\n.no-grades {\r\n  text-align: center;\r\n  padding: 10px;\r\n}\r\n\r\n.column-colors {\r\n  position: absolute;\r\n  left: $first-col-width;\r\n  top: 30px;\r\n  right: 0;\r\n  bottom: 0;\r\n  opacity: 0.6;\r\n  transform-origin: top;\r\n  z-index: -1;\r\n}\r\n\r\n/* transitions */\r\n\r\n.subject-body-enter-from {\r\n  opacity: 0;\r\n  transform: scaleY(0.5) translateY(-10px);\r\n}\r\n\r\n.subject-body-leave-to {\r\n  opacity: 0;\r\n  transform: scale(0.97);\r\n}\r\n</style>\r\n","\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport { ExtendedSubjectCache } from \"@/views/class/subjects/Subjects.vue\";\r\nimport { formatGradeText, setEndOfContenteditable } from \"@/scripts/utils\";\r\n\r\nexport default defineComponent({\r\n  name: \"SubjectCardBody\",\r\n  props: {\r\n    subject: {\r\n      type: Object as PropType<ExtendedSubjectCache>,\r\n      required: true,\r\n    },\r\n    savedOptions: Object as PropType<Record<string, any>>,\r\n    isOpenedSubject: Boolean,\r\n    expandTables: Number,\r\n    updateTablesMargin: Number,\r\n  },\r\n  /* emits: [\r\n    \"expandSubject\",\r\n    \"updateSubjectMargin\",\r\n    \"updateGradesAvgEdited\",\r\n    \"updateSubjectGradesAvg\",\r\n  ], */\r\n  methods: {\r\n    expandSubject(expand: boolean, doNotSave?: boolean) {\r\n      if (!doNotSave) this.$emit(\"expandSubject\", expand);\r\n      this.$nextTick(() => {\r\n        const subjectBody = this.$refs[\"subjectBody\"] as HTMLElement;\r\n        const margin = expand ? subjectBody.offsetHeight + \"px\" : \"0px\";\r\n        this.$emit(\"updateSubjectMargin\", margin);\r\n      });\r\n    },\r\n    gradeInputted(e: InputEvent, originalGrades: number[], grades: number[]) {\r\n      const target = e.target as HTMLElement;\r\n      const clone = target.cloneNode(true) as HTMLElement;\r\n      clone.querySelectorAll(\"[contenteditable]\").forEach((el) => el.remove());\r\n      const _grades = (clone.textContent as string).match(/[1-5]/g) || [];\r\n      target.innerHTML = this.getCellGrades(originalGrades, grades.slice());\r\n      grades.length = 0;\r\n      grades.push(..._grades.map(Number));\r\n      this.$emit(\"updateGradesAvgEdited\");\r\n      this.$emit(\"updateSubjectGradesAvg\", this.subject.gradesByCategory);\r\n      this.$nextTick(() => setEndOfContenteditable(target));\r\n    },\r\n    getCellGrades(originalGrades: number[], grades: number[]): string {\r\n      const sharedGrades: string[] = [];\r\n      for (let i = 0; i < originalGrades.length; i++) {\r\n        const idx = grades.indexOf(originalGrades[i]);\r\n        if (idx == -1) continue;\r\n        sharedGrades.push(\"<span>\" + originalGrades[i] + \"</span>\");\r\n        grades.splice(idx, 1);\r\n        originalGrades.splice(i, 1);\r\n        i -= 1; // nosonar\r\n      }\r\n      return [\r\n        ...originalGrades.map(\r\n          (grade) =>\r\n            \"<span class='line-through' \" +\r\n            (\"contenteditable='false'>\" + grade + \"</span>\"),\r\n        ),\r\n        ...sharedGrades,\r\n        ...grades.map((grade) => \"<span class='red'>\" + grade + \"</span>\"),\r\n      ].join(\", \");\r\n    },\r\n    formatGradeText: (num: number): string => formatGradeText(num),\r\n  },\r\n  watch: {\r\n    expandTables(enabled) {\r\n      this.expandSubject(!!enabled); // true if positive num\r\n    },\r\n    isOpenedSubject(isSomeSubjectOpened) {\r\n      this.expandSubject(!isSomeSubjectOpened, true);\r\n    },\r\n    updateTablesMargin() {\r\n      this.expandSubject(this.subject.expandedKeep, true);\r\n    },\r\n    \"subject.gradesByCategory\": {\r\n      handler() {\r\n        this.expandSubject(this.subject.expandedKeep, true);\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./SubjectCardBody.vue?vue&type=template&id=22b51aa1&scoped=true\"\nimport script from \"./SubjectCardBody.vue?vue&type=script&lang=ts\"\nexport * from \"./SubjectCardBody.vue?vue&type=script&lang=ts\"\n\nimport \"./SubjectCardBody.vue?vue&type=style&index=0&id=22b51aa1&lang=scss\"\nimport \"./SubjectCardBody.vue?vue&type=style&index=1&id=22b51aa1&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-22b51aa1\"\n\nexport default script","\r\nimport { defineComponent } from \"vue\";\r\nimport { SlickList, SlickItem } from \"vue-slicksort\";\r\nimport { getSubjectColors, jsonClone } from \"@/scripts/utils\";\r\nimport { updateSubjects } from \"@/scripts/scrapers\";\r\nimport SubjectsSummary from \"./SubjectsSummary.vue\";\r\nimport SubjectsCounter from \"./SubjectsCounter.vue\";\r\nimport SubjectCardHead from \"./SubjectCardHead.vue\";\r\nimport SubjectCardBody from \"./SubjectCardBody.vue\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\nimport {\r\n  User,\r\n  ClassInfo,\r\n  SubjectCache,\r\n  GradesByCategory,\r\n  SubjectsSettings,\r\n} from \"@/store/state\";\r\n\r\nexport interface ExtendedSubjectCache extends SubjectCache {\r\n  expanded: boolean;\r\n  expandedKeep: boolean;\r\n  marginBottom: string;\r\n  gradesByCategoryOriginal: GradesByCategory[];\r\n  gradesCount: number;\r\n  gradesAvg: number;\r\n  gradesAvgEdited?: number;\r\n  gradesAvgOriginal?: number;\r\n  lineColors?: string;\r\n  columnColors?: string;\r\n  isOpened?: boolean;\r\n}\r\n\r\nexport interface Option {\r\n  icon: string;\r\n  tooltip: string;\r\n  hideWhenSubjectIsOpen?: boolean;\r\n  fontSize?: string;\r\n  enabled?: boolean;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Subjects\",\r\n  components: {\r\n    SubjectsSummary,\r\n    SubjectsCounter,\r\n    SlickList,\r\n    SlickItem,\r\n    SubjectCardHead,\r\n    SubjectCardBody,\r\n  },\r\n  props: { classId: { type: String, required: true } },\r\n  /* emits: [\"sectionLoading\", \"sectionLoaded\"], */ // TODO: FIX TS ERROR\r\n  created() {\r\n    this.updateSubjects();\r\n  },\r\n  data() {\r\n    return {\r\n      expandTables: 1,\r\n      updateTablesMargin: 1,\r\n      subjects: [] as ExtendedSubjectCache[],\r\n      subjectsLoading: false,\r\n      subjectsSorting: false,\r\n      openedSubject: false as ExtendedSubjectCache | false,\r\n      finalGradeOriginal: 0,\r\n    };\r\n  },\r\n  methods: {\r\n    async updateSubjects(forceUpdate?: boolean) {\r\n      if (!this.openedClassInfo || this.subjectsLoading) return;\r\n      this.$emit(\"sectionLoading\");\r\n      this.subjectsLoading = true;\r\n      if (!(await updateSubjects(this.openedClassInfo, forceUpdate))) return;\r\n      this.subjectsLoading = false;\r\n      this.$emit(\"sectionLoaded\");\r\n      this.subjects = [];  // Trigger soft 'opacity' transition\r\n      setTimeout(this.resetSubjects, 0);  // Large amount of HTML causes flicker\r\n    },\r\n    resetSubjects() {\r\n      const cached =\r\n        this.openedClassInfo && this.openedClassInfo.cachedSubjects;\r\n      if (!cached || !cached.length) return;\r\n      const clone = jsonClone(cached) as ExtendedSubjectCache[];\r\n      const { subjectsOrder, expandedSubjects } = this.savedOptions;\r\n      this.subjects = clone\r\n        .map((subject) => {\r\n          const gradesByCategoryOriginal = jsonClone(\r\n            subject.gradesByCategory || [],\r\n          );\r\n          const gradesAvg = this.getSubjectGradesAvg(\r\n            subject,\r\n            subject.gradesByCategory,\r\n          );\r\n          const gradesCount = this.getSubjectGradesCount(\r\n            subject,\r\n            subject.gradesByCategory,\r\n          );\r\n          const expandedKeep = expandedSubjects.includes(subject.url);\r\n          return {\r\n            ...subject,\r\n            gradesByCategoryOriginal,\r\n            gradesAvg,\r\n            gradesCount,\r\n            expandedKeep,\r\n          };\r\n        })\r\n        .sort((a, b) => {\r\n          return subjectsOrder.indexOf(a.url) - subjectsOrder.indexOf(b.url);\r\n        });\r\n      this.finalGradeOriginal = this.getFinalGradeOriginal();\r\n      this.$nextTick(() => (this.updateTablesMargin += 1));\r\n      this.checkActiveSubject();\r\n    },\r\n    subjectMouseEnter(e: MouseEvent, subject: ExtendedSubjectCache) {\r\n      if (!this.savedOptions.expandTablesOnHover || this.openedSubject) return;\r\n      const target = e.target as HTMLElement;\r\n      setTimeout(() => (subject.expanded = target.matches(\":hover\")), 150);\r\n    },\r\n    subjectMouseLeave(subject: ExtendedSubjectCache) {\r\n      subject.expanded = false;\r\n    },\r\n    subjectsOrderChanged() {\r\n      const savedOptions = jsonClone(this.savedOptions);\r\n      savedOptions.subjectsOrder = this.subjects.map((subject) => subject.url);\r\n      this.updateSettings(savedOptions);\r\n      this.$nextTick(() => (this.subjectsSorting = false));\r\n    },\r\n    optionClicked(optionName: string) {\r\n      const option = this.options[optionName];\r\n      const savedOptions = jsonClone(this.savedOptions);\r\n      const zoomChanged = optionName.includes(\"zoom\");\r\n      switch (optionName) {\r\n        case \"expandTablesOnHover\":\r\n          savedOptions.expandTablesOnHover = !savedOptions.expandTablesOnHover;\r\n          break;\r\n        case \"expandTables\":\r\n          this.expandTables = !option.enabled ? this.expandTables + 1 : 0;\r\n          return;\r\n        case \"zoomIn\":\r\n          savedOptions.zoom -= 1;\r\n          break;\r\n        case \"zoomOut\":\r\n          savedOptions.zoom += 1;\r\n          break;\r\n        case \"subjectColors\":\r\n          savedOptions.subjectColors = !savedOptions.subjectColors;\r\n          this.subjects.forEach(this.updateSubjectColors);\r\n          break;\r\n        case \"countAvgs\":\r\n          savedOptions.countAvgs = !savedOptions.countAvgs;\r\n          break;\r\n        case \"updateSubjects\":\r\n          this.updateSubjects(true);\r\n          return;\r\n      }\r\n      if (zoomChanged) {\r\n        savedOptions.zoom = Math.min(\r\n          Math.max(savedOptions.zoom, 1),\r\n          this.subjects.length,\r\n        );\r\n      }\r\n      this.updateSettings(savedOptions);\r\n      this.updateTablesMargin += zoomChanged ? 1 : 0;\r\n    },\r\n    sortOptionClicked(optionName: string) {\r\n      const savedOptions = jsonClone(this.savedOptions);\r\n      if (optionName.includes(\"Sortiranje\")) {\r\n        savedOptions.sortByDragging = !savedOptions.sortByDragging;\r\n        this.updateSettings(savedOptions);\r\n        return;\r\n      }\r\n      const isReverse = optionName.includes(\"silazno\");\r\n      const sortByAvg = optionName.includes(\"Prosjek\");\r\n      const sortProperty = sortByAvg ? \"gradesAvgEdited\" : \"gradesCount\";\r\n      this.subjects.sort((a, b) => {\r\n        if (!a.gradesCount && b.gradesCount) return 1; // empty subject\r\n        if (a.gradesCount && !b.gradesCount) return -1; // empty subject\r\n        const propA = a[sortProperty] || a.gradesAvg;\r\n        const propB = b[sortProperty] || b.gradesAvg;\r\n        if (propA < propB) return isReverse ? 1 : -1;\r\n        if (propA > propB) return isReverse ? -1 : 1;\r\n        return 0;\r\n      });\r\n      this.subjectsOrderChanged();\r\n    },\r\n    getSubjectGradesCount(\r\n      subject: ExtendedSubjectCache,\r\n      gradesByCategory?: GradesByCategory[],\r\n      original?: boolean,\r\n    ): number {\r\n      const gradesCount = (gradesByCategory || []).reduce((a, row) => {\r\n        return a + row.grades.flat().length;\r\n      }, 0);\r\n      if (this.savedOptions.subjectColors) this.updateSubjectColors(subject);\r\n      if (!original) subject.gradesCount = gradesCount;\r\n      return gradesCount;\r\n    },\r\n    getSubjectGradesAvg(\r\n      subject: ExtendedSubjectCache,\r\n      gradesByCategory?: GradesByCategory[],\r\n      original?: boolean,\r\n    ): number {\r\n      const gradesAvg =\r\n        (gradesByCategory || []).reduce((a, row) => {\r\n          return a + row.grades.flat().reduce((b, grade) => b + grade, 0);\r\n        }, 0) / this.getSubjectGradesCount(subject, gradesByCategory, original);\r\n      if (!original) subject.gradesAvg = gradesAvg;\r\n      else subject.gradesAvgOriginal = gradesAvg;\r\n      return gradesAvg;\r\n    },\r\n    getSubjectAvgText(subject: ExtendedSubjectCache): number {\r\n      return subject.gradesAvgEdited === undefined\r\n        ? subject.gradesAvg ||\r\n            this.getSubjectGradesAvg(subject, subject.gradesByCategory)\r\n        : subject.gradesAvgEdited;\r\n    },\r\n    getFinalGradeOriginal(): number {\r\n      const subjectsWithGrades = this.subjects.filter((subject) => {\r\n        const params = [subject, subject.gradesByCategoryOriginal, true];\r\n        return (this.getSubjectGradesCount as any)(...params);\r\n      });\r\n      return (\r\n        subjectsWithGrades.reduce((a, subject) => {\r\n          const params = [subject, subject.gradesByCategoryOriginal, true];\r\n          const avg = (this.getSubjectGradesAvg as any)(...params);\r\n          return a + (subject.finalGrade || Math.round(avg));\r\n        }, 0) / subjectsWithGrades.length\r\n      );\r\n    },\r\n    updateSubjectColors(subject: ExtendedSubjectCache) {\r\n      const counts = [0, 0, 0, 0, 0];\r\n      const cols: number[][] = [...Array(10)].map(() => []);\r\n      for (let i = 0; i < (subject.gradesByCategory || []).length; i++) {\r\n        const row = subject.gradesByCategory![i].grades;\r\n        for (let j = 0; j < row.length; j++) {\r\n          for (const grade of row[j]) {\r\n            cols[j].push(grade);\r\n            counts[grade - 1] += 1;\r\n          }\r\n        }\r\n      }\r\n      const totalCount = counts.reduce((a, b) => a + b, 0);\r\n      subject.lineColors = getSubjectColors(counts, totalCount);\r\n      subject.columnColors = getSubjectColors(cols);\r\n    },\r\n    checkActiveSubject() {\r\n      const subjectId = this.$route.params.subjectId as string;\r\n      for (const subject of this.subjects) {\r\n        this.subjectMouseLeave(subject);\r\n        const isOpened = !!subjectId && subject.url.includes(subjectId);\r\n        subject.isOpened = isOpened;\r\n      }\r\n      this.openedSubject = this.subjects.find((s) => s.isOpened) || false;\r\n    },\r\n    updateGradesAvgEdited(\r\n      subject: ExtendedSubjectCache,\r\n      newValue: number | undefined,\r\n    ) {\r\n      subject.gradesAvgEdited = newValue;\r\n    },\r\n    expandSubject(subject: ExtendedSubjectCache, expand: boolean) {\r\n      subject.expandedKeep = expand;\r\n      const savedOptions = jsonClone(this.savedOptions);\r\n      const arr = savedOptions.expandedSubjects;\r\n      const idx = arr.indexOf(subject.url);\r\n      expand ? idx == -1 && arr.push(subject.url) : arr.splice(idx, 1);\r\n      this.updateSettings(savedOptions);\r\n    },\r\n    updateSubjectMargin(subject: ExtendedSubjectCache, margin: string) {\r\n      subject.marginBottom = margin;\r\n    },\r\n    revertSubject(subject: ExtendedSubjectCache) {\r\n      subject.gradesAvgEdited = undefined;\r\n      subject.gradesByCategory = jsonClone(subject.gradesByCategoryOriginal);\r\n      this.getSubjectGradesAvg(subject, subject.gradesByCategory);\r\n    },\r\n    updateSettings(newSettings: SubjectsSettings) {\r\n      this.$store.commit(MutationTypes.UPDATE_USER_SETTINGS, {\r\n        user: this.user,\r\n        settings: {\r\n          subjectsSettings: newSettings,\r\n        },\r\n      });\r\n    },\r\n  },\r\n  computed: {\r\n    user(): User {\r\n      return this.$store.getters.user as User;\r\n    },\r\n    openedClassInfo(): ClassInfo | undefined {\r\n      return this.$store.getters.classInfo(this.classId);\r\n    },\r\n    allSubjectsExpanded(): boolean {\r\n      return this.subjects.every((subject) => subject.expandedKeep);\r\n    },\r\n    finalGrade(): number {\r\n      const subjectsWithGrades = this.subjects.filter((subj) => {\r\n        if (subj.gradesAvgEdited === undefined) return subj.gradesAvg;\r\n        return !isNaN(subj.gradesAvgEdited);\r\n      });\r\n      return (\r\n        subjectsWithGrades.reduce((a, subj) => {\r\n          return a + Math.round((subj.gradesAvgEdited || subj.gradesAvg)!);\r\n        }, 0) / subjectsWithGrades.length\r\n      );\r\n    },\r\n    savedOptions(): SubjectsSettings {\r\n      return this.user.settings.subjectsSettings;\r\n    },\r\n    options(): Record<string, Option> {\r\n      return {\r\n        expandTablesOnHover: {\r\n          icon: \"menu_open\",\r\n          tooltip: \"Otvori tablice prelaskom mia\",\r\n          hideWhenSubjectIsOpen: true,\r\n          enabled: this.savedOptions.expandTablesOnHover,\r\n        },\r\n        expandTables: {\r\n          icon: \"unfold_more\",\r\n          tooltip: \"Otvori sve tablice\",\r\n          hideWhenSubjectIsOpen: true,\r\n          enabled: this.allSubjectsExpanded,\r\n        },\r\n        zoomIn: {\r\n          icon: \"zoom_in\",\r\n          tooltip: \"Poveaj prikaz\",\r\n          hideWhenSubjectIsOpen: true,\r\n        },\r\n        zoomOut: {\r\n          icon: \"zoom_out\",\r\n          tooltip: \"Smanji prikaz\",\r\n          hideWhenSubjectIsOpen: true,\r\n        },\r\n        subjectColors: {\r\n          icon: \"border_color\",\r\n          tooltip: \"Prikai boje ocjena\",\r\n          fontSize: \"18px\",\r\n          enabled: this.savedOptions.subjectColors,\r\n        },\r\n        countAvgs: {\r\n          icon: \"functions\",\r\n          tooltip: \"Zbroji zakljune ocjene\",\r\n          enabled: this.savedOptions.countAvgs,\r\n        },\r\n        sortSubjects: {\r\n          icon: \"swap_vert\",\r\n          tooltip: \"Sortiraj predmete\",\r\n        },\r\n        updateSubjects: {\r\n          icon: \"sync\",\r\n          tooltip: \"Auriraj sve ocjene\",\r\n        },\r\n      };\r\n    },\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.checkActiveSubject();\r\n    },\r\n    classId(to, from) {\r\n      if (from) this.updateSubjects();\r\n    },\r\n    allSubjectsExpanded(newVal) {\r\n      this.options.expandTables.enabled = newVal;\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Subjects.vue?vue&type=template&id=305718a2&scoped=true\"\nimport script from \"./Subjects.vue?vue&type=script&lang=ts\"\nexport * from \"./Subjects.vue?vue&type=script&lang=ts\"\n\nimport \"./Subjects.vue?vue&type=style&index=0&id=305718a2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-305718a2\"\n\nexport default script","<template>\r\n  <ClassSectionFrame :isSubject=\"true\" class=\"subject\">\r\n    <div id=\"subject-info\">\r\n      <div class=\"subject-name\">{{ subject.name }}</div>\r\n      <div class=\"teachers\">{{ subject.teachers }}</div>\r\n      <router-link :to=\"$route.path.replace(/\\/\\d+$/, '')\" id=\"close\">\r\n        <div class=\"teachers\">IZVORNI PRIKAZ</div>\r\n        <span class=\"material-icons\"> close </span>\r\n      </router-link>\r\n    </div>\r\n  </ClassSectionFrame>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport { ExtendedSubjectCache } from \"@/views/class/subjects/Subjects.vue\";\r\nimport ClassSectionFrame from \"@/views/class/ClassSectionFrame.vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Subject\",\r\n  components: { ClassSectionFrame },\r\n  props: {\r\n    subject: {\r\n      type: [Object, Boolean] as PropType<ExtendedSubjectCache | false>,\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.subject {\r\n  position: relative;\r\n  flex-shrink: 0;\r\n  margin: 5px 10px !important;\r\n}\r\n\r\n#subject-info {\r\n  display: flex;\r\n  margin: 0 20px 10px;\r\n}\r\n\r\n#close {\r\n  flex: 1 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  text-align: right;\r\n\r\n  span {\r\n    @include themed() {\r\n      color: t(\"gray-blue\");\r\n    }\r\n  }\r\n}\r\n</style>\r\n","<template>\n  <div id=\"section-container\" class=\"card\">\n    <slot></slot>\n    <iframe src=\"about:blank\" ref=\"iframe\" :class=\"{ loading }\"></iframe>\n    <Spinner :visible=\"loading\" :size=\"'50px'\"></Spinner>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport { addStyleTag } from \"@/scripts/utils\";\nimport { getSectionHTML } from \"@/scripts/scrapers\";\nimport Spinner from \"@/components/Spinner.vue\";\n\nexport default defineComponent({\n  name: \"ClassSectionFrame\",\n  components: { Spinner },\n  props: { isSubject: Boolean },\n  mounted() {\n    this.$nextTick(this.updateContent);\n  },\n  data() {\n    return {\n      loading: true,\n      urls: {\n        biljeske: \"https://ocjene.skole.hr/notes\",\n        ispiti: \"https://ocjene.skole.hr/exam\",\n        izostanci: \"https://ocjene.skole.hr/absent\",\n        vladanja: \"https://ocjene.skole.hr/behavior\",\n        raspored: \"https://ocjene.skole.hr/schedule\",\n        \"osobni-podaci\": \"https://ocjene.skole.hr/personal_data\",\n      },\n      errorMessage: \"Greka pri uitavanju stranice e-Dnevnika.\",\n    };\n  },\n  methods: {\n    async updateContent() {\n      this.loading = true;\n      const { classId, subjectId } = this.$route.params;\n      if (this.isSubject && !subjectId || classId == \"-\") return;\n\n      const iframe = this.$refs.iframe as HTMLIFrameElement;\n      const doc = iframe.contentWindow!.document;\n      const pathName = this.$route.path.match(/[^/]+$/)![0];\n      const url: string = this.isSubject\n        ? \"https://ocjene.skole.hr/grade/\" + subjectId\n        : (this.urls as any)[pathName];\n\n      await addStyleTag(doc, this.$store.state.settings.darkTheme);\n      const sectionEl = await getSectionHTML(classId as string, url);\n\n      doc.body.innerHTML = \"\";\n      doc.body.append(sectionEl || this.errorMessage);\n      if (!sectionEl) doc.body.className = \"loading-error-plus\";\n      const contentEl = doc.body.firstElementChild;\n      if (contentEl) iframe.style.height = contentEl.scrollHeight + \"px\";\n\n      this.loading = false;\n    },\n  },\n  watch: {\n    '$route.params.classId'() {\n      this.updateContent();\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n#section-container {\n  position: relative;\n  margin: 0 auto;\n  width: 954px;\n  min-width: 50%;\n  padding: 10px;\n}\n\niframe {\n  transition: opacity 150ms;\n\n  &.loading {\n    opacity: 0;\n  }\n}\n</style>\n","\nimport { defineComponent } from \"vue\";\nimport { addStyleTag } from \"@/scripts/utils\";\nimport { getSectionHTML } from \"@/scripts/scrapers\";\nimport Spinner from \"@/components/Spinner.vue\";\n\nexport default defineComponent({\n  name: \"ClassSectionFrame\",\n  components: { Spinner },\n  props: { isSubject: Boolean },\n  mounted() {\n    this.$nextTick(this.updateContent);\n  },\n  data() {\n    return {\n      loading: true,\n      urls: {\n        biljeske: \"https://ocjene.skole.hr/notes\",\n        ispiti: \"https://ocjene.skole.hr/exam\",\n        izostanci: \"https://ocjene.skole.hr/absent\",\n        vladanja: \"https://ocjene.skole.hr/behavior\",\n        raspored: \"https://ocjene.skole.hr/schedule\",\n        \"osobni-podaci\": \"https://ocjene.skole.hr/personal_data\",\n      },\n      errorMessage: \"Greka pri uitavanju stranice e-Dnevnika.\",\n    };\n  },\n  methods: {\n    async updateContent() {\n      this.loading = true;\n      const { classId, subjectId } = this.$route.params;\n      if (this.isSubject && !subjectId || classId == \"-\") return;\n\n      const iframe = this.$refs.iframe as HTMLIFrameElement;\n      const doc = iframe.contentWindow!.document;\n      const pathName = this.$route.path.match(/[^/]+$/)![0];\n      const url: string = this.isSubject\n        ? \"https://ocjene.skole.hr/grade/\" + subjectId\n        : (this.urls as any)[pathName];\n\n      await addStyleTag(doc, this.$store.state.settings.darkTheme);\n      const sectionEl = await getSectionHTML(classId as string, url);\n\n      doc.body.innerHTML = \"\";\n      doc.body.append(sectionEl || this.errorMessage);\n      if (!sectionEl) doc.body.className = \"loading-error-plus\";\n      const contentEl = doc.body.firstElementChild;\n      if (contentEl) iframe.style.height = contentEl.scrollHeight + \"px\";\n\n      this.loading = false;\n    },\n  },\n  watch: {\n    '$route.params.classId'() {\n      this.updateContent();\n    },\n  },\n});\n","import { render } from \"./ClassSectionFrame.vue?vue&type=template&id=2e8645c6&scoped=true\"\nimport script from \"./ClassSectionFrame.vue?vue&type=script&lang=ts\"\nexport * from \"./ClassSectionFrame.vue?vue&type=script&lang=ts\"\n\nimport \"./ClassSectionFrame.vue?vue&type=style&index=0&id=2e8645c6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-2e8645c6\"\n\nexport default script","\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport { ExtendedSubjectCache } from \"@/views/class/subjects/Subjects.vue\";\r\nimport ClassSectionFrame from \"@/views/class/ClassSectionFrame.vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Subject\",\r\n  components: { ClassSectionFrame },\r\n  props: {\r\n    subject: {\r\n      type: [Object, Boolean] as PropType<ExtendedSubjectCache | false>,\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Subject.vue?vue&type=template&id=4ee6470c&scoped=true\"\nimport script from \"./Subject.vue?vue&type=script&lang=ts\"\nexport * from \"./Subject.vue?vue&type=script&lang=ts\"\n\nimport \"./Subject.vue?vue&type=style&index=0&id=4ee6470c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4ee6470c\"\n\nexport default script","<template>\n  <div class=\"abs-cover\" style=\"top: -25px\">\n    <Stats\n      :classId=\"classId\"\n      @sectionLoading=\"$emit('sectionLoading')\"\n      @sectionLoaded=\"$emit('sectionLoaded')\"\n    ></Stats>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport Stats from \"@/components/stats/Stats.vue\";\n\nexport default defineComponent({\n  name: \"ClassStats\",\n  components: { Stats },\n  props: { classId: String },\n  emits: [\"sectionLoading\", \"sectionLoaded\"],\n});\n</script>","<template>\n  <transition :name=\"transitionName\" mode=\"out-in\">\n    <div v-if=\"!loaded\"></div>\n    <div v-else-if=\"noDataPresent\" class=\"flex-center\" style=\"height: 100%\">\n      Nema podataka za prikaz.\n    </div>\n    <div v-else id=\"stats\">\n      <div id=\"chart1\">\n        <LineChart\n          :lineChartData=\"lineChartData\"\n          :finalAverage=\"finalAverage\"\n          :gradeCountAveragePerMonth=\"gradeCountAveragePerMonth\"\n        ></LineChart>\n      </div>\n      <div id=\"chart2\">\n        <DoughnutChart\n          :doughnutChartData=\"doughnutChartData\"\n          :finalGradesCount=\"finalGradesCount\"\n        ></DoughnutChart>\n      </div>\n      <div id=\"chart3\">\n        <BarChart\n          :barChartData=\"barChartData\"\n          :finalAverage=\"finalAverage\"\n          :finalGradesCount=\"finalGradesCount\"\n          :gradeCountAveragePerSubject=\"gradeCountAveragePerSubject\"\n        ></BarChart>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, PropType } from \"vue\";\nimport LineChart, { ChartMonthData } from \"./LineChart.vue\";\nimport DoughnutChart, { DoughnutChartData } from \"./DoughnutChart.vue\";\nimport BarChart, { ChartBarData } from \"./BarChart.vue\";\nimport { ClassInfo, SubjectCache } from \"@/store/state\";\nimport {\n  getAverage,\n  getSum,\n  numberToColorHsl,\n  removeAllparentheses,\n} from \"@/scripts/utils\";\nimport { updateSubjects } from \"@/scripts/scrapers\";\n\nexport default defineComponent({\n  name: \"Stats\",\n  components: { LineChart, DoughnutChart, BarChart },\n  props: {\n    classId: String,\n    selectedClassesId: Array as PropType<string[]>,\n  },\n  emits: [\"sectionLoading\", \"sectionLoaded\"],\n  created() {\n    this.updateSelectedClasses();\n  },\n  data() {\n    return {\n      noDataPresent: true,\n      loaded: false,\n\n      barChartData: [] as ChartBarData[],\n      lineChartData: [] as ChartMonthData[],\n      doughnutChartData: [] as DoughnutChartData,\n\n      finalGradesCount: 0,\n      finalAverage: 0,\n      gradeCountAveragePerSubject: 0,\n      gradeCountAveragePerMonth: 0,\n\n      transitionName: \"\",\n    };\n  },\n  methods: {\n    async updateSelectedClasses() {\n      this.$emit(\"sectionLoading\");\n      const subjects: SubjectCache[][] = [];\n      const openedClass = this.classId ? [this.classId] : [];\n      for (const classId of this.selectedClassesId || openedClass) {\n        const classInfo = this.getClassInfo(classId);\n        if (!classInfo) continue;\n        await updateSubjects(classInfo); // Must go class by class\n        subjects.push(classInfo.cachedSubjects!);\n      }\n      this.$emit(\"sectionLoaded\");\n      this.noDataPresent = !subjects.length;\n      if (!this.noDataPresent) this.calculateStats(subjects);\n      this.loaded = true;\n      setTimeout(() => (this.transitionName = \"opacity\"), 500);\n    },\n    calculateStats(subjects: SubjectCache[][]) {\n      const totalGradesCountEach = [0, 0, 0, 0, 0];\n      const gradeCountPerSubject: number[] = [];\n      const gradeCountMonthlyAveragePerYear: number[] = [];\n      const gradeCountEachPerMonth = [...Array(10)].map(() => [0, 0, 0, 0, 0]);\n\n      this.barChartData = [];\n      for (const year of subjects.filter((y) => y)) {\n        const gradeCountPerMonth = Array(10).fill(0);\n        for (const { name, gradesByCategory } of year) {\n          if (!gradesByCategory) continue;\n          let gradesCountEach = [0, 0, 0, 0, 0];\n          for (const { grades } of gradesByCategory)\n            for (let i = 0; i < grades.length; i++)\n              for (const grade of grades[i]) {\n                totalGradesCountEach[grade - 1] += 1;\n                gradesCountEach[grade - 1] += 1;\n                gradeCountEachPerMonth[i][grade - 1] += 1;\n                gradeCountPerMonth[i] += 1;\n              }\n          let gradesCount = getSum(gradesCountEach);\n          if (!gradesCount) continue;\n          gradeCountPerSubject.push(gradesCount);\n\n          const sameSubject = this.barChartData.find(\n            (s) => removeAllparentheses(s.name) == removeAllparentheses(name),\n          );\n          if (sameSubject) {\n            gradesCountEach = gradesCountEach.map(\n              (count, i) => count + sameSubject.gradesCountEach[i],\n            );\n            gradesCount = getSum(gradesCountEach);\n          }\n          const gradesSum = getSum(gradesCountEach, true);\n          const average = +(gradesSum / gradesCount).toFixed(2);\n          const bar: ChartBarData = {\n            name,\n            gradesCount,\n            gradesCountEach,\n            average,\n            backgroundColor: numberToColorHsl(((average - 1) / 4) * 100, 0.4),\n            borderColor: numberToColorHsl(((average - 1) / 4) * 100),\n          };\n          if (!sameSubject) this.barChartData.push(bar);\n          else this.barChartData[this.barChartData.indexOf(sameSubject)] = bar;\n        }\n        gradeCountMonthlyAveragePerYear.push(\n          getAverage(this.removeTrailingZeros(gradeCountPerMonth)),\n        );\n      }\n\n      this.lineChartData = this.removeTrailingZeros(gradeCountEachPerMonth).map(\n        (gradesCountEach) => {\n          const gradesCount = getSum(gradesCountEach);\n          const gradesSum = getSum(gradesCountEach, true);\n          const average = +(gradesSum / gradesCount).toFixed(2);\n          return { gradesCount, gradesCountEach, average };\n        },\n      );\n\n      const finalGradesSum = getSum(totalGradesCountEach, true);\n      this.doughnutChartData = totalGradesCountEach;\n      this.finalGradesCount = getSum(totalGradesCountEach);\n      this.finalAverage = finalGradesSum / this.finalGradesCount;\n      this.gradeCountAveragePerSubject = getAverage(gradeCountPerSubject);\n      this.gradeCountAveragePerMonth = getAverage(\n        gradeCountMonthlyAveragePerYear,\n      );\n    },\n    removeTrailingZeros<T extends number[] | number[][]>(arr: T) {\n      for (let i = arr.length - 1; i > -1; i--) {\n        if (typeof arr[i] == \"number\" ? arr[i] : getSum(arr[i] as number[]))\n          return arr;\n        arr.pop();\n      }\n      return arr;\n    },\n    getClassInfo(classId: string): ClassInfo | undefined {\n      return this.$store.getters.classInfo(classId);\n    },\n  },\n  watch: {\n    classId() {\n      this.updateSelectedClasses();\n    },\n    selectedClassesId() {\n      this.updateSelectedClasses();\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n#stats {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 10px;\n  height: 100%;\n\n  & > div {\n    position: relative;\n    overflow: hidden;\n  }\n}\n\n#chart1 {\n  height: 40%; // Required to trigger initial chart animation\n  flex: 0 1 60%;\n}\n\n#chart2 {\n  height: 40%;\n  flex: 1 0;\n}\n\n#chart3 {\n  height: 60%;\n  flex: 1 1 100%;\n}\n</style>\n","<template>\r\n  <canvas id=\"line-chart\"></canvas>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport Chart, { ChartItem } from \"chart.js/auto\";\r\nimport { formatNum, jsonClone } from \"@/scripts/utils\";\r\n\r\nlet chart: Chart<\"bar\" | \"line\", number[], string>;\r\n\r\nexport interface ChartMonthData {\r\n  gradesCount: number;\r\n  gradesCountEach: number[];\r\n  average: number;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"LineChart\",\r\n  props: {\r\n    lineChartData: {\r\n      type: Object as PropType<ChartMonthData[]>,\r\n      required: true,\r\n    },\r\n    finalAverage: { type: Number, required: true },\r\n    gradeCountAveragePerMonth: { type: Number, required: true },\r\n  },\r\n  mounted() {\r\n    this.createChart();\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: jsonClone(this.lineChartData),\r\n    };\r\n  },\r\n  methods: {\r\n    extractMonthsData<T extends keyof ChartMonthData>(barProperty: T) {\r\n      return this.chartData.map((bar) => bar[barProperty]);\r\n    },\r\n    createChart() {\r\n      const ctx = document.getElementById(\"line-chart\") as ChartItem;\r\n      chart = new Chart(ctx, {\r\n        type: \"line\",\r\n        data: {\r\n          labels: this.getSlicedMonths(),\r\n          datasets: [\r\n            {\r\n              type: \"bar\",\r\n              order: 2,\r\n              label: \"Broj ocjena\",\r\n              backgroundColor: \"rgba(35, 86, 148, .65)\",\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderColor: \"#2296da\",\r\n              borderWidth: 3,\r\n              data: this.extractMonthsData(\"gradesCount\"),\r\n              yAxisID: \"yAxis1\",\r\n            },\r\n            {\r\n              type: \"line\",\r\n              order: 1,\r\n              label: \"Prosjek ocjena\",\r\n              backgroundColor: \"green\",\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderColor: \"#4caf50\",\r\n              borderWidth: 3,\r\n              data: this.extractMonthsData(\"average\"),\r\n              yAxisID: \"yAxis2\",\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          interaction: {\r\n            intersect: false,\r\n          },\r\n          scales: {\r\n            yAxis1: { position: \"left\" },\r\n            yAxis2: {\r\n              position: \"right\",\r\n              ticks: {\r\n                callback: (value) => formatNum(value),\r\n              },\r\n            },\r\n          },\r\n          elements: {\r\n            line: { tension: 0.25 },\r\n            point: { radius: 5 },\r\n          },\r\n          plugins: {\r\n            tooltip: {\r\n              callbacks: {\r\n                label: (context) => {\r\n                  const label = \" \" + context.dataset.label + \": \";\r\n                  const value = context.parsed.y;\r\n                  const shouldParse = label.includes(\"Prosjek\");\r\n                  return label + (shouldParse ? formatNum(value) : value);\r\n                },\r\n                footer: (context) => {\r\n                  const { dataIndex } = context[0];\r\n                  return [\r\n                    \"Odlinih (5)\",\r\n                    \"Vrlo dobrih (4)\",\r\n                    \"Dobrih (3)\",\r\n                    \"Dovoljnih (2)\",\r\n                    \"Nedovoljnih (1)\",\r\n                  ]\r\n                    .map((title, i) => {\r\n                      const count =\r\n                        this.chartData[dataIndex].gradesCountEach[4 - i];\r\n                      if (!count) return false;\r\n                      return title + \": \" + count;\r\n                    })\r\n                    .filter((g) => g)\r\n                    .join(\"\\n\");\r\n                },\r\n              },\r\n            },\r\n            annotation: {\r\n              annotations: {\r\n                yAxis1: {\r\n                  type: \"line\",\r\n                  scaleID: \"yAxis1\",\r\n                  value: this.gradeCountAveragePerMonth,\r\n                  borderColor: \"#2296da\",\r\n                  borderWidth: 2,\r\n                  borderDash: [10, 16],\r\n                  label: {\r\n                    enabled: true,\r\n                    content: this.getGradeCountAveragePerMonth(),\r\n                    position: \"start\",\r\n                    font: { style: \"normal\" },\r\n                  },\r\n                },\r\n                yAxis2: {\r\n                  type: \"line\",\r\n                  scaleID: \"yAxis2\",\r\n                  value: this.finalAverage,\r\n                  borderColor: \"#4caf50\",\r\n                  borderWidth: 2,\r\n                  borderDash: [10, 16],\r\n                },\r\n                xAxis: {\r\n                  drawTime: \"beforeDatasetsDraw\",\r\n                  display: this.chartData.length > 4,\r\n                  type: \"line\",\r\n                  xMin: 3.5,\r\n                  xMax: 3.5,\r\n                },\r\n              },\r\n            },\r\n            legend: {\r\n              reverse: true,\r\n              labels: { padding: 35 },\r\n              onHover: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"pointer\";\r\n              },\r\n              onLeave: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"default\";\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n    },\r\n    updateChart() {\r\n      const { data, config } = chart;\r\n      const { datasets } = data;\r\n      const { yAxis1, yAxis2, xAxis } = config.options!.plugins!.annotation!\r\n        .annotations as any;\r\n      yAxis1.value = this.gradeCountAveragePerMonth;\r\n      yAxis1.label.content = this.getGradeCountAveragePerMonth();\r\n      yAxis2.value = this.finalAverage;\r\n      xAxis.display = this.chartData.length > 4;\r\n      data.labels = this.getSlicedMonths();\r\n      datasets[0].data = this.extractMonthsData(\"gradesCount\");\r\n      datasets[1].data = this.extractMonthsData(\"average\");\r\n      chart.update();\r\n    },\r\n    getGradeCountAveragePerMonth(): string {\r\n      return (\r\n        Math.round(this.gradeCountAveragePerMonth) +\r\n        \"  prosjean broj ocjena mjeseno\"\r\n      );\r\n    },\r\n    getSlicedMonths(): string[] {\r\n      return [\r\n        \"Rujan\",\r\n        \"Listopad\",\r\n        \"Studeni\",\r\n        \"Prosinac\",\r\n        \"Sijeanj\",\r\n        \"Veljaa\",\r\n        \"Oujak\",\r\n        \"Travanj\",\r\n        \"Svibanj\",\r\n        \"Lipanj\",\r\n      ].slice(0, this.chartData.length);\r\n    },\r\n  },\r\n  watch: {\r\n    lineChartData() {\r\n      this.chartData = jsonClone(this.lineChartData);\r\n      this.updateChart();\r\n    },\r\n  },\r\n});\r\n</script>","\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport Chart, { ChartItem } from \"chart.js/auto\";\r\nimport { formatNum, jsonClone } from \"@/scripts/utils\";\r\n\r\nlet chart: Chart<\"bar\" | \"line\", number[], string>;\r\n\r\nexport interface ChartMonthData {\r\n  gradesCount: number;\r\n  gradesCountEach: number[];\r\n  average: number;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"LineChart\",\r\n  props: {\r\n    lineChartData: {\r\n      type: Object as PropType<ChartMonthData[]>,\r\n      required: true,\r\n    },\r\n    finalAverage: { type: Number, required: true },\r\n    gradeCountAveragePerMonth: { type: Number, required: true },\r\n  },\r\n  mounted() {\r\n    this.createChart();\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: jsonClone(this.lineChartData),\r\n    };\r\n  },\r\n  methods: {\r\n    extractMonthsData<T extends keyof ChartMonthData>(barProperty: T) {\r\n      return this.chartData.map((bar) => bar[barProperty]);\r\n    },\r\n    createChart() {\r\n      const ctx = document.getElementById(\"line-chart\") as ChartItem;\r\n      chart = new Chart(ctx, {\r\n        type: \"line\",\r\n        data: {\r\n          labels: this.getSlicedMonths(),\r\n          datasets: [\r\n            {\r\n              type: \"bar\",\r\n              order: 2,\r\n              label: \"Broj ocjena\",\r\n              backgroundColor: \"rgba(35, 86, 148, .65)\",\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderColor: \"#2296da\",\r\n              borderWidth: 3,\r\n              data: this.extractMonthsData(\"gradesCount\"),\r\n              yAxisID: \"yAxis1\",\r\n            },\r\n            {\r\n              type: \"line\",\r\n              order: 1,\r\n              label: \"Prosjek ocjena\",\r\n              backgroundColor: \"green\",\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderColor: \"#4caf50\",\r\n              borderWidth: 3,\r\n              data: this.extractMonthsData(\"average\"),\r\n              yAxisID: \"yAxis2\",\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          interaction: {\r\n            intersect: false,\r\n          },\r\n          scales: {\r\n            yAxis1: { position: \"left\" },\r\n            yAxis2: {\r\n              position: \"right\",\r\n              ticks: {\r\n                callback: (value) => formatNum(value),\r\n              },\r\n            },\r\n          },\r\n          elements: {\r\n            line: { tension: 0.25 },\r\n            point: { radius: 5 },\r\n          },\r\n          plugins: {\r\n            tooltip: {\r\n              callbacks: {\r\n                label: (context) => {\r\n                  const label = \" \" + context.dataset.label + \": \";\r\n                  const value = context.parsed.y;\r\n                  const shouldParse = label.includes(\"Prosjek\");\r\n                  return label + (shouldParse ? formatNum(value) : value);\r\n                },\r\n                footer: (context) => {\r\n                  const { dataIndex } = context[0];\r\n                  return [\r\n                    \"Odlinih (5)\",\r\n                    \"Vrlo dobrih (4)\",\r\n                    \"Dobrih (3)\",\r\n                    \"Dovoljnih (2)\",\r\n                    \"Nedovoljnih (1)\",\r\n                  ]\r\n                    .map((title, i) => {\r\n                      const count =\r\n                        this.chartData[dataIndex].gradesCountEach[4 - i];\r\n                      if (!count) return false;\r\n                      return title + \": \" + count;\r\n                    })\r\n                    .filter((g) => g)\r\n                    .join(\"\\n\");\r\n                },\r\n              },\r\n            },\r\n            annotation: {\r\n              annotations: {\r\n                yAxis1: {\r\n                  type: \"line\",\r\n                  scaleID: \"yAxis1\",\r\n                  value: this.gradeCountAveragePerMonth,\r\n                  borderColor: \"#2296da\",\r\n                  borderWidth: 2,\r\n                  borderDash: [10, 16],\r\n                  label: {\r\n                    enabled: true,\r\n                    content: this.getGradeCountAveragePerMonth(),\r\n                    position: \"start\",\r\n                    font: { style: \"normal\" },\r\n                  },\r\n                },\r\n                yAxis2: {\r\n                  type: \"line\",\r\n                  scaleID: \"yAxis2\",\r\n                  value: this.finalAverage,\r\n                  borderColor: \"#4caf50\",\r\n                  borderWidth: 2,\r\n                  borderDash: [10, 16],\r\n                },\r\n                xAxis: {\r\n                  drawTime: \"beforeDatasetsDraw\",\r\n                  display: this.chartData.length > 4,\r\n                  type: \"line\",\r\n                  xMin: 3.5,\r\n                  xMax: 3.5,\r\n                },\r\n              },\r\n            },\r\n            legend: {\r\n              reverse: true,\r\n              labels: { padding: 35 },\r\n              onHover: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"pointer\";\r\n              },\r\n              onLeave: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"default\";\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n    },\r\n    updateChart() {\r\n      const { data, config } = chart;\r\n      const { datasets } = data;\r\n      const { yAxis1, yAxis2, xAxis } = config.options!.plugins!.annotation!\r\n        .annotations as any;\r\n      yAxis1.value = this.gradeCountAveragePerMonth;\r\n      yAxis1.label.content = this.getGradeCountAveragePerMonth();\r\n      yAxis2.value = this.finalAverage;\r\n      xAxis.display = this.chartData.length > 4;\r\n      data.labels = this.getSlicedMonths();\r\n      datasets[0].data = this.extractMonthsData(\"gradesCount\");\r\n      datasets[1].data = this.extractMonthsData(\"average\");\r\n      chart.update();\r\n    },\r\n    getGradeCountAveragePerMonth(): string {\r\n      return (\r\n        Math.round(this.gradeCountAveragePerMonth) +\r\n        \"  prosjean broj ocjena mjeseno\"\r\n      );\r\n    },\r\n    getSlicedMonths(): string[] {\r\n      return [\r\n        \"Rujan\",\r\n        \"Listopad\",\r\n        \"Studeni\",\r\n        \"Prosinac\",\r\n        \"Sijeanj\",\r\n        \"Veljaa\",\r\n        \"Oujak\",\r\n        \"Travanj\",\r\n        \"Svibanj\",\r\n        \"Lipanj\",\r\n      ].slice(0, this.chartData.length);\r\n    },\r\n  },\r\n  watch: {\r\n    lineChartData() {\r\n      this.chartData = jsonClone(this.lineChartData);\r\n      this.updateChart();\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./LineChart.vue?vue&type=template&id=9aabf1ae\"\nimport script from \"./LineChart.vue?vue&type=script&lang=ts\"\nexport * from \"./LineChart.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport Chart, { ChartItem } from \"chart.js/auto\";\r\nimport { jsonClone, getGradesColors } from \"@/scripts/utils\";\r\n\r\nlet chart: Chart<\"doughnut\", number[], string>;\r\n\r\nexport type DoughnutChartData = number[];\r\n\r\nexport default defineComponent({\r\n  name: \"DoughnutChart\",\r\n  props: {\r\n    doughnutChartData: {\r\n      type: Array as PropType<DoughnutChartData>,\r\n      required: true,\r\n    },\r\n    finalGradesCount: { type: Number, required: true },\r\n  },\r\n  mounted() {\r\n    this.createChart();\r\n  },\r\n  methods: {\r\n    createChart() {\r\n      const ctx = document.getElementById(\"doughnut-chart\") as ChartItem;\r\n      chart = new Chart(ctx, {\r\n        type: \"doughnut\",\r\n        data: {\r\n          labels: [\r\n            \"Nedovoljnih\",\r\n            \"Dovoljnih\",\r\n            \"Dobrih\",\r\n            \"Vrlo dobrih\",\r\n            \"Odlinih\",\r\n          ],\r\n          datasets: [\r\n            {\r\n              data: this.doughnutChartData,\r\n              backgroundColor: getGradesColors(0.4),\r\n              borderColor: getGradesColors(),\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderWidth: 1.2,\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          layout: {\r\n            padding: {\r\n              top: 35,\r\n              left: 30,\r\n              bottom: 5,\r\n            },\r\n          },\r\n          plugins: {\r\n            tooltip: {\r\n              callbacks: {\r\n                title: (data) => {\r\n                  return data[0].label + \" (\" + (data[0].dataIndex + 1) + \"): \";\r\n                },\r\n                label: (dataset) => {\r\n                  const { parsed } = dataset;\r\n                  const perc = Math.round(\r\n                    (parsed / this.finalGradesCount) * 100,\r\n                  );\r\n                  return \" \" + parsed + \" (\" + perc + \"%)\";\r\n                },\r\n              },\r\n            },\r\n            legend: {\r\n              position: \"right\",\r\n              labels: { padding: 20 },\r\n              reverse: true,\r\n              onHover: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"pointer\";\r\n              },\r\n              onLeave: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"default\";\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    doughnutChartData() {\r\n      chart.data.datasets[0].data = this.doughnutChartData;\r\n      chart.update();\r\n    },\r\n  },\r\n});\r\n","<template>\r\n  <canvas id=\"doughnut-chart\"></canvas>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport Chart, { ChartItem } from \"chart.js/auto\";\r\nimport { jsonClone, getGradesColors } from \"@/scripts/utils\";\r\n\r\nlet chart: Chart<\"doughnut\", number[], string>;\r\n\r\nexport type DoughnutChartData = number[];\r\n\r\nexport default defineComponent({\r\n  name: \"DoughnutChart\",\r\n  props: {\r\n    doughnutChartData: {\r\n      type: Array as PropType<DoughnutChartData>,\r\n      required: true,\r\n    },\r\n    finalGradesCount: { type: Number, required: true },\r\n  },\r\n  mounted() {\r\n    this.createChart();\r\n  },\r\n  methods: {\r\n    createChart() {\r\n      const ctx = document.getElementById(\"doughnut-chart\") as ChartItem;\r\n      chart = new Chart(ctx, {\r\n        type: \"doughnut\",\r\n        data: {\r\n          labels: [\r\n            \"Nedovoljnih\",\r\n            \"Dovoljnih\",\r\n            \"Dobrih\",\r\n            \"Vrlo dobrih\",\r\n            \"Odlinih\",\r\n          ],\r\n          datasets: [\r\n            {\r\n              data: this.doughnutChartData,\r\n              backgroundColor: getGradesColors(0.4),\r\n              borderColor: getGradesColors(),\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderWidth: 1.2,\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          layout: {\r\n            padding: {\r\n              top: 35,\r\n              left: 30,\r\n              bottom: 5,\r\n            },\r\n          },\r\n          plugins: {\r\n            tooltip: {\r\n              callbacks: {\r\n                title: (data) => {\r\n                  return data[0].label + \" (\" + (data[0].dataIndex + 1) + \"): \";\r\n                },\r\n                label: (dataset) => {\r\n                  const { parsed } = dataset;\r\n                  const perc = Math.round(\r\n                    (parsed / this.finalGradesCount) * 100,\r\n                  );\r\n                  return \" \" + parsed + \" (\" + perc + \"%)\";\r\n                },\r\n              },\r\n            },\r\n            legend: {\r\n              position: \"right\",\r\n              labels: { padding: 20 },\r\n              reverse: true,\r\n              onHover: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"pointer\";\r\n              },\r\n              onLeave: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"default\";\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n    },\r\n  },\r\n  watch: {\r\n    doughnutChartData() {\r\n      chart.data.datasets[0].data = this.doughnutChartData;\r\n      chart.update();\r\n    },\r\n  },\r\n});\r\n</script>","import { render } from \"./DoughnutChart.vue?vue&type=template&id=fa180782\"\nimport script from \"./DoughnutChart.vue?vue&type=script&lang=ts\"\nexport * from \"./DoughnutChart.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\r\n  <canvas id=\"bar-chart\"></canvas>\r\n  <div id=\"sort-bar-chart\" class=\"card\">\r\n    <!-- v-tooltip=\"'Sortiraj uzlazno/silazno prema broju ocjena/prosjeku'\" -->\r\n    <div\r\n      class=\"material-icons\"\r\n      style=\"color: #2296da\"\r\n      @click=\"sortOptionClicked(1)\"\r\n      v-wave\r\n    >\r\n      {{\r\n        sortByCount == true\r\n          ? \"north_east\"\r\n          : sortByCount == false\r\n          ? \"south_east\"\r\n          : \"swap_horiz\"\r\n      }}\r\n    </div>\r\n    <div\r\n      class=\"material-icons\"\r\n      style=\"color: #0eff00\"\r\n      @click=\"sortOptionClicked(2)\"\r\n      v-wave\r\n    >\r\n      {{\r\n        sortByAverage == true\r\n          ? \"north_east\"\r\n          : sortByAverage == false\r\n          ? \"south_east\"\r\n          : \"swap_horiz\"\r\n      }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport Chart, { ChartItem } from \"chart.js/auto\";\r\nimport { formatNum, jsonClone } from \"@/scripts/utils\";\r\n\r\nlet chart: Chart<\"bar\", number[], string>;\r\n\r\nexport interface ChartBarData {\r\n  name: string;\r\n  gradesCount: number;\r\n  gradesCountEach: number[];\r\n  average: number;\r\n  backgroundColor: string;\r\n  borderColor: string;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"BarChart\",\r\n  props: {\r\n    barChartData: {\r\n      type: Object as PropType<ChartBarData[]>,\r\n      required: true,\r\n    },\r\n    finalAverage: { type: Number, required: true },\r\n    finalGradesCount: { type: Number, required: true },\r\n    gradeCountAveragePerSubject: { type: Number, required: true },\r\n  },\r\n  mounted() {\r\n    this.createChart();\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: jsonClone(this.barChartData),\r\n      sortByCount: undefined as boolean | undefined, // true for ascending\r\n      sortByAverage: undefined as boolean | undefined, // false for descending\r\n    };\r\n  },\r\n  methods: {\r\n    extractBarsData<T extends keyof ChartBarData>(barProperty: T) {\r\n      return this.chartData.map((bar) => bar[barProperty]);\r\n    },\r\n    sortOptionClicked(option: number) {\r\n      if (option == 1) {\r\n        this.sortByCount = !this.sortByCount;\r\n        this.sortByAverage = undefined;\r\n      } else {\r\n        this.sortByAverage = !this.sortByAverage;\r\n        this.sortByCount = undefined;\r\n      }\r\n      this.updateChart();\r\n    },\r\n    sortChart() {\r\n      let sortProperty: \"gradesCount\" | \"average\";\r\n      let isReverse: boolean;\r\n      if (this.sortByCount !== undefined) {\r\n        sortProperty = \"gradesCount\";\r\n        isReverse = !this.sortByCount;\r\n      } else if (this.sortByAverage !== undefined) {\r\n        sortProperty = \"average\";\r\n        isReverse = !this.sortByAverage;\r\n      } else return;\r\n      this.chartData.sort((a, b) => {\r\n        const [propA, propB] = [a[sortProperty], b[sortProperty]];\r\n        if (propA < propB) return isReverse ? 1 : -1;\r\n        if (propA > propB) return isReverse ? -1 : 1;\r\n        return 0;\r\n      });\r\n    },\r\n    createChart() {\r\n      const ctx = document.getElementById(\"bar-chart\") as ChartItem;\r\n      chart = new Chart(ctx, {\r\n        type: \"bar\",\r\n        data: {\r\n          labels: this.extractBarsData(\"name\"),\r\n          datasets: [\r\n            {\r\n              label: \"Broj ocjena\",\r\n              backgroundColor: \"rgba(35, 86, 148, .65)\",\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderColor: \"#2296da\",\r\n              borderWidth: 3,\r\n              data: this.extractBarsData(\"gradesCount\"),\r\n              yAxisID: \"yAxis1\",\r\n            },\r\n            {\r\n              label: \"Prosjek ocjena\",\r\n              backgroundColor: this.extractBarsData(\"backgroundColor\"),\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderColor: this.extractBarsData(\"borderColor\"),\r\n              borderWidth: 3,\r\n              data: this.extractBarsData(\"average\"),\r\n              yAxisID: \"yAxis2\",\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          interaction: {\r\n            intersect: false,\r\n          },\r\n          scales: {\r\n            yAxis1: { position: \"left\" },\r\n            yAxis2: {\r\n              position: \"right\",\r\n              ticks: {\r\n                callback: (value) => formatNum(value),\r\n              },\r\n            },\r\n          },\r\n          plugins: {\r\n            tooltip: {\r\n              callbacks: {\r\n                label: (context) => {\r\n                  const label = \" \" + context.dataset.label + \": \";\r\n                  const value = context.parsed.y;\r\n                  const shouldParse = label.includes(\"Prosjek\");\r\n                  return label + (shouldParse ? formatNum(value) : value);\r\n                },\r\n                footer: (context) => {\r\n                  const { dataIndex } = context[0];\r\n                  return [\r\n                    \"Odlinih (5)\",\r\n                    \"Vrlo dobrih (4)\",\r\n                    \"Dobrih (3)\",\r\n                    \"Dovoljnih (2)\",\r\n                    \"Nedovoljnih (1)\",\r\n                  ]\r\n                    .map((title, i) => {\r\n                      const count =\r\n                        this.chartData[dataIndex].gradesCountEach[4 - i];\r\n                      if (!count) return false;\r\n                      return title + \": \" + count;\r\n                    })\r\n                    .filter(g => g)\r\n                    .join(\"\\n\");\r\n                },\r\n              },\r\n            },\r\n            annotation: {\r\n              annotations: {\r\n                yAxis1: {\r\n                  type: \"line\",\r\n                  scaleID: \"yAxis1\",\r\n                  value: this.gradeCountAveragePerSubject,\r\n                  borderColor: \"#2296da\",\r\n                  borderWidth: 2,\r\n                  borderDash: [10, 16],\r\n                  label: {\r\n                    enabled: true,\r\n                    content: this.getGradeCountAveragePerSubject(),\r\n                    position: \"start\",\r\n                    font: { style: \"normal\" },\r\n                  },\r\n                },\r\n                yAxis2: {\r\n                  type: \"line\",\r\n                  scaleID: \"yAxis2\",\r\n                  value: this.finalAverage,\r\n                  borderColor: \"#4caf50\",\r\n                  borderWidth: 2,\r\n                  borderDash: [10, 16],\r\n                  label: {\r\n                    enabled: true,\r\n                    content: this.getFinalGradesCount(),\r\n                    position: \"end\",\r\n                    font: { style: \"normal\" },\r\n                  },\r\n                },\r\n              },\r\n            },\r\n            legend: {\r\n              labels: { padding: 35 },\r\n              onHover: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"pointer\";\r\n              },\r\n              onLeave: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"default\";\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n    },\r\n    updateChart() {\r\n      this.sortChart();\r\n      const { data, config } = chart;\r\n      const { datasets } = data;\r\n      const { yAxis1, yAxis2 } = config.options!.plugins!.annotation!\r\n        .annotations as any;\r\n      yAxis1.value = this.gradeCountAveragePerSubject;\r\n      yAxis1.label.content = this.getGradeCountAveragePerSubject();\r\n      yAxis2.value = this.finalAverage;\r\n      yAxis2.label.content = this.getFinalGradesCount();\r\n      data.labels = this.extractBarsData(\"name\");\r\n      datasets[0].data = this.extractBarsData(\"gradesCount\");\r\n      datasets[1].data = this.extractBarsData(\"average\");\r\n      datasets[1].backgroundColor = this.extractBarsData(\"backgroundColor\");\r\n      datasets[1].borderColor = this.extractBarsData(\"borderColor\");\r\n      chart.update();\r\n    },\r\n    getGradeCountAveragePerSubject(): string {\r\n      return (\r\n        Math.round(this.gradeCountAveragePerSubject) +\r\n        \"  prosjean broj ocjena po predmetu\"\r\n      );\r\n    },\r\n    getFinalGradesCount(): string {\r\n      return (\r\n        \"prosjek svih ocjena (\" +\r\n        this.finalGradesCount +\r\n        \")  \" +\r\n        formatNum(this.finalAverage)\r\n      );\r\n    },\r\n  },\r\n  watch: {\r\n    barChartData() {\r\n      this.chartData = jsonClone(this.barChartData);\r\n      this.updateChart();\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#sort-bar-chart {\r\n  position: absolute;\r\n  font-size: 22px;\r\n  top: 10px;\r\n  right: 5px;\r\n  display: flex;\r\n  width: 140px;\r\n  cursor: pointer;\r\n\r\n  & > div {\r\n    flex: 1;\r\n    text-align: center;\r\n    border-radius: inherit;\r\n  }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent, PropType } from \"vue\";\r\nimport Chart, { ChartItem } from \"chart.js/auto\";\r\nimport { formatNum, jsonClone } from \"@/scripts/utils\";\r\n\r\nlet chart: Chart<\"bar\", number[], string>;\r\n\r\nexport interface ChartBarData {\r\n  name: string;\r\n  gradesCount: number;\r\n  gradesCountEach: number[];\r\n  average: number;\r\n  backgroundColor: string;\r\n  borderColor: string;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"BarChart\",\r\n  props: {\r\n    barChartData: {\r\n      type: Object as PropType<ChartBarData[]>,\r\n      required: true,\r\n    },\r\n    finalAverage: { type: Number, required: true },\r\n    finalGradesCount: { type: Number, required: true },\r\n    gradeCountAveragePerSubject: { type: Number, required: true },\r\n  },\r\n  mounted() {\r\n    this.createChart();\r\n  },\r\n  data() {\r\n    return {\r\n      chartData: jsonClone(this.barChartData),\r\n      sortByCount: undefined as boolean | undefined, // true for ascending\r\n      sortByAverage: undefined as boolean | undefined, // false for descending\r\n    };\r\n  },\r\n  methods: {\r\n    extractBarsData<T extends keyof ChartBarData>(barProperty: T) {\r\n      return this.chartData.map((bar) => bar[barProperty]);\r\n    },\r\n    sortOptionClicked(option: number) {\r\n      if (option == 1) {\r\n        this.sortByCount = !this.sortByCount;\r\n        this.sortByAverage = undefined;\r\n      } else {\r\n        this.sortByAverage = !this.sortByAverage;\r\n        this.sortByCount = undefined;\r\n      }\r\n      this.updateChart();\r\n    },\r\n    sortChart() {\r\n      let sortProperty: \"gradesCount\" | \"average\";\r\n      let isReverse: boolean;\r\n      if (this.sortByCount !== undefined) {\r\n        sortProperty = \"gradesCount\";\r\n        isReverse = !this.sortByCount;\r\n      } else if (this.sortByAverage !== undefined) {\r\n        sortProperty = \"average\";\r\n        isReverse = !this.sortByAverage;\r\n      } else return;\r\n      this.chartData.sort((a, b) => {\r\n        const [propA, propB] = [a[sortProperty], b[sortProperty]];\r\n        if (propA < propB) return isReverse ? 1 : -1;\r\n        if (propA > propB) return isReverse ? -1 : 1;\r\n        return 0;\r\n      });\r\n    },\r\n    createChart() {\r\n      const ctx = document.getElementById(\"bar-chart\") as ChartItem;\r\n      chart = new Chart(ctx, {\r\n        type: \"bar\",\r\n        data: {\r\n          labels: this.extractBarsData(\"name\"),\r\n          datasets: [\r\n            {\r\n              label: \"Broj ocjena\",\r\n              backgroundColor: \"rgba(35, 86, 148, .65)\",\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderColor: \"#2296da\",\r\n              borderWidth: 3,\r\n              data: this.extractBarsData(\"gradesCount\"),\r\n              yAxisID: \"yAxis1\",\r\n            },\r\n            {\r\n              label: \"Prosjek ocjena\",\r\n              backgroundColor: this.extractBarsData(\"backgroundColor\"),\r\n              hoverBackgroundColor: \"transparent\",\r\n              borderColor: this.extractBarsData(\"borderColor\"),\r\n              borderWidth: 3,\r\n              data: this.extractBarsData(\"average\"),\r\n              yAxisID: \"yAxis2\",\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          interaction: {\r\n            intersect: false,\r\n          },\r\n          scales: {\r\n            yAxis1: { position: \"left\" },\r\n            yAxis2: {\r\n              position: \"right\",\r\n              ticks: {\r\n                callback: (value) => formatNum(value),\r\n              },\r\n            },\r\n          },\r\n          plugins: {\r\n            tooltip: {\r\n              callbacks: {\r\n                label: (context) => {\r\n                  const label = \" \" + context.dataset.label + \": \";\r\n                  const value = context.parsed.y;\r\n                  const shouldParse = label.includes(\"Prosjek\");\r\n                  return label + (shouldParse ? formatNum(value) : value);\r\n                },\r\n                footer: (context) => {\r\n                  const { dataIndex } = context[0];\r\n                  return [\r\n                    \"Odlinih (5)\",\r\n                    \"Vrlo dobrih (4)\",\r\n                    \"Dobrih (3)\",\r\n                    \"Dovoljnih (2)\",\r\n                    \"Nedovoljnih (1)\",\r\n                  ]\r\n                    .map((title, i) => {\r\n                      const count =\r\n                        this.chartData[dataIndex].gradesCountEach[4 - i];\r\n                      if (!count) return false;\r\n                      return title + \": \" + count;\r\n                    })\r\n                    .filter(g => g)\r\n                    .join(\"\\n\");\r\n                },\r\n              },\r\n            },\r\n            annotation: {\r\n              annotations: {\r\n                yAxis1: {\r\n                  type: \"line\",\r\n                  scaleID: \"yAxis1\",\r\n                  value: this.gradeCountAveragePerSubject,\r\n                  borderColor: \"#2296da\",\r\n                  borderWidth: 2,\r\n                  borderDash: [10, 16],\r\n                  label: {\r\n                    enabled: true,\r\n                    content: this.getGradeCountAveragePerSubject(),\r\n                    position: \"start\",\r\n                    font: { style: \"normal\" },\r\n                  },\r\n                },\r\n                yAxis2: {\r\n                  type: \"line\",\r\n                  scaleID: \"yAxis2\",\r\n                  value: this.finalAverage,\r\n                  borderColor: \"#4caf50\",\r\n                  borderWidth: 2,\r\n                  borderDash: [10, 16],\r\n                  label: {\r\n                    enabled: true,\r\n                    content: this.getFinalGradesCount(),\r\n                    position: \"end\",\r\n                    font: { style: \"normal\" },\r\n                  },\r\n                },\r\n              },\r\n            },\r\n            legend: {\r\n              labels: { padding: 35 },\r\n              onHover: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"pointer\";\r\n              },\r\n              onLeave: (e) => {\r\n                (e.native!.target as HTMLElement).style.cursor = \"default\";\r\n              },\r\n            },\r\n          },\r\n        },\r\n      });\r\n    },\r\n    updateChart() {\r\n      this.sortChart();\r\n      const { data, config } = chart;\r\n      const { datasets } = data;\r\n      const { yAxis1, yAxis2 } = config.options!.plugins!.annotation!\r\n        .annotations as any;\r\n      yAxis1.value = this.gradeCountAveragePerSubject;\r\n      yAxis1.label.content = this.getGradeCountAveragePerSubject();\r\n      yAxis2.value = this.finalAverage;\r\n      yAxis2.label.content = this.getFinalGradesCount();\r\n      data.labels = this.extractBarsData(\"name\");\r\n      datasets[0].data = this.extractBarsData(\"gradesCount\");\r\n      datasets[1].data = this.extractBarsData(\"average\");\r\n      datasets[1].backgroundColor = this.extractBarsData(\"backgroundColor\");\r\n      datasets[1].borderColor = this.extractBarsData(\"borderColor\");\r\n      chart.update();\r\n    },\r\n    getGradeCountAveragePerSubject(): string {\r\n      return (\r\n        Math.round(this.gradeCountAveragePerSubject) +\r\n        \"  prosjean broj ocjena po predmetu\"\r\n      );\r\n    },\r\n    getFinalGradesCount(): string {\r\n      return (\r\n        \"prosjek svih ocjena (\" +\r\n        this.finalGradesCount +\r\n        \")  \" +\r\n        formatNum(this.finalAverage)\r\n      );\r\n    },\r\n  },\r\n  watch: {\r\n    barChartData() {\r\n      this.chartData = jsonClone(this.barChartData);\r\n      this.updateChart();\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./BarChart.vue?vue&type=template&id=9e840e0a&scoped=true\"\nimport script from \"./BarChart.vue?vue&type=script&lang=ts\"\nexport * from \"./BarChart.vue?vue&type=script&lang=ts\"\n\nimport \"./BarChart.vue?vue&type=style&index=0&id=9e840e0a&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-9e840e0a\"\n\nexport default script","\nimport { defineComponent, PropType } from \"vue\";\nimport LineChart, { ChartMonthData } from \"./LineChart.vue\";\nimport DoughnutChart, { DoughnutChartData } from \"./DoughnutChart.vue\";\nimport BarChart, { ChartBarData } from \"./BarChart.vue\";\nimport { ClassInfo, SubjectCache } from \"@/store/state\";\nimport {\n  getAverage,\n  getSum,\n  numberToColorHsl,\n  removeAllparentheses,\n} from \"@/scripts/utils\";\nimport { updateSubjects } from \"@/scripts/scrapers\";\n\nexport default defineComponent({\n  name: \"Stats\",\n  components: { LineChart, DoughnutChart, BarChart },\n  props: {\n    classId: String,\n    selectedClassesId: Array as PropType<string[]>,\n  },\n  emits: [\"sectionLoading\", \"sectionLoaded\"],\n  created() {\n    this.updateSelectedClasses();\n  },\n  data() {\n    return {\n      noDataPresent: true,\n      loaded: false,\n\n      barChartData: [] as ChartBarData[],\n      lineChartData: [] as ChartMonthData[],\n      doughnutChartData: [] as DoughnutChartData,\n\n      finalGradesCount: 0,\n      finalAverage: 0,\n      gradeCountAveragePerSubject: 0,\n      gradeCountAveragePerMonth: 0,\n\n      transitionName: \"\",\n    };\n  },\n  methods: {\n    async updateSelectedClasses() {\n      this.$emit(\"sectionLoading\");\n      const subjects: SubjectCache[][] = [];\n      const openedClass = this.classId ? [this.classId] : [];\n      for (const classId of this.selectedClassesId || openedClass) {\n        const classInfo = this.getClassInfo(classId);\n        if (!classInfo) continue;\n        await updateSubjects(classInfo); // Must go class by class\n        subjects.push(classInfo.cachedSubjects!);\n      }\n      this.$emit(\"sectionLoaded\");\n      this.noDataPresent = !subjects.length;\n      if (!this.noDataPresent) this.calculateStats(subjects);\n      this.loaded = true;\n      setTimeout(() => (this.transitionName = \"opacity\"), 500);\n    },\n    calculateStats(subjects: SubjectCache[][]) {\n      const totalGradesCountEach = [0, 0, 0, 0, 0];\n      const gradeCountPerSubject: number[] = [];\n      const gradeCountMonthlyAveragePerYear: number[] = [];\n      const gradeCountEachPerMonth = [...Array(10)].map(() => [0, 0, 0, 0, 0]);\n\n      this.barChartData = [];\n      for (const year of subjects.filter((y) => y)) {\n        const gradeCountPerMonth = Array(10).fill(0);\n        for (const { name, gradesByCategory } of year) {\n          if (!gradesByCategory) continue;\n          let gradesCountEach = [0, 0, 0, 0, 0];\n          for (const { grades } of gradesByCategory)\n            for (let i = 0; i < grades.length; i++)\n              for (const grade of grades[i]) {\n                totalGradesCountEach[grade - 1] += 1;\n                gradesCountEach[grade - 1] += 1;\n                gradeCountEachPerMonth[i][grade - 1] += 1;\n                gradeCountPerMonth[i] += 1;\n              }\n          let gradesCount = getSum(gradesCountEach);\n          if (!gradesCount) continue;\n          gradeCountPerSubject.push(gradesCount);\n\n          const sameSubject = this.barChartData.find(\n            (s) => removeAllparentheses(s.name) == removeAllparentheses(name),\n          );\n          if (sameSubject) {\n            gradesCountEach = gradesCountEach.map(\n              (count, i) => count + sameSubject.gradesCountEach[i],\n            );\n            gradesCount = getSum(gradesCountEach);\n          }\n          const gradesSum = getSum(gradesCountEach, true);\n          const average = +(gradesSum / gradesCount).toFixed(2);\n          const bar: ChartBarData = {\n            name,\n            gradesCount,\n            gradesCountEach,\n            average,\n            backgroundColor: numberToColorHsl(((average - 1) / 4) * 100, 0.4),\n            borderColor: numberToColorHsl(((average - 1) / 4) * 100),\n          };\n          if (!sameSubject) this.barChartData.push(bar);\n          else this.barChartData[this.barChartData.indexOf(sameSubject)] = bar;\n        }\n        gradeCountMonthlyAveragePerYear.push(\n          getAverage(this.removeTrailingZeros(gradeCountPerMonth)),\n        );\n      }\n\n      this.lineChartData = this.removeTrailingZeros(gradeCountEachPerMonth).map(\n        (gradesCountEach) => {\n          const gradesCount = getSum(gradesCountEach);\n          const gradesSum = getSum(gradesCountEach, true);\n          const average = +(gradesSum / gradesCount).toFixed(2);\n          return { gradesCount, gradesCountEach, average };\n        },\n      );\n\n      const finalGradesSum = getSum(totalGradesCountEach, true);\n      this.doughnutChartData = totalGradesCountEach;\n      this.finalGradesCount = getSum(totalGradesCountEach);\n      this.finalAverage = finalGradesSum / this.finalGradesCount;\n      this.gradeCountAveragePerSubject = getAverage(gradeCountPerSubject);\n      this.gradeCountAveragePerMonth = getAverage(\n        gradeCountMonthlyAveragePerYear,\n      );\n    },\n    removeTrailingZeros<T extends number[] | number[][]>(arr: T) {\n      for (let i = arr.length - 1; i > -1; i--) {\n        if (typeof arr[i] == \"number\" ? arr[i] : getSum(arr[i] as number[]))\n          return arr;\n        arr.pop();\n      }\n      return arr;\n    },\n    getClassInfo(classId: string): ClassInfo | undefined {\n      return this.$store.getters.classInfo(classId);\n    },\n  },\n  watch: {\n    classId() {\n      this.updateSelectedClasses();\n    },\n    selectedClassesId() {\n      this.updateSelectedClasses();\n    },\n  },\n});\n","import { render } from \"./Stats.vue?vue&type=template&id=26980fc4&scoped=true\"\nimport script from \"./Stats.vue?vue&type=script&lang=ts\"\nexport * from \"./Stats.vue?vue&type=script&lang=ts\"\n\nimport \"./Stats.vue?vue&type=style&index=0&id=26980fc4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-26980fc4\"\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport Stats from \"@/components/stats/Stats.vue\";\n\nexport default defineComponent({\n  name: \"ClassStats\",\n  components: { Stats },\n  props: { classId: String },\n  emits: [\"sectionLoading\", \"sectionLoaded\"],\n});\n","import { render } from \"./ClassStats.vue?vue&type=template&id=693923c0\"\nimport script from \"./ClassStats.vue?vue&type=script&lang=ts\"\nexport * from \"./ClassStats.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\r\n  <div id=\"global-stats\">\r\n    <div id=\"classes\" ref=\"classes\">\r\n      <div\r\n        id=\"select-all\"\r\n        class=\"card flex-center material-icons\"\r\n        :class=\"{ selected: allClassesToggled }\"\r\n        @click=\"toggleAllClasses\"\r\n      >\r\n        done_all\r\n      </div>\r\n      <div\r\n        v-for=\"(classInfo, i) in classesList\"\r\n        :key=\"i\"\r\n        class=\"card flex-center\"\r\n        :class=\"{ selected: selectedClassesUrl.includes(classInfo.url) }\"\r\n        @click=\"classClicked(classInfo.url)\"\r\n      >\r\n        <div>{{ classInfo.name }}</div>\r\n        <div v-if=\"classInfo.finalGrade\" id=\"final-grade\">\r\n          ({{ formatNum(classInfo.finalGrade) }})\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div id=\"stats-container\" class=\"flex-center\">\r\n      <div v-if=\"shouldUserWait\">\r\n        Uitavanje statistike prvi put moe potrajati.\r\n        <span class=\"material-icons\" v-tooltip=\"infoTooltip\"> info </span>\r\n        <div\r\n          class=\"button\"\r\n          style=\"margin-top: 15px\"\r\n          @click=\"shouldUserWait = false\"\r\n        >\r\n          Pokreni\r\n        </div>\r\n      </div>\r\n      <div v-else class=\"abs-cover\">\r\n        <Stats\r\n          :selectedClassesId=\"selectedClassesId\"\r\n          @sectionLoading=\"showSpinner = true\"\r\n          @sectionLoaded=\"showSpinner = false\"\r\n        ></Stats>\r\n      </div>\r\n      <Spinner :visible=\"showSpinner\" :size=\"'125px'\" blur></Spinner>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport Stats from \"@/components/stats/Stats.vue\";\r\nimport Spinner from \"@/components/Spinner.vue\";\r\nimport { User, ClassInfo } from \"@/store/state\";\r\nimport { formatNum } from \"@/scripts/utils\";\r\n\r\nexport default defineComponent({\r\n  name: \"ClassStats\",\r\n  components: { Stats, Spinner },\r\n  created() {\r\n    this.toggleAllClasses();\r\n    this.shouldUserWait = this.classesList.some(\r\n      (classInfo) => !classInfo.cachedSubjects,\r\n    );\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      const classes = this.$refs.classes as HTMLElement;\r\n      const user = document.getElementById(\"user\")!;\r\n      classes.style.paddingRight = user.offsetWidth + \"px\"; // TODO: fix incorrect offset on page load\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      selectedClassesUrl: [] as string[],\r\n      shouldUserWait: false,\r\n      infoTooltip: {\r\n        content: /* html */ `\r\n          Nakon to se uitaju svi podaci prethodnih godina, vie se nee aurirati.<br>\r\n          Podaci se mogu aurirati pojedinano ulaskom u razred i klikom na\r\n          <span class=\"material-icons\">sync</span>`,\r\n        html: true,\r\n      },\r\n      showSpinner: false,\r\n    };\r\n  },\r\n  methods: {\r\n    classClicked(url: string) {\r\n      const idx = this.selectedClassesUrl.indexOf(url);\r\n      if (idx == -1) this.selectedClassesUrl.push(url);\r\n      else this.selectedClassesUrl.splice(idx, 1);\r\n    },\r\n    toggleAllClasses() {\r\n      if (this.allClassesToggled) this.selectedClassesUrl = [];\r\n      else this.selectedClassesUrl = this.classesList.map((c) => c.url);\r\n    },\r\n    formatNum: (num: string) => formatNum(num),\r\n  },\r\n  computed: {\r\n    user(): User | undefined {\r\n      return this.$store.getters.user;\r\n    },\r\n    classesList(): ClassInfo[] {\r\n      return this.user ? this.user.classesList : [];\r\n    },\r\n    allClassesToggled(): boolean {\r\n      return this.selectedClassesUrl.length == this.classesList.length;\r\n    },\r\n    selectedClassesId(): string[] {\r\n      return this.selectedClassesUrl.map((url) => url.match(/\\d+/)![0]);\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#global-stats {\r\n  height: 100%;\r\n  padding: 20px 0 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n#stats-container {\r\n  position: relative;\r\n  flex: 1;\r\n}\r\n\r\n#classes {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  & > div {\r\n    flex: 1;\r\n    user-select: none;\r\n    cursor: pointer;\r\n    padding: 5px 20px;\r\n    margin: 0 30px 20px;\r\n    transition: color 150ms, background-color 150ms;\r\n\r\n    @include themed() {\r\n      &.selected {\r\n        color: t(\"strong-blue\") !important;\r\n        background-color: $navbar-selected;\r\n      }\r\n\r\n      &:hover {\r\n        color: t(\"dark-blue\");\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n#select-all {\r\n  flex: 0 !important;\r\n  white-space: nowrap;\r\n}\r\n\r\n#final-grade {\r\n  margin-left: 10px;\r\n  font-weight: bold;\r\n}\r\n\r\n#stats {\r\n  margin: 0 20px;\r\n}\r\n</style>","\r\nimport { defineComponent } from \"vue\";\r\nimport Stats from \"@/components/stats/Stats.vue\";\r\nimport Spinner from \"@/components/Spinner.vue\";\r\nimport { User, ClassInfo } from \"@/store/state\";\r\nimport { formatNum } from \"@/scripts/utils\";\r\n\r\nexport default defineComponent({\r\n  name: \"ClassStats\",\r\n  components: { Stats, Spinner },\r\n  created() {\r\n    this.toggleAllClasses();\r\n    this.shouldUserWait = this.classesList.some(\r\n      (classInfo) => !classInfo.cachedSubjects,\r\n    );\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      const classes = this.$refs.classes as HTMLElement;\r\n      const user = document.getElementById(\"user\")!;\r\n      classes.style.paddingRight = user.offsetWidth + \"px\"; // TODO: fix incorrect offset on page load\r\n    });\r\n  },\r\n  data() {\r\n    return {\r\n      selectedClassesUrl: [] as string[],\r\n      shouldUserWait: false,\r\n      infoTooltip: {\r\n        content: /* html */ `\r\n          Nakon to se uitaju svi podaci prethodnih godina, vie se nee aurirati.<br>\r\n          Podaci se mogu aurirati pojedinano ulaskom u razred i klikom na\r\n          <span class=\"material-icons\">sync</span>`,\r\n        html: true,\r\n      },\r\n      showSpinner: false,\r\n    };\r\n  },\r\n  methods: {\r\n    classClicked(url: string) {\r\n      const idx = this.selectedClassesUrl.indexOf(url);\r\n      if (idx == -1) this.selectedClassesUrl.push(url);\r\n      else this.selectedClassesUrl.splice(idx, 1);\r\n    },\r\n    toggleAllClasses() {\r\n      if (this.allClassesToggled) this.selectedClassesUrl = [];\r\n      else this.selectedClassesUrl = this.classesList.map((c) => c.url);\r\n    },\r\n    formatNum: (num: string) => formatNum(num),\r\n  },\r\n  computed: {\r\n    user(): User | undefined {\r\n      return this.$store.getters.user;\r\n    },\r\n    classesList(): ClassInfo[] {\r\n      return this.user ? this.user.classesList : [];\r\n    },\r\n    allClassesToggled(): boolean {\r\n      return this.selectedClassesUrl.length == this.classesList.length;\r\n    },\r\n    selectedClassesId(): string[] {\r\n      return this.selectedClassesUrl.map((url) => url.match(/\\d+/)![0]);\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./GlobalStats.vue?vue&type=template&id=5850037d&scoped=true\"\nimport script from \"./GlobalStats.vue?vue&type=script&lang=ts\"\nexport * from \"./GlobalStats.vue?vue&type=script&lang=ts\"\n\nimport \"./GlobalStats.vue?vue&type=style&index=0&id=5850037d&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5850037d\"\n\nexport default script","<template>\r\n  <div id=\"websites\">\r\n    <div\r\n      v-if=\"activeFrames.length > 1\"\r\n      id=\"urls\"\r\n      class=\"flex-center card\"\r\n      @click.self=\"showDropdown = !showDropdown\"\r\n    >\r\n      <span class=\"material-icons\"> link </span>\r\n      <Dropdown\r\n        :visible=\"showDropdown\"\r\n        :list=\"dropdown\"\r\n        sourceElementId=\"urls\"\r\n        @close=\"dropdownClosed\"\r\n      ></Dropdown>\r\n    </div>\r\n    <div id=\"iframe\">\r\n      <iframe\r\n        :src=\"activeFrame.url\"\r\n        @load=\"iframeLoaded\"\r\n        @error=\"iframeError\"\r\n        ref=\"iframe\"\r\n      ></iframe>\r\n      <Spinner :visible=\"showSpinner\"></Spinner>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\r\nimport Spinner from \"@/components/Spinner.vue\";\r\n\r\ninterface Website {\r\n  name: string;\r\n  url: string;\r\n  tooltip?: string;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Website\",\r\n  components: {\r\n    Dropdown,\r\n    Spinner,\r\n  },\r\n  data() {\r\n    return {\r\n      showSpinner: false,\r\n      showDropdown: false,\r\n      frames: {\r\n        \"skolska-stranica\": [\r\n          {\r\n            name: \"kolska stranica\",\r\n            url: \"http://www.ss-elektrotehnicka-zg.skole.hr/\",\r\n          },\r\n        ],\r\n        \"skolski-e-rudnik\": [\r\n          {\r\n            name: \"eR - kolski e-Rudnik (Vol. 2)\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiM2Q1NjVmZDEtMGUyMy00MDBiLTkzYWItYjBhMTA3MDFlOWUxIiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje statistike podatke o opem uspjehu uenika, njihovim ocjenama,<br> \" +\r\n              \"opravdanim i neopravdanim izostancima, pedagokim mjerama<br> \" +\r\n              \"te trendove po kolskim godinama.\",\r\n          },\r\n          {\r\n            name: \"eR - kolski e-Rudnik\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiZWE3YTE4OWQtOWJmNC00OTJmLWE2MjktYTQ5MWJlNDNlZDQ0IiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje adresar kolskih ustanova, geografsku distribuciju kola i uenika,<br> \" +\r\n              \"razne statistike podatke o kolama, uenicima i o obrazovnim programima<br> \" +\r\n              \"te demografske trendove po kolskim godinama.\",\r\n          },\r\n          {\r\n            name: \"eR - kolski e-Rudnik (Vol. 3)\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiOTUxNTE3YmQtM2E3MC00MDc0LTg3OTQtYTExZWZhYzU3Y2FlIiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje rezultate uenika na dravnoj maturi, njihove ocjene u zavrnim<br> \" +\r\n              \"razredima osnovnih i srednjih kola, trendove po kolskim godinama<br> \" +\r\n              \"te upise na visoka uilita.\",\r\n          },\r\n        ],\r\n        loomen: [{ name: \"Loomen\", url: \"https://loomen.carnet.hr/\" }],\r\n        \"srednja.hr\": [{ name: \"Srednja.hr\", url: \"https://www.srednja.hr/\" }],\r\n      } as Record<string, Website[]>,\r\n      activeFrames: [] as Website[],\r\n      activeFrame: {} as Website,\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.$emitter.emit(\"show-user-card\", true);\r\n    this.changeFrame();\r\n  },\r\n  methods: {\r\n    changeFrame() {\r\n      const site = this.$route.params.website as string;\r\n      if (!site) return;\r\n      this.activeFrames = this.frames[site];\r\n      this.activeFrame = this.frames[site][0];\r\n      this.showFrame(false);\r\n    },\r\n    iframeLoaded() {\r\n      this.showFrame(true);\r\n    },\r\n    iframeError() {\r\n      this.showFrame(false);\r\n    },\r\n    showFrame(show: boolean) {\r\n      this.showSpinner = !show;\r\n      const frame = this.$refs.iframe as HTMLElement;\r\n      if (frame) frame.className = show ? \"visible\" : \"\";\r\n    },\r\n    dropdownClosed(rowName?: string) {\r\n      this.showDropdown = false;\r\n      if (!rowName) return;\r\n      this.activeFrame = this.activeFrames.find(\r\n        (f) => f.name == rowName,\r\n      ) as Website;\r\n    },\r\n  },\r\n  computed: {\r\n    dropdown(): DropdownItem[] {\r\n      return this.activeFrames.map((frame) => ({\r\n        name: frame.name,\r\n        tooltip: frame.tooltip,\r\n        active: frame.url == this.activeFrame.url,\r\n      }));\r\n    },\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.changeFrame();\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#websites,\r\n#iframe,\r\niframe {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\niframe {\r\n  opacity: 0;\r\n  transition: opacity $views-transition;\r\n\r\n  &.visible {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n#urls {\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n  width: 44px;\r\n  height: 44px;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n\r\n  & > span {\r\n    pointer-events: none;\r\n  }\r\n\r\n  @include themed() {\r\n    background: t(\"white-background\");\r\n  }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\r\nimport Spinner from \"@/components/Spinner.vue\";\r\n\r\ninterface Website {\r\n  name: string;\r\n  url: string;\r\n  tooltip?: string;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Website\",\r\n  components: {\r\n    Dropdown,\r\n    Spinner,\r\n  },\r\n  data() {\r\n    return {\r\n      showSpinner: false,\r\n      showDropdown: false,\r\n      frames: {\r\n        \"skolska-stranica\": [\r\n          {\r\n            name: \"kolska stranica\",\r\n            url: \"http://www.ss-elektrotehnicka-zg.skole.hr/\",\r\n          },\r\n        ],\r\n        \"skolski-e-rudnik\": [\r\n          {\r\n            name: \"eR - kolski e-Rudnik (Vol. 2)\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiM2Q1NjVmZDEtMGUyMy00MDBiLTkzYWItYjBhMTA3MDFlOWUxIiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje statistike podatke o opem uspjehu uenika, njihovim ocjenama,<br> \" +\r\n              \"opravdanim i neopravdanim izostancima, pedagokim mjerama<br> \" +\r\n              \"te trendove po kolskim godinama.\",\r\n          },\r\n          {\r\n            name: \"eR - kolski e-Rudnik\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiZWE3YTE4OWQtOWJmNC00OTJmLWE2MjktYTQ5MWJlNDNlZDQ0IiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje adresar kolskih ustanova, geografsku distribuciju kola i uenika,<br> \" +\r\n              \"razne statistike podatke o kolama, uenicima i o obrazovnim programima<br> \" +\r\n              \"te demografske trendove po kolskim godinama.\",\r\n          },\r\n          {\r\n            name: \"eR - kolski e-Rudnik (Vol. 3)\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiOTUxNTE3YmQtM2E3MC00MDc0LTg3OTQtYTExZWZhYzU3Y2FlIiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje rezultate uenika na dravnoj maturi, njihove ocjene u zavrnim<br> \" +\r\n              \"razredima osnovnih i srednjih kola, trendove po kolskim godinama<br> \" +\r\n              \"te upise na visoka uilita.\",\r\n          },\r\n        ],\r\n        loomen: [{ name: \"Loomen\", url: \"https://loomen.carnet.hr/\" }],\r\n        \"srednja.hr\": [{ name: \"Srednja.hr\", url: \"https://www.srednja.hr/\" }],\r\n      } as Record<string, Website[]>,\r\n      activeFrames: [] as Website[],\r\n      activeFrame: {} as Website,\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.$emitter.emit(\"show-user-card\", true);\r\n    this.changeFrame();\r\n  },\r\n  methods: {\r\n    changeFrame() {\r\n      const site = this.$route.params.website as string;\r\n      if (!site) return;\r\n      this.activeFrames = this.frames[site];\r\n      this.activeFrame = this.frames[site][0];\r\n      this.showFrame(false);\r\n    },\r\n    iframeLoaded() {\r\n      this.showFrame(true);\r\n    },\r\n    iframeError() {\r\n      this.showFrame(false);\r\n    },\r\n    showFrame(show: boolean) {\r\n      this.showSpinner = !show;\r\n      const frame = this.$refs.iframe as HTMLElement;\r\n      if (frame) frame.className = show ? \"visible\" : \"\";\r\n    },\r\n    dropdownClosed(rowName?: string) {\r\n      this.showDropdown = false;\r\n      if (!rowName) return;\r\n      this.activeFrame = this.activeFrames.find(\r\n        (f) => f.name == rowName,\r\n      ) as Website;\r\n    },\r\n  },\r\n  computed: {\r\n    dropdown(): DropdownItem[] {\r\n      return this.activeFrames.map((frame) => ({\r\n        name: frame.name,\r\n        tooltip: frame.tooltip,\r\n        active: frame.url == this.activeFrame.url,\r\n      }));\r\n    },\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.changeFrame();\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Websites.vue?vue&type=template&id=12778c44&scoped=true\"\nimport script from \"./Websites.vue?vue&type=script&lang=ts\"\nexport * from \"./Websites.vue?vue&type=script&lang=ts\"\n\nimport \"./Websites.vue?vue&type=style&index=0&id=12778c44&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-12778c44\"\n\nexport default script","<template>\r\n  <div id=\"settings\">\r\n    <div>\r\n      <div class=\"title\">Postavke</div>\r\n      <div class=\"setting card\">\r\n        Tamni prikaz:\r\n\r\n        <div class=\"switch\">\r\n          <input\r\n            :checked=\"globalSettings.darkTheme\"\r\n            @input=\"updateGlobalSetting('darkTheme', $event.target.checked)\"\r\n            type=\"checkbox\"\r\n            id=\"switch1\"\r\n            class=\"switch__input\"\r\n          />\r\n          <label for=\"switch1\" class=\"switch__label\">&nbsp;</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <div class=\"title\">Doputenja</div>\r\n      <div class=\"setting card\">\r\n        Tamni prikaz:\r\n\r\n        <div class=\"switch default\">\r\n          <input type=\"checkbox\" class=\"switch__input\" checked disabled />\r\n          <label class=\"switch__label\">&nbsp;</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { GlobalSettings } from \"@/store/state\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\n\r\nexport default defineComponent({\r\n  name: \"Settings\",\r\n  methods: {\r\n    updateGlobalSetting(name: keyof GlobalSettings, value: boolean) {\r\n      const commit = { name, value };\r\n      this.$store.commit(MutationTypes.UPDATE_GLOBAL_SETTING, commit);\r\n    },\r\n  },\r\n  computed: {\r\n    globalSettings(): GlobalSettings {\r\n      return this.$store.state.settings;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/styles/switch.scss\";\r\n\r\n.title {\r\n  margin: 10px 0;\r\n  font-size: 35px;\r\n}\r\n\r\n#settings {\r\n  display: grid;\r\n  place-content: center;\r\n  grid-auto-flow: column;\r\n  gap: 40px;\r\n  min-height: 100%;\r\n}\r\n\r\n.setting {\r\n  padding: 10px 30px;\r\n}\r\n\r\n.switch.default {\r\n  opacity: 0.5;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { GlobalSettings } from \"@/store/state\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\n\r\nexport default defineComponent({\r\n  name: \"Settings\",\r\n  methods: {\r\n    updateGlobalSetting(name: keyof GlobalSettings, value: boolean) {\r\n      const commit = { name, value };\r\n      this.$store.commit(MutationTypes.UPDATE_GLOBAL_SETTING, commit);\r\n    },\r\n  },\r\n  computed: {\r\n    globalSettings(): GlobalSettings {\r\n      return this.$store.state.settings;\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Settings.vue?vue&type=template&id=868191a2&scoped=true\"\nimport script from \"./Settings.vue?vue&type=script&lang=ts\"\nexport * from \"./Settings.vue?vue&type=script&lang=ts\"\n\nimport \"./Settings.vue?vue&type=style&index=0&id=868191a2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-868191a2\"\n\nexport default script","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\";\nimport { store } from \"@/store\";\n\nimport Login from \"@/views/Login.vue\";\nimport Class from \"@/views/Class.vue\";\n\nimport Subjects from \"@/views/class/subjects/Subjects.vue\";\nimport Subject from \"@/views/class/subjects/Subject.vue\";\nimport ClassSectionFrame from \"@/views/class/ClassSectionFrame.vue\";\nimport Exams from \"@/views/class/Exams.vue\";\nimport Schedule from \"@/views/class/Schedule.vue\";\nimport ClassStats from \"@/views/class/ClassStats.vue\";\n\nimport GlobalStats from \"@/views/GlobalStats.vue\";\n\nimport Websites from \"@/views/Websites.vue\";\nimport Settings from \"@/views/Settings.vue\";\n\n/*\nNo lazy loading:\nhttps://router.vuejs.org/guide/advanced/lazy-loading.html#grouping-components-in-the-same-chunk\n\nHash URL mode:\nhttps://next.router.vuejs.org/guide/essentials/history-mode.html#hash-mode\n */\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/\",\n    component: Login,\n  },\n  {\n    path: \"/razred\",\n    redirect: \"/razred/-/ocjene\",\n  },\n  {\n    path: \"/razred/:classId\",\n    component: Class,\n    children: [\n      {\n        path: \"\",\n        redirect: \"/razred/-/ocjene\",\n      },\n      {\n        path: \"ocjene\",\n        component: Subjects,\n        children: [\n          {\n            path: \":subjectId\",\n            component: Subject,\n          },\n        ],\n      },\n      {\n        path: \"biljeske\",\n        component: ClassSectionFrame,\n      },\n      {\n        path: \"ispiti\",\n        component: ClassSectionFrame,\n      },\n      {\n        path: \"izostanci\",\n        component: ClassSectionFrame,\n      },\n      {\n        path: \"vladanja\",\n        component: ClassSectionFrame,\n      },\n      {\n        path: \"raspored\",\n        component: ClassSectionFrame,\n      },\n      {\n        path: \"statistika\",\n        component: ClassStats,\n      },\n      {\n        path: \"osobni-podaci\",\n        component: ClassSectionFrame,\n      },\n    ],\n  },\n  {\n    path: \"/statistika-ocjena\",\n    component: GlobalStats,\n  },\n  {\n    path: \"/stranica/:website\",\n    component: Websites,\n  },\n  {\n    path: \"/postavke\",\n    component: Settings,\n  },\n  {\n    path: \"/:pathMatch(.*)\",\n    redirect: \"/\",\n  },\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(process.env.BASE_URL),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  console.log(to.path, from.path, store);\n  if (!window.isAppInitiated) return next();  // App not INIT\n  const isAuthenticated = !!store.getters.user;\n  const isLoginPage = to.path == \"/\";\n  if (!isLoginPage && !isAuthenticated) next({ path: \"/\" });\n  else if (isLoginPage && isAuthenticated) next(false);\n  else next();\n});\n\nexport default router;\n","declare global {\r\n  interface Window {\r\n    isAppInitiated: boolean;\r\n    devTestMode: boolean;\r\n    devPause: (t: number) => Promise<void>;\r\n  }\r\n}\r\n// TODO: modify\r\nwindow.devTestMode = false;\r\nwindow.devPause = (t) => new Promise((res) => setTimeout(res, t));\r\n\r\nimport { createApp } from \"vue\";\r\nimport App from \"./App.vue\";\r\n\r\n/* https://next.vuex.vuejs.org/ */\r\nimport { store } from \"./store\";\r\n\r\n/* https://next.router.vuejs.org/ */\r\nimport router from \"./router\";\r\n\r\n/* https://github.com/developit/mitt */\r\nimport mitt from \"mitt\";\r\n\r\n/* https://github.com/Maronato/vue-toastification/tree/next */\r\nimport Toast, { PluginOptions } from \"vue-toastification\";\r\nimport \"vue-toastification/dist/index.css\";\r\n\r\n/* https://github.com/justintaddei/v-wave */\r\nimport VWave from \"v-wave\";\r\n\r\n/* https://v-tooltip.netlify.app/ */\r\nimport VTooltip from \"v-tooltip\";\r\nimport \"v-tooltip/dist/v-tooltip.css\";\r\n\r\n/* https://v-tooltip.netlify.app/guide/config.html#default-values */\r\nVTooltip.options.offset = [0, 10];\r\nVTooltip.options.instantMove = true;\r\n\r\n/* https://vue-tippy.netlify.app/ */\r\n// import VueTippy from \"vue-tippy\";\r\n// import \"tippy.js/dist/tippy.css\";\r\n\r\n/* https://www.chartjs.org/ */\r\n/* https://www.chartjs.org/chartjs-plugin-annotation/ */\r\nimport { Chart } from \"chart.js\";\r\nimport annotationPlugin from \"chartjs-plugin-annotation\";\r\nChart.register(annotationPlugin);\r\nChart.defaults.font.size = 16;\r\nChart.defaults.maintainAspectRatio = false;\r\nChart.defaults.interaction.mode = \"index\";\r\n(Chart.defaults.plugins.tooltip.footerFont as any) = { weight: \"normal\" };\r\nChart.defaults.plugins.tooltip.footerMarginTop = 10;\r\nChart.defaults.plugins.tooltip.footerAlign = \"right\";\r\n\r\nconst app = createApp(App);\r\napp.config.globalProperties.$emitter = mitt();\r\n\r\napp\r\n  .use(store)\r\n  .use(router)\r\n  .use(Toast, { position: \"bottom-right\" } as PluginOptions)\r\n  .use(VWave)\r\n  .use(VTooltip)\r\n  /* .use(VueTippy, {\r\n    defaultProps: { animateFill: true },\r\n  }) */\r\n  .mount(\"#app\");\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Class.vue?vue&type=style&index=1&id=0281b405&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BarChart.vue?vue&type=style&index=0&id=9e840e0a&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SubjectCardBody.vue?vue&type=style&index=0&id=22b51aa1&lang=scss\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=44ecbeba&lang=scss\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SubjectCardBody.vue?vue&type=style&index=1&id=22b51aa1&lang=scss&scoped=true\""],"sourceRoot":""}