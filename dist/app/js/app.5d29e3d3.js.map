{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Navbar.vue?0818","webpack:///./src/views/Login.vue?a6e6","webpack:///./src/components/Main.vue?8b99","webpack:///./src/components/Spinner.vue?3ad6","webpack:///./src/components/Dropdown.vue?41e1","webpack:///./src/components/NavbarList.vue?dc0d","webpack:///./src/assets/img/spinner.svg","webpack:///./src/views/Websites.vue?f605","webpack:///./src/App.vue?609d","webpack:///./src/views/class/Subjects.vue?8dfe","webpack:///./src/views/Login.vue?40ed","webpack:///./src/components/User.vue?4a89","webpack:///./src/views/Class.vue?9c6f","webpack:///./src/assets/img/carnet-logo-2.png","webpack:///./src/App.vue","webpack:///./src/store/mutations.ts","webpack:///./src/store/actions.ts","webpack:///./src/store/storage.ts","webpack:///./src/components/Navbar.vue","webpack:///./src/components/NavbarList.vue","webpack:///./src/components/NavbarList.vue?61c8","webpack:///./src/components/NavbarList.vue?cf0d","webpack:///./src/components/Navbar.vue?5eb5","webpack:///./src/components/Navbar.vue?59c0","webpack:///./src/components/Main.vue","webpack:///./src/components/Main.vue?2323","webpack:///./src/components/Main.vue?eb2f","webpack:///./src/components/User.vue","webpack:///./src/components/Dropdown.vue","webpack:///./src/components/Dropdown.vue?dab4","webpack:///./src/components/Dropdown.vue?8baa","webpack:///./src/store/state.ts","webpack:///./src/store/getters.ts","webpack:///./src/store/index.ts","webpack:///./src/scripts/new-user.ts","webpack:///./src/scripts/utils.ts","webpack:///./src/scripts/scrapers.ts","webpack:///./src/components/User.vue?a2cd","webpack:///./src/components/User.vue?2f2f","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e144","webpack:///./src/views/Login.vue?e63b","webpack:///./src/views/Class.vue","webpack:///./src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?2236","webpack:///./src/components/Spinner.vue?c088","webpack:///./src/views/Class.vue?f498","webpack:///./src/views/Class.vue?3608","webpack:///./src/views/class/Subjects.vue","webpack:///./src/views/class/Subjects.vue?a6d1","webpack:///./src/views/class/Subjects.vue?f205","webpack:///./src/views/class/Subject.vue","webpack:///./src/views/class/Subject.vue?e822","webpack:///./src/views/class/Subject.vue?0f4f","webpack:///./src/views/class/Notes.vue","webpack:///./src/views/class/Notes.vue?9dc4","webpack:///./src/views/class/Notes.vue?fddb","webpack:///./src/views/class/Exams.vue","webpack:///./src/views/class/Exams.vue?ebfc","webpack:///./src/views/class/Exams.vue?5475","webpack:///./src/views/class/Absences.vue","webpack:///./src/views/class/Absences.vue?eb39","webpack:///./src/views/class/Absences.vue?1e46","webpack:///./src/views/class/Conduct.vue","webpack:///./src/views/class/Conduct.vue?81e7","webpack:///./src/views/class/Conduct.vue?36bc","webpack:///./src/views/class/Schedule.vue","webpack:///./src/views/class/Schedule.vue?87b7","webpack:///./src/views/class/Schedule.vue?59d0","webpack:///./src/views/class/Stats.vue","webpack:///./src/views/class/Stats.vue?3a28","webpack:///./src/views/class/Stats.vue?2c7b","webpack:///./src/views/Websites.vue","webpack:///./src/views/Websites.vue?5994","webpack:///./src/views/Websites.vue?d92f","webpack:///./src/router/index.ts","webpack:///./src/main.ts","webpack:///./src/views/Class.vue?5c28","webpack:///./src/views/class/Notes.vue?4fe6"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","MutationTypes","ActionTypes","mutations","INIT","state","newState","assign","ADD_USER","user","users","UPDATE_USER_STATUS","status","signedIn","UPDATE_CLASSES_LIST","classesList","UPDATE_CLASS_HEADTEACHER","classInfo","headteacher","headTeacher","UPDATE_CLASS_TABS_ORDER","tabs","settings","classTabsOrder","UPDATE_SUBJECT","updatedSubject","cachedSubjects","cachedSubjectIdx","findIndex","subject","url","email","password","fullName","year","school","finalGrade","lastUpdated","teachers","grades","lastNote","note","date","grade","chromeLocalStorage","Promise","resolve","actions","commit","console","log","find","id","href","target","src","class","style","initResizeObserver","isLoginPage","ref","navMidOverflowing","list","linksTop","rootLink","order","navCollapsed","pages","linksBottom","icon","to","replaceAll","toLowerCase","props","type","Array","required","String","Number","Boolean","render","__scopeId","components","NavbarList","mounted","setTimeout","methods","this","ResizeObserver","customListChanged","observe","$refs","navMid","offsetHeight","scrollHeight","computed","$route","path","Component","transitionName","main","onscroll","$emitter","emit","watch","from","showDropdown","visible","dropdown","customClass","sourceElementId","dropdownClosed","row","link","active","close","alignRight","default","emits","on","windowClicked","beforeUnmount","off","includes","document","getElementById","rowName","$emit","getters","_getters","classId","storeMutated","_store","subscribe","mutation","_state","store","plugins","newUser","initData","parseDoc","html","baseUri","doc","DOMParser","parseFromString","base","createElement","head","appendChild","formEncodedBody","obj","keys","map","k","encodeURIComponent","join","getElText","el","textContent","trim","parseNum","num","parseFloat","replace","str","isNaN","toFixed","toString","setEndOfContenteditable","contentEditableElement","range","createRange","selectNodeContents","collapse","selection","getSelection","removeAllRanges","addRange","toast","URLS","login","logout","classes","fetch1","fetch","text","loginDoc","csrfElement","getElementsByName","error","csrf_token","method","headers","body","username","fetch2","loggedIn","nextDoc","getClassesList","undefined","u","querySelector","success","timeout","updateClassesHeadteacher","authFetch","classesDoc","classMenus","getElementsByClassName","menu","split","start","end","forceUpdate","timestamp","Date","now","updateAllSubjects","promises","saveSubject","classDoc","querySelectorAll","forEach","anchor","updateSubject","children","then","allSettled","subjectDoc","gradesByCategory","rowEl","classList","contains","lastElementChild","match","parseInt","firstElementChild","cell","lastNoteEl","info","firstLogin","Dropdown","$store","$router","showCard","show","userEl","Navbar","Main","User","dispatch","userSignedIn","location","hash","onresize","onclick","e","composedPath","firstAttempt","spellcheck","loginStudent","autocomplete","autofocus","tabindex","loginReady","loggingIn","errorCard","domain","indexOf","animation","offsetWidth","openedClassInfo","dropdowns","visibleDropdown","title","closeDropdown","confirmedFinalGrade","tabsOrderChanged","axis","lockAxis","lockOffset","lockToContainerEdges","distance","tabsSortingEvent","tab","index","draggable","classURL","showSpinner","sectionTransition","size","background","SlickList","SlickItem","Spinner","beforeMount","_tabs","$nextTick","classChanged","mainScrolled","userNavigated","getSectionsContainer","started","line","selectedLine","sections","_line","display","add","remove","params","getAttribute","offsetLeft","transition","transform","width","marginRight","short","scrollTop","paddingRight","className","getDropdownList","filterBy","filter","getPathName","lastIndexOf","sectionsContainer","tabNames","fromIdx","toIdx","formatNum","finalGradeOriginal","finalGradeTransition","options","option","enabled","fontSize","optionClicked","tooltip","subjectsSorting","subjects","subjectsOrderChanged","helperClass","subjectsSortingEvent","expandedKeep","subjectMouseEnter","$event","subjectMouseLeave","marginBottom","onSubjectInfoWheel","getSubjectGradesCount","contenteditable","avgInputted","avgFocusChanged","getSubjectGradesAvg","savedOptions","subjectColors","expandSubject","tooltipKey","gradeInputted","expanded","created","updateSubjects","subjectsLoading","resetSubjects","cached","gradesByCategoryOriginal","JSON","parse","stringify","getFinalGradeOriginal","matches","toLeft","deltaY","scrollLeft","toRight","scrollWidth","clientWidth","preventDefault","scrollBy","left","behavior","expand","subjectBody","margin","_grades","test","gradesAvg","NaN","original","gradesCount","reduce","a","flat","b","subjectsWithGrades","Math","round","allSubjectsExpanded","every","yes","_new","prev","activeFrames","activeFrame","iframeLoaded","iframeError","frames","loomen","changeFrame","site","website","showFrame","frame","iframe","f","routes","component","Login","redirect","Class","Subjects","Subject","Notes","Exams","Absences","Conduct","Schedule","Stats","Websites","router","history","beforeEach","next","isAuthenticated","offset","instantMove","app","App","config","globalProperties","mitt","use","position","mount"],"mappings":"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","file":"js/app.5d29e3d3.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Navbar.vue?vue&type=style&index=0&id=5f7a0895&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=1&id=5e98a555&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Main.vue?vue&type=style&index=0&id=e00aee38&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Spinner.vue?vue&type=style&index=0&id=65451572&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Dropdown.vue?vue&type=style&index=0&id=39e333b9&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavbarList.vue?vue&type=style&index=0&id=76c7f349&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/spinner.7a1b99ad.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Websites.vue?vue&type=style&index=0&id=14b45f66&lang=scss&scoped=true\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=59cb803d&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Subjects.vue?vue&type=style&index=0&id=859a18c6&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=5e98a555&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./User.vue?vue&type=style&index=0&id=66668484&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Class.vue?vue&type=style&index=1&id=0a54bb05&lang=scss&scoped=true\"","module.exports = __webpack_public_path__ + \"img/carnet-logo-2.c09c12a6.png\";","<template>\n  <Navbar></Navbar>\n  <Main></Main>\n  <User></User>\n</template>\n\n<script lang=\"ts\">\nimport { ActionTypes } from \"@/store/actions\";\nimport { defineComponent } from \"vue\";\nimport Navbar from \"@/components/Navbar.vue\";\nimport Main from \"@/components/Main.vue\";\nimport User from \"@/components/User.vue\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    Navbar,\n    Main,\n    User,\n  },\n  mounted() {\n    this.$store.dispatch(ActionTypes.INIT, undefined).then((userSignedIn) => {\n      const isLoginPage = window.location.hash == \"#/\";\n      if (userSignedIn && isLoginPage) {\n        this.$router.replace(\"/razred\");\n      } else if (!userSignedIn && !isLoginPage) {\n        this.$router.replace(\"/\");\n      }\n    });\n    window.onresize = () => this.$emitter.emit(\"window-resized\");\n    window.onclick = (e: MouseEvent) => {\n      const path = ((e as any).path || (e.composedPath && e.composedPath())) as\n        | HTMLElement[]\n        | false;\n      path && this.$emitter.emit(\"window-clicked\", path);\n    };\n  },\n});\n</script>\n\n<style lang=\"scss\">\n#app {\n  display: flex;\n  height: 100%;\n}\n\n/* @media screen and (max-width: 1200px) {\n  #app {\n    zoom: 0.8;\n  }\n} */\n</style>\n","import { State, User, ClassInfo, SubjectCache } from \"./state\";\r\nimport { MutationTree } from \"vuex\";\r\n\r\nexport enum MutationTypes {\r\n  INIT = \"INIT\",\r\n  ADD_USER = \"ADD_USER\",\r\n  UPDATE_USER_STATUS = \"UPDATE_USER_STATUS\",\r\n  UPDATE_CLASSES_LIST = \"UPDATE_CLASSES_LIST\",\r\n  UPDATE_CLASS_HEADTEACHER = \"UPDATE_CLASS_HEADTEACHER\",\r\n  UPDATE_CLASS_TABS_ORDER = \"UPDATE_CLASS_TABS_ORDER\",\r\n  UPDATE_SUBJECT = \"UPDATE_SUBJECT\",\r\n}\r\n\r\nexport type Mutations<S = State> = {\r\n  [MutationTypes.INIT](state: S, newState: S): void;\r\n  [MutationTypes.ADD_USER](state: S, user: User): void;\r\n  [MutationTypes.UPDATE_USER_STATUS](\r\n    state: S,\r\n    { user, status }: { user: User; status: boolean },\r\n  ): void;\r\n  [MutationTypes.UPDATE_CLASSES_LIST](\r\n    state: S,\r\n    { user, classesList }: { user: User; classesList: ClassInfo[] },\r\n  ): void;\r\n  [MutationTypes.UPDATE_CLASS_HEADTEACHER](\r\n    state: S,\r\n    { classInfo, headteacher }: { classInfo: ClassInfo; headteacher: string },\r\n  ): void;\r\n  [MutationTypes.UPDATE_CLASS_TABS_ORDER](\r\n    state: S,\r\n    { user, tabs }: { user: User; tabs: string[] },\r\n  ): void;\r\n  [MutationTypes.UPDATE_SUBJECT](\r\n    state: S,\r\n    {\r\n      classInfo,\r\n      updatedSubject,\r\n    }: { classInfo: ClassInfo; updatedSubject: SubjectCache },\r\n  ): void;\r\n};\r\n\r\n// prettier-ignore\r\nexport const mutations: MutationTree<State> & Mutations = { // nosonar: index signature\r\n  [MutationTypes.INIT](state, newState) {\r\n    Object.assign(state, newState);\r\n  },\r\n  [MutationTypes.ADD_USER](state, user) {\r\n    state.users.push(user);\r\n  },\r\n  [MutationTypes.UPDATE_USER_STATUS](state, { user, status }) {\r\n    user.signedIn = status;\r\n  },\r\n  [MutationTypes.UPDATE_CLASSES_LIST](state, { user, classesList }) {\r\n    user.classesList = { ...user.classesList, ...classesList };\r\n    user.signedIn = true;\r\n  },\r\n  [MutationTypes.UPDATE_CLASS_HEADTEACHER](state, { classInfo, headteacher }) {\r\n    classInfo.headTeacher = headteacher;\r\n  },\r\n  [MutationTypes.UPDATE_CLASS_TABS_ORDER](state, { user, tabs }) {\r\n    user.settings.classTabsOrder = tabs;\r\n  },\r\n  [MutationTypes.UPDATE_SUBJECT](state, { classInfo, updatedSubject }) {\r\n    if (!classInfo.cachedSubjects) {\r\n      classInfo.cachedSubjects = [updatedSubject];\r\n      return;\r\n    }\r\n    const cachedSubjectIdx = classInfo.cachedSubjects.findIndex(\r\n      (subject) => subject.url == updatedSubject.url,\r\n    );\r\n    if (cachedSubjectIdx == -1) {\r\n      classInfo.cachedSubjects.push(updatedSubject);\r\n      return;\r\n    }\r\n    classInfo.cachedSubjects[cachedSubjectIdx] = updatedSubject;\r\n  },\r\n};\r\n","import { ActionTree, ActionContext } from \"vuex\";\r\nimport { State } from \"./state\";\r\nimport { Mutations, MutationTypes } from \"./mutations\";\r\nimport chromeLocalStorage from \"./storage\";\r\n\r\ntype AugmentedActionContext = {\r\n  commit<K extends keyof Mutations>(\r\n    key: K,\r\n    payload: Parameters<Mutations[K]>[1],\r\n  ): ReturnType<Mutations[K]>;\r\n} & Omit<ActionContext<State, State>, \"commit\">;\r\n\r\nexport enum ActionTypes {\r\n  INIT = \"INIT\",\r\n}\r\nexport interface Actions {\r\n  [ActionTypes.INIT]({ commit }: AugmentedActionContext): Promise<boolean>;\r\n}\r\n\r\n// prettier-ignore\r\nexport const actions: ActionTree<State, State> & Actions = { // nosonar: Index signature\r\n  async [ActionTypes.INIT]({ commit }) {\r\n    const state = (await chromeLocalStorage()) as State;\r\n    console.log(\"LOCAL STORAGE: \", state);\r\n\r\n    //await pause(3000);\r\n    if (!state) return false;\r\n    commit(MutationTypes.INIT, state);\r\n    return !!state.users.find((user) => user.signedIn);\r\n  },\r\n};\r\n\r\nfunction pause(t: number) {\r\n  return new Promise((res) => setTimeout(res, t));\r\n}\r\n","const state = {\r\n  settings: {},\r\n  users: [\r\n    {\r\n      email: \"kristijan.rosandicq@skole.hr\",\r\n      password: \"grandayyy\",\r\n      fullName: \"Kristijan Rosandi\",\r\n      classesList: [\r\n        {\r\n          url: \"https://ocjene.skole.hr/class_action/4081787930/course\",\r\n          name: \"4.C\",\r\n          year: \"2020./2021.\",\r\n          school: \"Elektrotehnika kola\",\r\n          finalGrade: \"4.80\",\r\n          lastUpdated: 1628262145.836,\r\n          cachedSubjects: [\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37245361120\",\r\n              name: \"Hrvatski jezik\",\r\n              teachers: \"Sanja Telebar Erceg\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"knjievnost\",\r\n                  grades: [[], [4], [1, 2], [3], [], [2, 1], [], [], [3], []],\r\n                },\r\n                {\r\n                  name: \"jezik\",\r\n                  grades: [[2], [], [4], [2], [], [], [5], [3], [], []],\r\n                },\r\n                {\r\n                  name: \"usmeno izraavanje\",\r\n                  grades: [[], [4], [1], [], [], [], [], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"pisano izraavanje\",\r\n                  grades: [[], [], [], [4], [], [4], [3], [3], [2], []],\r\n                },\r\n              ],\r\n              finalGrade: 3,\r\n              lastNote: {\r\n                note:\r\n                  \"Usmeni ispravak provjere proitanosti lektirnoga djela (Krlea: Gospoda Glembajevi): ocjena dovoljan\",\r\n                date: \"21.5.2021.\",\r\n                grade: \"\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37252423040\",\r\n              name: \"Politika i gospodarstvo\",\r\n              teachers: \"Ana utalo Bari\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name:\r\n                    \"001. usvojenost temeljnih koncepata politike i ekonomske pismenosti\",\r\n                  grades: [[], [], [4], [], [], [5], [5], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"002. vjetina primjene nauenih koncepata\",\r\n                  grades: [[], [5], [], [5], [], [], [], [5], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"2. Pisana provjera znanja - Gospodarstvo\\nBodovi:  26/30\",\r\n                date: \"4.5.2021.\",\r\n                grade: \"4\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37254634940\",\r\n              name: \"Tjelesna i zdravstvena kultura\",\r\n              teachers: \"Josip Kaurin\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"motorika znanja\",\r\n                  grades: [[], [], [], [], [], [], [4], [], [], []],\r\n                },\r\n                {\r\n                  name: \"motorika postignua\",\r\n                  grades: [[3], [], [], [], [], [], [4], [], [2], []],\r\n                },\r\n                {\r\n                  name: \"kinantropoloka postignua\",\r\n                  grades: [[], [4], [], [4], [], [], [], [], [], []],\r\n                },\r\n                {\r\n                  name: \"odgojni uinci rada\",\r\n                  grades: [[], [5], [], [5], [], [5], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 4,\r\n              lastNote: {\r\n                note:\r\n                  \"dolasci na nastavu, oprema, aktivnost na satu, ponaanje (3, 4 i 5 mj.)\",\r\n                date: \"17.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37247144780\",\r\n              name: \"Engleski jezik I\",\r\n              teachers: \"Divna uri\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usmeno izraavanje\",\r\n                  grades: [[], [], [5], [5], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"pisano izraavanje\",\r\n                  grades: [[], [5], [], [], [4], [], [], [], [5, 3], []],\r\n                },\r\n                {\r\n                  name: \"jezine zakonitosti\",\r\n                  grades: [[], [], [], [], [], [], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"sluanje i itanje s razumijevanjem\",\r\n                  grades: [[], [], [], [], [], [], [4], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"English in Use\",\r\n                date: \"25.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37262740190\",\r\n              name: \"Vjeronauk (izborni)\",\r\n              teachers: \"Ivan Banoi\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"aktivnost - zalaganje\",\r\n                  grades: [[], [5], [], [4], [5], [5], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"znanje\",\r\n                  grades: [[], [], [], [], [], [], [], [], [4], []],\r\n                },\r\n                {\r\n                  name: \"kultura komuniciranja\",\r\n                  grades: [[], [5], [], [], [5], [], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"stvaralako izraavanje\",\r\n                  grades: [[], [], [], [], [5], [], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Provjera znanja\",\r\n                date: \"21.5.2021.\",\r\n                grade: \"4\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37278230560\",\r\n              name: \"Tehniko i poslovno komuniciranje\",\r\n              teachers: \"Martina Filipovi-Tretinjak\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usvojenost programskih sadraja\",\r\n                  grades: [[], [], [], [5], [], [], [5], [4], [], []],\r\n                },\r\n                {\r\n                  name: \"primjena znanja\",\r\n                  grades: [[], [], [5, 5], [], [], [5], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [5], [], [], [], [5], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"prijedlog zakljune ocjene (5) odlian\",\r\n                date: \"17.5.2021.\",\r\n                grade: \"\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37278793130\",\r\n              name: \"Konfiguriranje raunalnih mrea i servisa\",\r\n              teachers: \"Ljubomir Mitrovi\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"poznavanje i razumijevanje nastavnih sadraja\",\r\n                  grades: [[], [4], [5], [], [], [5], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name:\r\n                    \"praktina i kreativna primjena usvojenih nastavnih sadraja\",\r\n                  grades: [[], [], [5], [], [5], [5], [3], [5], [5], []],\r\n                },\r\n                {\r\n                  name: \"sudjelovanje u nastavi\",\r\n                  grades: [[], [], [], [], [], [5], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"IV pismena provjera\",\r\n                date: \"14.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37279324390\",\r\n              name: \"Sigurnost informacijskih sustava\",\r\n              teachers: \"Romana Bogut\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usvojenost programskih sadraja\",\r\n                  grades: [[], [5, 5], [5], [5], [], [5], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"primjena znanja\",\r\n                  grades: [[5], [], [5], [5], [], [5], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [], [], [], [], [5], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Sigurnosne politike\",\r\n                date: \"14.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37281244400\",\r\n              name: \"Ugradbeni raunalni sustavi\",\r\n              teachers: \"Mario Tretinjak\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usvojenost programskih sadraja\",\r\n                  grades: [[], [5], [], [], [], [], [5], [], [], []],\r\n                },\r\n                {\r\n                  name: \"sudjelovanje u nastavnom procesu\",\r\n                  grades: [[5], [], [], [], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"primjena znanja\",\r\n                  grades: [[], [5], [], [], [], [], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"Spajanje i programiranje zadataka tijekom nastavne godine\",\r\n                date: \"18.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37283505790\",\r\n              name: \"Skriptni jezici i web programiranje\",\r\n              teachers: \"Dunja Tomljenovi\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usvojenost programskih sadraja\",\r\n                  grades: [[], [], [5], [5], [], [], [5], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"primjena znanja\",\r\n                  grades: [[], [], [5], [5], [], [], [5], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"sudjelovanje u nastavnom procesu\",\r\n                  grades: [\r\n                    [5, 5],\r\n                    [],\r\n                    [5, 5, 5],\r\n                    [5],\r\n                    [],\r\n                    [5, 5],\r\n                    [],\r\n                    [],\r\n                    [],\r\n                    [],\r\n                  ],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Projektni zadatak: JS Browser BOM\",\r\n                date: \"21.4.2021.\",\r\n                grade: \"5\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37312462490\",\r\n              name: \"Multimedija (izborni)\",\r\n              teachers: \"Danijel Eskerii\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usvojenost programskih sadraja\",\r\n                  grades: [[], [], [], [5], [], [], [5], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"primjena znanja\",\r\n                  grades: [[], [], [5], [], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [], [5, 5], [], [], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"Zavrni projekt - priprema i obrada video zapisa u programu za obradu video zapisa\",\r\n                date: \"17.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37306283310\",\r\n              name: \"Napredno i objektno programiranje (izborni)\",\r\n              teachers: \"Matea Bioi\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usvojenost programskih sadraja\",\r\n                  grades: [[], [], [5], [5], [], [], [], [], [5], []],\r\n                },\r\n                {\r\n                  name: \"primjena znanja\",\r\n                  grades: [[5], [], [5], [5, 5], [], [5], [], [], [3], []],\r\n                },\r\n                {\r\n                  name: \"sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [], [5], [], [], [5, 5], [], [3, 1], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Projektni zadatak Knjinica\",\r\n                date: \"24.5.2021.\",\r\n                grade: \"3\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/43125138740\",\r\n              name: \"Politika i gospodarstvo (dodatna nastava)\",\r\n              teachers: \"Ana utalo Bari\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [],\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37335797530\",\r\n              name: \"Sat razrednika\",\r\n              teachers: \"Martina Filipovi-Tretinjak\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [],\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37272652330\",\r\n              name: \"Matematika\",\r\n              teachers: \"Biljana Kuhar\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usvojenost nastavnih sadraja\",\r\n                  grades: [[], [], [5, 5], [], [5], [], [4], [], [], []],\r\n                },\r\n                {\r\n                  name: \"primjena znanja\",\r\n                  grades: [[], [], [4], [], [], [3], [3], [], [2], []],\r\n                },\r\n                {\r\n                  name: \"ostali oblici praenja\",\r\n                  grades: [[], [], [], [5], [], [], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note:\r\n                  \"Ueniku je zakljuena ocjena odlian zbog cjelogodinjeg rada na nastavi i izvan nastave.\",\r\n                date: \"24.5.2021.\",\r\n                grade: \"\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/43282560370\",\r\n              name: \"Multimedija (dopunska nastava)\",\r\n              teachers: \"Danijel Eskerii\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [],\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/43303819860\",\r\n              name: \"Matematika (dodatna nastava)\",\r\n              teachers: \"Biljana Kuhar\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [],\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/43432125210\",\r\n              name: \"Sigurnost informacijskih sustava (dodatna nastava)\",\r\n              teachers: \"Romana Bogut\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [],\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37292884650\",\r\n              name: \"Primijenjena  matematika (izborni)\",\r\n              teachers: \"Biljana Kuhar\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usvojenost programskih sadraja\",\r\n                  grades: [[5], [], [3], [], [], [], [], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"primjena znanja\",\r\n                  grades: [[], [], [3], [], [], [], [], [], [5, 5], []],\r\n                },\r\n                {\r\n                  name: \"sudjelovanje u nastavnom procesu\",\r\n                  grades: [[], [], [], [5], [], [5], [], [], [5], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"Polarni sustav, krivulje (5)\\nDesmos\",\r\n                date: \"21.5.2021.\",\r\n                grade: \"5\",\r\n              },\r\n            },\r\n            {\r\n              url: \"https://ocjene.skole.hr/grade/37273226010\",\r\n              name: \"Fizika\",\r\n              teachers: \"Ljiljana Prevendar\",\r\n              lastUpdated: 1628262145.836,\r\n              grades: [\r\n                {\r\n                  name: \"usvojenost gradiva\",\r\n                  grades: [[], [5], [], [], [5], [], [5], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"primjena znanja\",\r\n                  grades: [[], [5], [], [], [5], [], [5], [5], [], []],\r\n                },\r\n                {\r\n                  name: \"samostalni rad\",\r\n                  grades: [[], [], [], [], [], [], [], [], [], []],\r\n                },\r\n              ],\r\n              finalGrade: 5,\r\n              lastNote: {\r\n                note: \"5\",\r\n                date: \"19.5.2021.\",\r\n                grade: \"\",\r\n              },\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          url: \"https://ocjene.skole.hr/class_action/3149535710/course\",\r\n          name: \"3.C\",\r\n          year: \"2019./2020.\",\r\n          school: \"Elektrotehnika kola\",\r\n          finalGrade: \"4.87\",\r\n        },\r\n        {\r\n          url: \"https://ocjene.skole.hr/class_action/2115037150/course\",\r\n          name: \"2.C\",\r\n          year: \"2018./2019.\",\r\n          school: \"TEHNIKA KOLA\",\r\n          finalGrade: \"4.71\",\r\n        },\r\n        {\r\n          url: \"https://ocjene.skole.hr/class_action/940995980/course\",\r\n          name: \"8.b\",\r\n          year: \"2016./2017.\",\r\n          school: 'Osnovna kola \"Antun Mihanovi\" Slavonski Brod',\r\n          finalGrade: \"4.50\",\r\n        },\r\n      ],\r\n      signedIn: true,\r\n      settings: {},\r\n    },\r\n  ],\r\n} as State;\r\n\r\nimport { State } from \"./state\";\r\n\r\nexport default function chromeLocalStorage(data?: State) {\r\n  return new Promise((resolve) => {\r\n    resolve(state);\r\n    //(chrome.storage.local[data ? \"set\" : \"get\"] as any)(data || null, resolve);\r\n  });\r\n}\r\n\r\n// TODO: chrome.storage.sync\r\n","<template>\r\n  <div\r\n    id=\"navbar\"\r\n    :class=\"{\r\n      'nav-collapsed': navCollapsed,\r\n      shadow: $route.path.includes('/stranica/'),\r\n    }\"\r\n  >\r\n    <div id=\"nav-top\">\r\n      <a id=\"carnet-logo\" href=\"https://www.carnet.hr/\" target=\"_blank\">\r\n        <img src=\"@/assets/img/carnet-logo-2.png\" />\r\n      </a>\r\n      <a\r\n        href=\"https://www.carnet.hr/usluga/e-dnevnik-za-ucenike-i-roditelje/\"\r\n        target=\"_blank\"\r\n        class=\"title text\"\r\n        style=\"--order: 1\"\r\n      >\r\n        e-Dnevnik\r\n      </a>\r\n    </div>\r\n    <transition name=\"navbar\" @enter=\"initResizeObserver\">\r\n      <div\r\n        v-if=\"!isLoginPage\"\r\n        id=\"nav-mid\"\r\n        ref=\"navMid\"\r\n        :class=\"{ overflowing: navMidOverflowing }\"\r\n      >\r\n        <NavbarList\r\n          :list=\"linksTop\"\r\n          rootLink=\"/\"\r\n          :order=\"2\"\r\n          :navCollapsed=\"navCollapsed\"\r\n        ></NavbarList>\r\n        <span id=\"more-horiz\" class=\"material-icons\"> more_horiz </span>\r\n        <NavbarList\r\n          :list=\"pages\"\r\n          rootLink=\"/stranica/\"\r\n          :order=\"5\"\r\n          :navCollapsed=\"navCollapsed\"\r\n        ></NavbarList>\r\n      </div>\r\n      <div v-else id=\"welcome\" class=\"abs-center text\" style=\"--order: 5\">\r\n        Dobro doli!\r\n      </div>\r\n    </transition>\r\n    <div id=\"nav-bottom\">\r\n      <transition name=\"navbar\">\r\n        <div v-if=\"!isLoginPage\">\r\n          <NavbarList\r\n            :list=\"linksBottom.slice(0, -1)\"\r\n            rootLink=\"/\"\r\n            :order=\"8\"\r\n            :navCollapsed=\"navCollapsed\"\r\n          ></NavbarList>\r\n        </div>\r\n        <div v-else></div>\r\n      </transition>\r\n      <NavbarList\r\n        :list=\"linksBottom.slice(-1)\"\r\n        rootLink=\"/\"\r\n        :order=\"9\"\r\n        :navCollapsed=\"navCollapsed\"\r\n      ></NavbarList>\r\n      <a id=\"collapse\" @click=\"navCollapsed = !navCollapsed\">\r\n        <div id=\"collapse-arrow\" class=\"material-icons\">chevron_left</div>\r\n      </a>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\" scoped>\r\nimport { defineComponent } from \"vue\";\r\nimport NavbarList from \"./NavbarList.vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Navbar\",\r\n  components: { NavbarList },\r\n  data() {\r\n    return {\r\n      navCollapsed: false,\r\n      navMidOverflowing: false,\r\n      mounted: false,\r\n      linksTop: [\r\n        {\r\n          name: \"Razred\",\r\n          icon: \"school\",\r\n        },\r\n        {\r\n          name: \"Statistika ocjena\",\r\n          icon: \"equalizer\",\r\n        },\r\n        {\r\n          name: \"Kalkulator bodova\",\r\n          icon: \"table_view\",\r\n        },\r\n      ],\r\n      pages: [\r\n        {\r\n          name: \"kolska stranica\",\r\n          icon: \"home\",\r\n        },\r\n        {\r\n          name: \"Loomen\",\r\n          icon: \"apps\",\r\n        },\r\n        {\r\n          name: \"Srednja.hr\",\r\n          icon: \"whatshot\",\r\n        },\r\n        {\r\n          name: \"kolski e-Rudnik\",\r\n          icon: \"bubble_chart\",\r\n        },\r\n      ],\r\n      linksBottom: [\r\n        {\r\n          name: \"Postavke\",\r\n          icon: \"settings\",\r\n        },\r\n        {\r\n          name: \"O aplikaciji\",\r\n          icon: \"help_outline\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    // Always show a \"welcome\" message for a second\r\n    setTimeout(() => (this.mounted = true), 1000);\r\n  },\r\n  methods: {\r\n    initResizeObserver() {\r\n      !this.isLoginPage &&\r\n        new (window as any).ResizeObserver(this.customListChanged).observe(\r\n          this.$refs.navMid as HTMLElement,\r\n        );\r\n    },\r\n    customListChanged() {\r\n      const navMid = this.$refs.navMid as HTMLElement | undefined;\r\n      this.navMidOverflowing = navMid\r\n        ? navMid.offsetHeight < navMid.scrollHeight\r\n        : false;\r\n    },\r\n  },\r\n  computed: {\r\n    isLoginPage(): boolean {\r\n      return this.$route.path == \"/\" || !this.mounted;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$collapse-duration: 500ms;\r\n$nav-shadow-top: 0 1px 0 #ffffff1a inset;\r\n$nav-shadow-bottom: 0 -1px 0 #ffffff1a inset;\r\n\r\n@mixin text-hidden {\r\n  transform: translateY(10px);\r\n  opacity: 0;\r\n  transition: transform 150ms, opacity 150ms;\r\n}\r\n\r\n#navbar {\r\n  position: relative;\r\n  color: white;\r\n  background-attachment: fixed;\r\n  background-color: $main-color;\r\n  background-image: url(\"~@/assets/img/nav-background.png\");\r\n  background-size: contain;\r\n  background-repeat: no-repeat;\r\n  display: flex;\r\n  flex-direction: column;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  max-width: 350px;\r\n  transition: max-width $collapse-duration, box-shadow $views-transition;\r\n  z-index: 1;\r\n\r\n  &.shadow {\r\n    box-shadow: 0 0 10px black;\r\n  }\r\n}\r\n\r\n#nav-top,\r\n#nav-bottom :deep(a),\r\n#nav-mid :deep(a) {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 60px;\r\n  padding: 20px 30px;\r\n  box-shadow: $nav-shadow-bottom;\r\n}\r\n\r\n#nav-top {\r\n  align-items: flex-start;\r\n}\r\n\r\n#nav-mid {\r\n  flex: 1;\r\n  overflow: hidden auto;\r\n  transition: box-shadow 150ms;\r\n\r\n  &.overflowing {\r\n    box-shadow: 0 0 5px 1px #476282;\r\n  }\r\n}\r\n\r\n#nav-bottom {\r\n  margin-top: auto;\r\n  box-shadow: $nav-shadow-top !important;\r\n}\r\n\r\n#nav-mid :deep(a),\r\n#nav-bottom :deep(a:not(#collapse)) {\r\n  color: $navbar-color;\r\n  transition: background-color 150ms, color 150ms, opacity 150ms;\r\n\r\n  .material-icons {\r\n    padding-right: 15px;\r\n  }\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    background-color: #ffffff14;\r\n  }\r\n}\r\n\r\n#nav-top,\r\n#collapse {\r\n  height: 110px !important;\r\n  user-select: none;\r\n}\r\n\r\n#more-horiz {\r\n  width: 100%;\r\n  padding: 20px 0;\r\n  text-align: center;\r\n  color: $user-color;\r\n  box-shadow: $nav-shadow-bottom;\r\n}\r\n\r\n:deep(.text) {\r\n  transition: transform 150ms calc(150ms + var(--order) * 20ms),\r\n    opacity 150ms calc(150ms + var(--order) * 20ms), color 150ms;\r\n}\r\n\r\n#carnet-logo {\r\n  margin-right: 25px;\r\n\r\n  img {\r\n    height: 50px;\r\n    transition: transform $collapse-duration - 100ms;\r\n    transform-origin: 55% 50%;\r\n  }\r\n\r\n  &:hover img {\r\n    transform: rotate(360deg);\r\n  }\r\n}\r\n\r\n.title {\r\n  position: relative;\r\n  font-size: 35px;\r\n  line-height: 35px;\r\n  color: white;\r\n  text-shadow: 0 0 20px $plus-color;\r\n\r\n  &:hover {\r\n    color: #fffc;\r\n  }\r\n\r\n  &::after {\r\n    content: \"Plus\";\r\n    position: absolute;\r\n    right: 0;\r\n    top: 100%;\r\n    font-style: italic;\r\n    font-size: 18px;\r\n    line-height: 15px;\r\n    color: $plus-color;\r\n    text-shadow: 0 0 20px white;\r\n  }\r\n}\r\n\r\n#welcome {\r\n  font-size: 24px;\r\n  letter-spacing: 2px;\r\n  pointer-events: none;\r\n}\r\n\r\n#collapse {\r\n  flex-basis: 100%;\r\n  cursor: pointer;\r\n\r\n  &:hover #collapse-arrow {\r\n    color: white;\r\n  }\r\n}\r\n\r\n#collapse-arrow {\r\n  margin-left: auto;\r\n  font-size: 50px;\r\n  width: 35px;\r\n  color: $user-color;\r\n  box-shadow: none !important;\r\n  transition: color 150ms, transform $collapse-duration;\r\n}\r\n\r\n.nav-collapsed {\r\n  max-width: 84px !important;\r\n\r\n  #carnet-logo img {\r\n    transform: scale(0.8) translate(-17px, 2px);\r\n\r\n    &:hover {\r\n      transform: scale(0.8) translate(-17px, 2px) rotate(360deg);\r\n    }\r\n  }\r\n\r\n  #welcome {\r\n    transform: translate(-50%, calc(-50% + 10px)) !important;\r\n  }\r\n\r\n  #collapse-arrow {\r\n    transform: scale(-1);\r\n  }\r\n\r\n  :deep(.text) {\r\n    @include text-hidden;\r\n  }\r\n}\r\n\r\n/* transitions */\r\n\r\n.navbar-enter-active,\r\n.navbar-leave-active {\r\n  transition: opacity $views-transition !important;\r\n}\r\n\r\n.navbar-enter-from,\r\n.navbar-leave-to {\r\n  opacity: 0;\r\n\r\n  :deep(.text) {\r\n    @include text-hidden;\r\n  }\r\n}\r\n</style>","<template>\r\n  <router-link\r\n    v-for=\"({ name, icon }, i) in list\"\r\n    :key=\"i\"\r\n    :to=\"rootLink + name.replaceAll(' ', '-').toLowerCase()\"\r\n    :class=\"{\r\n      'router-link-active':\r\n        $route.href && $route.href.includes('razred') && name == 'Razred',\r\n    }\"\r\n    v-tooltip.right=\"navCollapsed ? name : ''\"\r\n    v-wave\r\n  >\r\n    <span class=\"material-icons\"> {{ icon }} </span>\r\n    <div class=\"text\" :style=\"'--order: ' + (i + order)\">{{ name }}</div>\r\n  </router-link>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\n\r\n// TODO: fix v-tooltip empty divs in <body>\r\n\r\nexport default defineComponent({\r\n  name: \"NavbarList\",\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<Array<{ name: string; icon: string }>>,\r\n      required: true,\r\n    },\r\n    rootLink: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    order: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    navCollapsed: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.router-link-active {\r\n  background: $navbar-selected;\r\n  color: $navbar-selected-text-color !important;\r\n\r\n  .material-icons {\r\n    text-shadow: 0 0 15px;\r\n  }\r\n}\r\n</style>","\r\nimport { defineComponent, PropType } from \"vue\";\r\n\r\n// TODO: fix v-tooltip empty divs in <body>\r\n\r\nexport default defineComponent({\r\n  name: \"NavbarList\",\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<Array<{ name: string; icon: string }>>,\r\n      required: true,\r\n    },\r\n    rootLink: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    order: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    navCollapsed: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./NavbarList.vue?vue&type=template&id=76c7f349&scoped=true\"\nimport script from \"./NavbarList.vue?vue&type=script&lang=ts\"\nexport * from \"./NavbarList.vue?vue&type=script&lang=ts\"\n\nimport \"./NavbarList.vue?vue&type=style&index=0&id=76c7f349&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-76c7f349\"\n\nexport default script","\r\nimport { defineComponent } from \"vue\";\r\nimport NavbarList from \"./NavbarList.vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Navbar\",\r\n  components: { NavbarList },\r\n  data() {\r\n    return {\r\n      navCollapsed: false,\r\n      navMidOverflowing: false,\r\n      mounted: false,\r\n      linksTop: [\r\n        {\r\n          name: \"Razred\",\r\n          icon: \"school\",\r\n        },\r\n        {\r\n          name: \"Statistika ocjena\",\r\n          icon: \"equalizer\",\r\n        },\r\n        {\r\n          name: \"Kalkulator bodova\",\r\n          icon: \"table_view\",\r\n        },\r\n      ],\r\n      pages: [\r\n        {\r\n          name: \"kolska stranica\",\r\n          icon: \"home\",\r\n        },\r\n        {\r\n          name: \"Loomen\",\r\n          icon: \"apps\",\r\n        },\r\n        {\r\n          name: \"Srednja.hr\",\r\n          icon: \"whatshot\",\r\n        },\r\n        {\r\n          name: \"kolski e-Rudnik\",\r\n          icon: \"bubble_chart\",\r\n        },\r\n      ],\r\n      linksBottom: [\r\n        {\r\n          name: \"Postavke\",\r\n          icon: \"settings\",\r\n        },\r\n        {\r\n          name: \"O aplikaciji\",\r\n          icon: \"help_outline\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  mounted() {\r\n    // Always show a \"welcome\" message for a second\r\n    setTimeout(() => (this.mounted = true), 1000);\r\n  },\r\n  methods: {\r\n    initResizeObserver() {\r\n      !this.isLoginPage &&\r\n        new (window as any).ResizeObserver(this.customListChanged).observe(\r\n          this.$refs.navMid as HTMLElement,\r\n        );\r\n    },\r\n    customListChanged() {\r\n      const navMid = this.$refs.navMid as HTMLElement | undefined;\r\n      this.navMidOverflowing = navMid\r\n        ? navMid.offsetHeight < navMid.scrollHeight\r\n        : false;\r\n    },\r\n  },\r\n  computed: {\r\n    isLoginPage(): boolean {\r\n      return this.$route.path == \"/\" || !this.mounted;\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Navbar.vue?vue&type=template&id=5f7a0895&scoped=true\"\nimport script from \"./Navbar.vue?vue&type=script&lang=ts&scoped=true\"\nexport * from \"./Navbar.vue?vue&type=script&lang=ts&scoped=true\"\n\nimport \"./Navbar.vue?vue&type=style&index=0&id=5f7a0895&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5f7a0895\"\n\nexport default script","<template>\n  <div\n    id=\"main\"\n    ref=\"main\"\n    :class=\"{\n      'no-overflow': $route.path.includes('/stranica/'),\n    }\"\n  >\n    <router-view v-slot=\"{ Component }\">\n      <transition :name=\"transitionName\" mode=\"out-in\">\n        <component :is=\"Component\" />\n      </transition>\n    </router-view>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Main\",\n  data() {\n    return {\n      transitionName: \"\",\n    };\n  },\n  mounted() {\n    (this.$refs.main as HTMLElement).onscroll = () =>\n      this.$emitter.emit(\"main-scrolled\");\n  },\n  watch: {\n    $route(to, from) {\n      if (to.path == \"/\") this.transitionName = \"logged-out\";\n      else if (from.path == \"/\") this.transitionName = \"logged-in\";\n      else this.transitionName = \"main\";\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\">\n#main {\n  position: relative;\n  overflow-y: scroll;\n  flex: 1;\n\n  &.no-overflow {\n    overflow: hidden;\n  }\n\n  /* root views */\n  & > div {\n    transition: opacity $views-transition, transform $views-transition;\n  }\n}\n\n/* transitions */\n\n.logged-in-leave-to #students,\n.logged-out-enter-from #students {\n  margin-right: 50px;\n}\n\n.logged-in-enter-from,\n.logged-out-leave-to,\n.main-enter-from,\n.main-leave-to {\n  transform: scale(0.97);\n}\n\n.logged-out-enter-from,\n.logged-in-enter-from,\n.logged-out-leave-to,\n.logged-in-leave-to,\n.main-enter-from,\n.main-leave-to {\n  opacity: 0;\n}\n</style>","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Main\",\n  data() {\n    return {\n      transitionName: \"\",\n    };\n  },\n  mounted() {\n    (this.$refs.main as HTMLElement).onscroll = () =>\n      this.$emitter.emit(\"main-scrolled\");\n  },\n  watch: {\n    $route(to, from) {\n      if (to.path == \"/\") this.transitionName = \"logged-out\";\n      else if (from.path == \"/\") this.transitionName = \"logged-in\";\n      else this.transitionName = \"main\";\n    },\n  },\n});\n","import { render } from \"./Main.vue?vue&type=template&id=e00aee38\"\nimport script from \"./Main.vue?vue&type=script&lang=ts\"\nexport * from \"./Main.vue?vue&type=script&lang=ts\"\n\nimport \"./Main.vue?vue&type=style&index=0&id=e00aee38&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <div\r\n    v-if=\"user\"\r\n    id=\"user\"\r\n    class=\"hovered-text-button\"\r\n    @click.self=\"showDropdown = !showDropdown\"\r\n    ref=\"user\"\r\n  >\r\n    {{ user.fullName }}\r\n    <span class=\"material-icons\"> account_circle </span>\r\n    <Dropdown\r\n      :visible=\"showDropdown\"\r\n      :list=\"dropdown\"\r\n      customClass=\"right\"\r\n      sourceElementId=\"user\"\r\n      @close=\"dropdownClosed\"\r\n    ></Dropdown>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport Dropdown from \"./Dropdown.vue\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\nimport { User } from \"@/store/state\";\r\nimport { logout } from \"@/scripts/scrapers\";\r\n\r\nexport default defineComponent({\r\n  name: \"User\",\r\n  components: {\r\n    Dropdown,\r\n  },\r\n  data() {\r\n    return {\r\n      showDropdown: false,\r\n      dropdown: [\r\n        {\r\n          name: \"Osobni podaci\",\r\n          icon: \"fingerprint\",\r\n          link: \"/osobni-podaci\",\r\n        },\r\n        {\r\n          name: \"Odjava\",\r\n          icon: \"exit_to_app\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    async dropdownClosed(rowName: string) {\r\n      this.showDropdown = false;\r\n      if (rowName == \"Odjava\" && this.user && (await logout())) {\r\n        this.$store.commit(MutationTypes.UPDATE_USER_STATUS, {\r\n          user: this.user,\r\n          status: false,\r\n        });\r\n        this.$router.replace(\"/\");\r\n      }\r\n    },\r\n    showCard(show: boolean) {\r\n      const userEl = this.$refs.user as HTMLElement;\r\n      userEl && userEl.classList[show ? \"add\" : \"remove\"](\"card\");\r\n    },\r\n  },\r\n  computed: {\r\n    user(): User | undefined {\r\n      return this.$store.getters.user;\r\n    },\r\n  },\r\n  watch: {\r\n    $route(to) {\r\n      this.showCard(to.path.includes(\"/stranica/\"));\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#user {\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 0;\r\n  padding: 0 40px 0 20px;\r\n  border-radius: 8px 0 0 8px;\r\n  color: $user-color;\r\n  user-select: none;\r\n  transition: box-shadow 150ms, color 150ms;\r\n  z-index: 99;\r\n\r\n  & > .material-icons {\r\n    pointer-events: none;\r\n    font-size: 44px;\r\n    padding-left: 20px;\r\n  }\r\n\r\n  &.card {\r\n    background: #fff;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <transition :name=\"customClass\">\r\n    <div v-if=\"visible\" class=\"dropdown\" :class=\"customClass\" ref=\"dropdown\">\r\n      <component\r\n        v-for=\"(row, i) in list\"\r\n        :key=\"i\"\r\n        :is=\"row.link ? 'router-link' : 'a'\"\r\n        :to=\"row.link\"\r\n        :class=\"{ active: row.active }\"\r\n        @click=\"close(row.name)\"\r\n        v-tooltip.right=\"{\r\n          content: row.tooltip,\r\n          disabled: !row.tooltip,\r\n          html: true,\r\n        }\"\r\n        v-wave\r\n      >\r\n        <span v-if=\"row.icon\" class=\"material-icons\"> {{ row.icon }} </span>\r\n        {{ row.name }}\r\n        <div v-if=\"row.alignRight\" class=\"align-right\">\r\n          {{ row.alignRight }}\r\n        </div>\r\n      </component>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent, PropType } from \"vue\";\r\n\r\nexport interface DropdownItem {\r\n  name: string;\r\n  alignRight?: string;\r\n  icon?: string;\r\n  link?: string | { params: Record<string, string> };\r\n  tooltip?: string;\r\n  active?: boolean;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Dropdown\",\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<Array<DropdownItem>>,\r\n      required: true,\r\n    },\r\n    visible: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    sourceElementId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    customClass: {\r\n      type: String,\r\n      required: false,\r\n      default: \"dropdown\",\r\n    },\r\n  },\r\n  emits: [\"close\"],\r\n  mounted() {\r\n    this.$emitter.on(\"main-scrolled\", this.close);\r\n    this.$emitter.on(\"window-clicked\", this.windowClicked);\r\n  },\r\n  beforeUnmount() {\r\n    this.$emitter.off(\"main-scrolled\", this.close);\r\n    this.$emitter.off(\"window-clicked\", this.windowClicked);\r\n  },\r\n  methods: {\r\n    windowClicked(path?: HTMLElement[]) {\r\n      if (\r\n        !path ||\r\n        (!path.includes(this.$refs.dropdown as HTMLElement) &&\r\n          !path.includes(document.getElementById(this.sourceElementId)!))\r\n      ) {\r\n        this.close();\r\n      }\r\n    },\r\n    close(rowName?: string) {\r\n      this.$emit(\"close\", rowName);\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dropdown {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  min-width: 100%;\r\n  padding: 8px 0;\r\n  overflow: hidden;\r\n  white-space: nowrap;\r\n  background: #fff;\r\n  border-radius: 0 8px 8px 8px;\r\n  box-shadow: 0 1px 2px 0 rgb(60 64 67 / 30%), 0 2px 6px 2px rgb(60 64 67 / 15%);\r\n  cursor: default;\r\n  transform-origin: top left;\r\n  transition: transform 250ms, opacity 250ms;\r\n  z-index: 6;\r\n\r\n  & > a {\r\n    display: flex;\r\n    color: $light-gray-text;\r\n    padding: 8px 20px;\r\n    transition: color 150ms;\r\n\r\n    & > span {\r\n      padding-right: 20px;\r\n    }\r\n\r\n    &.active {\r\n      color: $navbar-selected-text-color;\r\n    }\r\n\r\n    &:not(.active):hover {\r\n      cursor: pointer;\r\n      color: $hovered-text-button !important;\r\n    }\r\n  }\r\n}\r\n\r\n.align-right {\r\n  margin-left: auto;\r\n  padding-left: 25px;\r\n  font-weight: bold;\r\n}\r\n\r\n.right {\r\n  top: calc(100% + 8px);\r\n  left: 0;\r\n  right: 0;\r\n  border-radius: 8px 0 0 8px;\r\n}\r\n\r\n/* transitions */\r\n\r\n.right-enter-from,\r\n.right-leave-to {\r\n  transform: translateX(100%);\r\n  opacity: 0;\r\n}\r\n\r\n.dropdown-enter-from,\r\n.dropdown-leave-to {\r\n  transform: scale(0.8);\r\n  opacity: 0;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent, PropType } from \"vue\";\r\n\r\nexport interface DropdownItem {\r\n  name: string;\r\n  alignRight?: string;\r\n  icon?: string;\r\n  link?: string | { params: Record<string, string> };\r\n  tooltip?: string;\r\n  active?: boolean;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Dropdown\",\r\n  props: {\r\n    list: {\r\n      type: Array as PropType<Array<DropdownItem>>,\r\n      required: true,\r\n    },\r\n    visible: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n    sourceElementId: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    customClass: {\r\n      type: String,\r\n      required: false,\r\n      default: \"dropdown\",\r\n    },\r\n  },\r\n  emits: [\"close\"],\r\n  mounted() {\r\n    this.$emitter.on(\"main-scrolled\", this.close);\r\n    this.$emitter.on(\"window-clicked\", this.windowClicked);\r\n  },\r\n  beforeUnmount() {\r\n    this.$emitter.off(\"main-scrolled\", this.close);\r\n    this.$emitter.off(\"window-clicked\", this.windowClicked);\r\n  },\r\n  methods: {\r\n    windowClicked(path?: HTMLElement[]) {\r\n      if (\r\n        !path ||\r\n        (!path.includes(this.$refs.dropdown as HTMLElement) &&\r\n          !path.includes(document.getElementById(this.sourceElementId)!))\r\n      ) {\r\n        this.close();\r\n      }\r\n    },\r\n    close(rowName?: string) {\r\n      this.$emit(\"close\", rowName);\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Dropdown.vue?vue&type=template&id=39e333b9&scoped=true\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=ts\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=ts\"\n\nimport \"./Dropdown.vue?vue&type=style&index=0&id=39e333b9&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-39e333b9\"\n\nexport default script","export const state: State = {\n  settings: {},\n  users: [],\n};\n\nexport interface State {\n  settings: Settings;\n  users: User[];\n}\n\nexport interface User {\n  signedIn: boolean;\n  email: string;\n  password: string;\n  fullName: string;\n  settings: Settings;\n  classesList: ClassInfo[];\n}\n\nexport interface Settings {\n  classTabsOrder?: string[];\n}\n\nexport interface ClassInfo {\n  url: string;\n  name: string;\n  year: string;\n  school: string;\n  headTeacher?: string;\n  finalGrade?: string;\n  cachedSubjects?: SubjectCache[];\n  lastUpdated?: number;\n}\n\nexport interface SubjectCache {\n  url: string;\n  name: string;\n  teachers: string;\n  gradesByCategory?: GradesByCategory[];\n  finalGrade?: number;\n  lastNote?: Note;\n  lastUpdated: number;\n}\n\nexport interface GradesByCategory {\n  name: string;\n  grades: number[][]\n}\n\nexport interface Note {\n  note: string;\n  date: string;\n  grade: string;\n}","import { State, User, ClassInfo } from \"./state\";\n\nexport type Getters = {\n  user(state: State): User | undefined;\n  classInfo(\n    state: State,\n    _getters: any,\n  ): (classId: string) => ClassInfo | undefined;\n};\n\nexport const getters: Getters = {\n  user: (state) => state.users.find((user) => user.signedIn),\n  classInfo: (state, _getters) => (classId) => {\n    const user: User = _getters.user;\n    if (user) return user.classesList.find((c) => c.url.includes(classId));\n  },\n};\n","/*\r\n__VUE_DEVTOOLS_GLOBAL_HOOK__.store\r\nhttps://dev.to/3vilarthas/vuex-typescript-m4j\r\nhttps://next.vuex.vuejs.org/guide/typescript-support.html\r\nhttps://developer.chrome.com/docs/extensions/reference/storage/#property-local\r\n */\r\n\r\nimport {\r\n  createStore,\r\n  Store as VuexStore,\r\n  CommitOptions,\r\n  DispatchOptions,\r\n} from \"vuex\";\r\nimport { State, state } from \"./state\";\r\nimport { Getters, getters } from \"./getters\";\r\nimport { Mutations, mutations } from \"./mutations\";\r\nimport { Actions, actions, ActionTypes } from \"./actions\";\r\nimport chromeLocalStorage from \"./storage\";\r\n\r\nfunction storeMutated(_store: Store) {\r\n  _store.subscribe((mutation, _state) => {\r\n    console.log(\"MUTATED\", mutation, _state);\r\n    mutation.type != ActionTypes.INIT && chromeLocalStorage(_state);\r\n  });\r\n}\r\n\r\nexport const store = createStore({\r\n  plugins: [storeMutated],\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions,\r\n});\r\n\r\nexport type Store = Omit<\r\n  VuexStore<State>,\r\n  \"getters\" | \"commit\" | \"dispatch\"\r\n> & {\r\n  commit<K extends keyof Mutations, P extends Parameters<Mutations[K]>[1]>(\r\n    key: K,\r\n    payload: P,\r\n    options?: CommitOptions,\r\n  ): ReturnType<Mutations[K]>;\r\n} & {\r\n  dispatch<K extends keyof Actions>(\r\n    key: K,\r\n    payload: Parameters<Actions[K]>[1],\r\n    options?: DispatchOptions,\r\n  ): ReturnType<Actions[K]>;\r\n} & {\r\n  getters: {\r\n    [K in keyof Getters]: ReturnType<Getters[K]>;\r\n  };\r\n};\r\n","import { User, ClassInfo } from \"@/store/state\";\r\n\r\ninterface InitData {\r\n  email: string;\r\n  password: string;\r\n  fullName: string;\r\n  classesList: ClassInfo[];\r\n}\r\n\r\nexport default function newUser(initData: InitData): User {\r\n  return {\r\n    ...initData,\r\n    signedIn: true,\r\n    settings: {},\r\n  };\r\n}\r\n","export function parseDoc(html: string, baseUri: string): Document {\r\n  const doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  const base = doc.createElement(\"base\");\r\n  base.href = baseUri;\r\n  doc.head.appendChild(base);\r\n  return doc;\r\n}\r\n\r\nexport function formEncodedBody(obj: Record<string, string>): string {\r\n  return Object.keys(obj)\r\n    .map((k) => encodeURIComponent(k) + \"=\" + encodeURIComponent(obj[k]))\r\n    .join(\"&\");\r\n}\r\n\r\nexport function getElText(el: Element | null): string {\r\n  return el ? (el.textContent as string).trim() : \"\";\r\n}\r\n\r\nexport function parseNum(num: string): number {\r\n  return parseFloat(num.replace(\",\", \".\"));\r\n}\r\n\r\nexport function formatNum(num: number | string): string {\r\n  let str = \"\";\r\n  if (typeof num == \"number\") {\r\n    if (isNaN(num)) return \"\";\r\n    str = num.toFixed(2).toString();\r\n  }\r\n  return str.replace(\".\", \",\");\r\n}\r\n\r\nexport function setEndOfContenteditable(contentEditableElement: HTMLElement) {\r\n  const range = document.createRange();\r\n  range.selectNodeContents(contentEditableElement);\r\n  range.collapse(false);\r\n  const selection = window.getSelection();\r\n  if (selection) {\r\n    selection.removeAllRanges();\r\n    selection.addRange(range);\r\n  }\r\n}\r\n","\r\nimport { useToast } from \"vue-toastification\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\nimport { User, ClassInfo, SubjectCache } from \"@/store/state\";\r\nimport { store } from \"@/store\";\r\nimport newUser from \"./new-user\";\r\nimport * as UTILS from \"./utils\";\r\n\r\nconst toast = useToast();\r\nconst URLS = {\r\n  base: \"https://ocjene.skole.hr\",\r\n  login: \"https://ocjene.skole.hr/login\",\r\n  logout: \"https://ocjene.skole.hr/logout\",\r\n  classes: \"https://ocjene.skole.hr/class\",\r\n};\r\n\r\nasync function login(\r\n  email: string,\r\n  password: string,\r\n  fetch1?: Response,\r\n): Promise<boolean> {\r\n  //\r\n  // Login GET\r\n  console.log(\"LOGGING IN\");\r\n  fetch1 = fetch1 || (await fetch(URLS.login));\r\n  if (!fetch1.url.includes(\"login\")) {\r\n    //\r\n    // Logout GET\r\n    return (await logout()) && login(email, password);\r\n  }\r\n  const loginDoc = UTILS.parseDoc(await fetch1.text(), fetch1.url);\r\n  const csrfElement = loginDoc.getElementsByName(\"csrf_token\")[0];\r\n  if (!csrfElement) {\r\n    toast.error(\"Greka u prijavi: Nedostaje CSRF token!\");\r\n    return false;\r\n  }\r\n  const csrf_token = (csrfElement as HTMLInputElement).value;\r\n  //\r\n  // Login POST\r\n  const fetch2 = await fetch(URLS.login, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n    body: UTILS.formEncodedBody({ username: email, password, csrf_token }),\r\n  });\r\n  const loggedIn = !fetch2.url.includes(\"login\");\r\n  if (!loggedIn) return false;\r\n  //\r\n  // Either /class or /course\r\n  const nextDoc = UTILS.parseDoc(await fetch2.text(), fetch2.url);\r\n  const classesList = await getClassesList(\r\n    fetch2.url == URLS.classes ? nextDoc : undefined,\r\n  );\r\n  if (!classesList || !classesList.length) {\r\n    toast.error(\"Greka u prijavi: Popis razreda je nedostupan!\");\r\n    return false;\r\n  }\r\n  //\r\n  // Old or new user\r\n  const user = store.state.users.find((u) => u.email == email);\r\n  if (user) {\r\n    store.commit(MutationTypes.UPDATE_CLASSES_LIST, { user, classesList });\r\n  } else {\r\n    const fullName = UTILS.getElText(nextDoc.querySelector(\".user-name\"));\r\n    store.commit(\r\n      MutationTypes.ADD_USER,\r\n      newUser({ email, password, fullName, classesList }),\r\n    );\r\n    setTimeout(() => {\r\n      toast.success(\r\n        \"Automatska prijava je omoguena!\\nOpciju promijenite u postavkama \",\r\n        { timeout: false },\r\n      );\r\n    }, 1000);\r\n  }\r\n  await updateClassesHeadteacher(classesList, !user);\r\n  return true;\r\n}\r\n\r\nasync function logout(): Promise<boolean> {\r\n  const success = (await fetch(URLS.logout)).url.includes(\"login\");\r\n  if (!success) toast.error(\"Greka u odjavi! Pokuajte ponovo.\");\r\n  return success;\r\n}\r\n\r\nasync function authFetch(url: string): Promise<undefined | Document> {\r\n  const fetch1 = await fetch(url);\r\n  if (fetch1.url.includes(\"login\")) {\r\n    const user = store.getters.user as User | undefined;\r\n    if (!user) return;\r\n    if (!(await login(user.email, user.password, fetch1))) {\r\n      toast.error(\"Greka u prijavi: Promijenili ste lozinku!\");\r\n      return;\r\n    }\r\n  }\r\n  return UTILS.parseDoc(await fetch1.text(), fetch1.url);\r\n}\r\n\r\nasync function getClassesList(\r\n  classesDoc?: Document,\r\n): Promise<ClassInfo[] | undefined> {\r\n  classesDoc = classesDoc || (await authFetch(URLS.classes));\r\n  if (!classesDoc) return;\r\n  const classMenus = classesDoc.getElementsByClassName(\"class-menu-vertical\");\r\n  const classesList = [] as ClassInfo[];\r\n  for (const menu of classMenus) {\r\n    const classInfo: ClassInfo = {\r\n      url: (menu.querySelector(\".school\") as HTMLAnchorElement).href,\r\n      name: UTILS.getElText(menu.querySelector(\".class > .bold\")),\r\n      year: UTILS.getElText(menu.querySelector(\".class-schoolyear\")),\r\n      school: UTILS.getElText(menu.querySelector(\".school-name\")),\r\n    };\r\n    const [start, end] = classInfo.year.split(\"/\");\r\n    if (start && end) classInfo.year = \"20\" + start + \"./20\" + end + \".\";\r\n    const finalGrade = menu.querySelector(\".overall-grade .bold\");\r\n    if (finalGrade) classInfo.finalGrade = UTILS.getElText(finalGrade);\r\n    classesList.push(classInfo);\r\n  }\r\n  return classesList;\r\n}\r\n\r\nasync function updateSubjects(\r\n  classInfo: ClassInfo,\r\n  forceUpdate?: true,\r\n): Promise<boolean> {\r\n\r\n  const cachedSubjects = classInfo.cachedSubjects || [];\r\n  const lastUpdated = classInfo.lastUpdated;\r\n  const timestamp = Date.now() / 1000;\r\n  const updateAllSubjects = !lastUpdated || timestamp - lastUpdated > 1800;\r\n  const promises: Promise<boolean>[] = [];\r\n  const saveSubject = (updatedSubject: SubjectCache | false) => {\r\n    updatedSubject &&\r\n      store.commit(MutationTypes.UPDATE_SUBJECT, {\r\n        classInfo,\r\n        updatedSubject,\r\n      });\r\n    return !!updatedSubject;\r\n  };\r\n\r\n  if (updateAllSubjects || forceUpdate) {\r\n    classInfo.lastUpdated = timestamp;\r\n\r\n    // Default: 30 minutes; TODO: add settings\r\n    const classDoc = await authFetch(classInfo.url);\r\n    if (!classDoc) {\r\n      toast.error(\"Greka pri dobavljanju razreda!\");\r\n      return false;\r\n    }\r\n\r\n    // TODO: delete slice\r\n    [...classDoc.querySelectorAll(\".content a[href^='/grade/']\")]\r\n      .slice(0, 3)\r\n      .forEach((anchor) =>\r\n        promises.push(\r\n          updateSubject({\r\n            url: (anchor as HTMLAnchorElement).href,\r\n            name: UTILS.getElText(anchor.children[0]),\r\n            teachers: UTILS.getElText(anchor.children[1]),\r\n            lastUpdated: timestamp,\r\n          }).then(saveSubject),\r\n        ),\r\n      );\r\n  } else {\r\n    for (const subject of cachedSubjects) {\r\n      timestamp - subject.lastUpdated > 1800 &&\r\n        promises.push(updateSubject(subject).then(saveSubject));\r\n    }\r\n  }\r\n\r\n  const success = await Promise.allSettled(promises);\r\n  console.log(success);\r\n  return true;\r\n}\r\n\r\nasync function updateSubject(\r\n  subject: SubjectCache,\r\n): Promise<SubjectCache | false> {\r\n  const subjectDoc = await authFetch(subject.url);\r\n  if (!subjectDoc) {\r\n    toast.error(\"Greka: Predmet ne postoji!\");\r\n    return false;\r\n  }\r\n  subject.gradesByCategory = [];\r\n  subjectDoc.querySelectorAll(\".grades-table > .row\").forEach((rowEl) => {\r\n    if (rowEl.classList.contains(\"final-grade\")) {\r\n      const finalGrade = UTILS.getElText(rowEl.lastElementChild).match(/\\d/);\r\n      if (finalGrade) subject.finalGrade = parseInt(finalGrade[0]);\r\n      return;\r\n    }\r\n    subject.gradesByCategory?.push({\r\n      name: UTILS.getElText(rowEl.firstElementChild),\r\n      grades: [...rowEl.children]\r\n        .slice(1)\r\n        .map((cell) => (UTILS.getElText(cell).match(/\\d/g) || []).map(Number)),\r\n    });\r\n  });\r\n  const lastNoteEl = subjectDoc.querySelector(\".notes-table > .row\");\r\n  if (lastNoteEl) {\r\n    const info = [...lastNoteEl.children].map(UTILS.getElText);\r\n    subject.lastNote = { note: info[0], date: info[1], grade: info[2] };\r\n  }\r\n  return subject;\r\n}\r\n\r\nasync function updateClassesHeadteacher(\r\n  classesList: ClassInfo[],\r\n  firstLogin: boolean,\r\n) {\r\n  firstLogin && toast(\"Prva prijava moe potrajati malo due.\");\r\n\r\n  // Because the class response is 302, requests must go 1 by 1\r\n  // prettier-ignore\r\n  for (let i = 0; i < classesList.length; i++) { // nosonar: for of\r\n    if (classesList[i].headTeacher) continue;\r\n    const classDoc = await authFetch(classesList[i].url);\r\n    if (!classDoc) {\r\n      toast.error(\"Greka pri dobavljanju razreda!\");\r\n      return;\r\n    }\r\n    const headteacher = classDoc.querySelector(\".schoolyear .black\");\r\n    headteacher &&\r\n      store.commit(MutationTypes.UPDATE_CLASS_HEADTEACHER, {\r\n        classInfo: classesList[i],\r\n        headteacher: UTILS.getElText(headteacher),\r\n      });\r\n  }\r\n}\r\n\r\nexport { login, logout, updateSubjects };\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport Dropdown from \"./Dropdown.vue\";\r\nimport { MutationTypes } from \"@/store/mutations\";\r\nimport { User } from \"@/store/state\";\r\nimport { logout } from \"@/scripts/scrapers\";\r\n\r\nexport default defineComponent({\r\n  name: \"User\",\r\n  components: {\r\n    Dropdown,\r\n  },\r\n  data() {\r\n    return {\r\n      showDropdown: false,\r\n      dropdown: [\r\n        {\r\n          name: \"Osobni podaci\",\r\n          icon: \"fingerprint\",\r\n          link: \"/osobni-podaci\",\r\n        },\r\n        {\r\n          name: \"Odjava\",\r\n          icon: \"exit_to_app\",\r\n        },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    async dropdownClosed(rowName: string) {\r\n      this.showDropdown = false;\r\n      if (rowName == \"Odjava\" && this.user && (await logout())) {\r\n        this.$store.commit(MutationTypes.UPDATE_USER_STATUS, {\r\n          user: this.user,\r\n          status: false,\r\n        });\r\n        this.$router.replace(\"/\");\r\n      }\r\n    },\r\n    showCard(show: boolean) {\r\n      const userEl = this.$refs.user as HTMLElement;\r\n      userEl && userEl.classList[show ? \"add\" : \"remove\"](\"card\");\r\n    },\r\n  },\r\n  computed: {\r\n    user(): User | undefined {\r\n      return this.$store.getters.user;\r\n    },\r\n  },\r\n  watch: {\r\n    $route(to) {\r\n      this.showCard(to.path.includes(\"/stranica/\"));\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./User.vue?vue&type=template&id=66668484&scoped=true\"\nimport script from \"./User.vue?vue&type=script&lang=ts\"\nexport * from \"./User.vue?vue&type=script&lang=ts\"\n\nimport \"./User.vue?vue&type=style&index=0&id=66668484&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-66668484\"\n\nexport default script","\nimport { ActionTypes } from \"@/store/actions\";\nimport { defineComponent } from \"vue\";\nimport Navbar from \"@/components/Navbar.vue\";\nimport Main from \"@/components/Main.vue\";\nimport User from \"@/components/User.vue\";\n\nexport default defineComponent({\n  name: \"App\",\n  components: {\n    Navbar,\n    Main,\n    User,\n  },\n  mounted() {\n    this.$store.dispatch(ActionTypes.INIT, undefined).then((userSignedIn) => {\n      const isLoginPage = window.location.hash == \"#/\";\n      if (userSignedIn && isLoginPage) {\n        this.$router.replace(\"/razred\");\n      } else if (!userSignedIn && !isLoginPage) {\n        this.$router.replace(\"/\");\n      }\n    });\n    window.onresize = () => this.$emitter.emit(\"window-resized\");\n    window.onclick = (e: MouseEvent) => {\n      const path = ((e as any).path || (e.composedPath && e.composedPath())) as\n        | HTMLElement[]\n        | false;\n      path && this.$emitter.emit(\"window-clicked\", path);\n    };\n  },\n});\n","import { render } from \"./App.vue?vue&type=template&id=59cb803d\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=59cb803d&lang=scss\"\nscript.render = render\n\nexport default script","<template>\r\n  <div id=\"login\" class=\"flex-center\">\r\n    <div id=\"forms\">\r\n      <transition name=\"error\">\r\n        <div v-if=\"!firstAttempt\" id=\"error\">\r\n          <div class=\"card\" ref=\"errorCard\">\r\n            Neispravno korisniko ime ili lozinka.\r\n          </div>\r\n        </div>\r\n      </transition>\r\n      <form class=\"card\" id=\"students\">\r\n        <div class=\"card-title\">\r\n          <span class=\"material-icons\"> person </span>\r\n          Uenici\r\n        </div>\r\n        <div>Korisniko ime:</div>\r\n        <div style=\"position: relative\">\r\n          <input\r\n            v-model=\"email\"\r\n            type=\"text\"\r\n            spellcheck=\"false\"\r\n            class=\"card\"\r\n            @keyup.enter=\"loginStudent\"\r\n            autocomplete=\"on\"\r\n            autofocus\r\n          />\r\n          <div class=\"skolehr\">@skole.hr</div>\r\n        </div>\r\n        <div>Lozinka:</div>\r\n        <input\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          spellcheck=\"false\"\r\n          class=\"card\"\r\n          @keyup.enter=\"loginStudent\"\r\n          autocomplete=\"on\"\r\n        />\r\n        <div\r\n          class=\"button\"\r\n          :class=\"{\r\n            'disabled-button': !loginReady || loggingIn,\r\n            loggingIn: loggingIn,\r\n          }\"\r\n          :tabindex=\"loginReady ? 0 : -1\"\r\n          @click=\"loginStudent\"\r\n          v-wave\r\n        >\r\n          Prijava\r\n        </div>\r\n      </form>\r\n      <div class=\"card\" id=\"parents\">\r\n        <div class=\"card-title\">\r\n          <span class=\"material-icons\"> supervisor_account </span>\r\n          Roditelji\r\n        </div>\r\n        <div>\r\n          Pristup je dozvoljen iskljuivo korisnicima registriranim u sustavu\r\n          <a href=\"https://gov.hr/\" target=\"_blank\" class=\"text-link\"\r\n            >e-Graani</a\r\n          >.\r\n        </div>\r\n        <div style=\"color: gray; padding: 20px 0\">\r\n          Iz pedagokih razloga, ocjene se prikazuju s vremenskim odmakom od 48\r\n          sati.\r\n        </div>\r\n        <a\r\n          href=\"https://ocjene.skole.hr/nias\"\r\n          target=\"_blank\"\r\n          class=\"button\"\r\n          v-wave\r\n          >Prijava</a\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport { login } from \"@/scripts/scrapers\";\r\n\r\nexport default defineComponent({\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      email: \"kristijan.rosandic\",\r\n      password: \"grandayyy\",\r\n      firstAttempt: true,\r\n      loggingIn: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async loginStudent() {\r\n      if (!this.loginReady || this.loggingIn) return;\r\n      this.loggingIn = true;\r\n      const errorCard = this.$refs.errorCard as HTMLElement;\r\n      const domain = this.email.indexOf(\"@\");\r\n      const email =\r\n        (domain == -1 ? this.email : this.email.slice(0, domain)) + \"@skole.hr\";\r\n      const loggedIn = await login(email, this.password);\r\n\r\n      if (loggedIn) {\r\n        this.$router.push(\"/razred\");\r\n      } else {\r\n        if (!this.firstAttempt) {\r\n          errorCard.style.animation = \"none\";\r\n          errorCard.offsetWidth; // nosonar: reflow trigger\r\n          errorCard.style.animation = \"error-red 1s\";\r\n        }\r\n        this.firstAttempt = this.loggingIn = false;\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    loginReady(): boolean {\r\n      return (!!this.email && !!this.password) || true;\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style>\r\n@keyframes error-red {\r\n  0%,\r\n  50%,\r\n  100% {\r\n    border: 1px solid transparent;\r\n  }\r\n  25%,\r\n  75% {\r\n    border: 1px solid red;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n#login {\r\n  height: 100%;\r\n}\r\n\r\n#forms {\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n#error {\r\n  flex-basis: 100%;\r\n\r\n  .card {\r\n    margin: 10px auto;\r\n    text-align: center;\r\n    color: red;\r\n    background: #fff;\r\n    border: 1px solid transparent;\r\n  }\r\n}\r\n\r\n.card:not(input) {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-width: 300px;\r\n  width: 400px;\r\n  padding: 15px;\r\n  margin: 20px;\r\n}\r\n\r\n.card-title {\r\n  font-weight: bold;\r\n  color: gray;\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.skolehr {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 17.5px;\r\n  color: gray;\r\n  font-size: 15px;\r\n  pointer-events: none;\r\n}\r\n\r\n.button {\r\n  margin-top: auto;\r\n}\r\n\r\n.loggingIn {\r\n  background: #8eb5e9;\r\n  animation: loggingIn 1s infinite linear;\r\n}\r\n\r\n#students {\r\n  transition: margin $views-transition;\r\n}\r\n\r\n@keyframes loggingIn {\r\n  50% {\r\n    opacity: 0.9;\r\n  }\r\n}\r\n\r\n.material-icons {\r\n  vertical-align: bottom;\r\n}\r\n\r\n/* transitions */\r\n\r\n.error-enter-active {\r\n  transition: all 600ms, transform 300ms;\r\n}\r\n\r\n.error-enter-from {\r\n  max-height: 0;\r\n  opacity: 0;\r\n  transform: translateY(-100px);\r\n}\r\n\r\n.error-enter-to {\r\n  max-height: 100px;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport { login } from \"@/scripts/scrapers\";\r\n\r\nexport default defineComponent({\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      email: \"kristijan.rosandic\",\r\n      password: \"grandayyy\",\r\n      firstAttempt: true,\r\n      loggingIn: false,\r\n    };\r\n  },\r\n  methods: {\r\n    async loginStudent() {\r\n      if (!this.loginReady || this.loggingIn) return;\r\n      this.loggingIn = true;\r\n      const errorCard = this.$refs.errorCard as HTMLElement;\r\n      const domain = this.email.indexOf(\"@\");\r\n      const email =\r\n        (domain == -1 ? this.email : this.email.slice(0, domain)) + \"@skole.hr\";\r\n      const loggedIn = await login(email, this.password);\r\n\r\n      if (loggedIn) {\r\n        this.$router.push(\"/razred\");\r\n      } else {\r\n        if (!this.firstAttempt) {\r\n          errorCard.style.animation = \"none\";\r\n          errorCard.offsetWidth; // nosonar: reflow trigger\r\n          errorCard.style.animation = \"error-red 1s\";\r\n        }\r\n        this.firstAttempt = this.loggingIn = false;\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    loginReady(): boolean {\r\n      return (!!this.email && !!this.password) || true;\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Login.vue?vue&type=template&id=5e98a555&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=ts\"\nexport * from \"./Login.vue?vue&type=script&lang=ts\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=5e98a555&lang=css\"\nimport \"./Login.vue?vue&type=style&index=1&id=5e98a555&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-5e98a555\"\n\nexport default script","<template>\n  <div id=\"class-container\">\n    <div id=\"class-info\" ref=\"classInfo\">\n      <div id=\"class-title\">\n        {{ openedClassInfo ? openedClassInfo.name : \"\" }}\n      </div>\n      <div v-for=\"(dropdown, i) in dropdowns\" :key=\"i\" class=\"dropdown-info\">\n        <div\n          :id=\"dropdown.id\"\n          class=\"expand-arrow material-icons hovered-text-button\"\n          @click=\"visibleDropdown = dropdown.id\"\n          v-wave\n        >\n          arrow_drop_down\n        </div>\n        <div class=\"title\">{{ dropdown.title }}</div>\n        <div class=\"name\">{{ dropdown.name }}</div>\n        <Dropdown\n          :visible=\"visibleDropdown == dropdown.id\"\n          :list=\"dropdown.list\"\n          :sourceElementId=\"dropdown.id\"\n          @close=\"closeDropdown(dropdown.id)\"\n        ></Dropdown>\n      </div>\n      <div\n        v-if=\"confirmedFinalGrade\"\n        id=\"confirmedFinalGrade\"\n        class=\"card\"\n        v-tooltip=\"'Potvreni zavrni uspjeh (na svjedodbi)'\"\n      >\n        {{ confirmedFinalGrade }}\n      </div>\n    </div>\n    <div id=\"sections-container\" ref=\"sectionsContainer\">\n      <SlickList\n        id=\"sections\"\n        v-model:list=\"tabs\"\n        axis=\"x\"\n        lockAxis=\"x\"\n        :lockOffset=\"30\"\n        :lockToContainerEdges=\"true\"\n        :distance=\"5\"\n        @sort-start=\"tabsSortingEvent(true)\"\n        @sort-end=\"tabsSortingEvent(false)\"\n        @sort-cancel=\"tabsSortingEvent(false)\"\n        @update:list=\"tabsOrderChanged\"\n      >\n        <SlickItem\n          v-for=\"(tab, i) in tabs\"\n          :key=\"i\"\n          :index=\"i\"\n          class=\"section-item\"\n        >\n          <router-link :to=\"tab.name.toLowerCase()\" draggable=\"false\">\n            <span class=\"material-icons\"> {{ tab.icon }} </span>\n            <div>{{ tab.name }}</div>\n            <div class=\"selected-line tab-drag\"></div>\n          </router-link>\n        </SlickItem>\n      </SlickList>\n      <div id=\"line\"></div>\n      <div class=\"selected-line\" ref=\"selectedLine\"></div>\n    </div>\n\n    <!-- @/views/class components -->\n    <div id=\"section\">\n      <router-view\n        v-slot=\"{ Component }\"\n        :classURL=\"classURL\"\n        @sectionLoading=\"showSpinner = true\"\n        @sectionLoaded=\"showSpinner = false\"\n      >\n        <transition :name=\"sectionTransition\" mode=\"out-in\">\n          <component :is=\"Component\" />\n        </transition>\n      </router-view>\n      <Spinner :visible=\"showSpinner\" :size=\"'125px'\"></Spinner>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport { User, ClassInfo } from \"@/store/state\";\nimport { MutationTypes } from \"@/store/mutations\";\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\nimport { SlickList, SlickItem } from \"vue-slicksort\";\nimport Spinner from \"@/components/Spinner.vue\";\nimport { formatNum } from \"@/scripts/utils\";\n\ninterface DropdownInfo {\n  id: string;\n  title: string;\n  name: string;\n  list: DropdownItem[];\n}\n\nexport default defineComponent({\n  name: \"Class\",\n  components: {\n    Dropdown,\n    SlickList,\n    SlickItem,\n    Spinner,\n  },\n  data() {\n    return {\n      classURL: \"\",\n      showSpinner: false,\n      tabs: [\n        { name: \"Ocjene\", icon: \"grade\" },\n        { name: \"Biljeke\", icon: \"edit\" },\n        { name: \"Ispiti\", icon: \"event_note\" },\n        { name: \"Izostanci\", icon: \"timer_off\" },\n        { name: \"Vladanja\", icon: \"error\" },\n        { name: \"Raspored\", icon: \"date_range\" },\n        { name: \"Statistika\", icon: \"show_chart\" },\n      ],\n      visibleDropdown: \"\",\n      sectionTransition: \"\",\n    };\n  },\n  beforeMount() {\n    if (!this.user) return;\n    const _tabs = this.user.settings.classTabsOrder;\n    if (!_tabs) return;\n    this.tabs = _tabs.map((name) => this.tabs.find((tab) => tab.name == name)!);\n  },\n  mounted() {\n    this.$nextTick(this.classChanged);\n    this.$emitter.on(\"main-scrolled\", this.mainScrolled);\n    new (window as any).ResizeObserver(() => this.userNavigated()).observe(\n      this.getSectionsContainer(),\n    );\n  },\n  beforeUnmount() {\n    this.$emitter.off(\"main-scrolled\", this.mainScrolled);\n    /* ResizeObserver is automatically unobserved on reference deletion! */\n  },\n  methods: {\n    tabsSortingEvent(started: boolean) {\n      const line = this.$refs.selectedLine as HTMLElement;\n      const sections = this.getSectionsContainer();\n      for (const anchor of sections.querySelectorAll(\"a\")) {\n        const _line = anchor.lastElementChild as HTMLElement;\n        const s = started && anchor.classList.contains(\"router-link-active\");\n        _line.style.display = s ? \"block\" : \"none\";\n      }\n      line.style.display = started ? \"none\" : \"block\";\n    },\n    tabsOrderChanged() {\n      this.user &&\n        this.$store.commit(MutationTypes.UPDATE_CLASS_TABS_ORDER, {\n          user: this.user,\n          tabs: this.tabs.map((tab) => tab.name),\n        });\n      const sections = this.getSectionsContainer();\n      sections.classList.add(\"no-transition\");\n      this.$nextTick(() => {\n        this.userNavigated();\n        sections.classList.remove(\"no-transition\");\n      });\n    },\n    classChanged() {\n      if (!this.user) return;\n      let classId = this.$route.params.classId as string;\n      if (classId == \"-\") {\n        // Match the newest class by default\n        classId = this.user.classesList[0].url.match(/\\d+/)![0];\n        this.$router.replace({ params: { classId } });\n      }\n      this.classURL = classId;\n    },\n    userNavigated(to?: string) {\n      const line = this.$refs.selectedLine as HTMLElement;\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      const { offsetLeft, offsetWidth } = ((to &&\n        [...sections.querySelectorAll(\"a\")].find(\n          (s) => s.getAttribute(\"href\") == to,\n        )) ||\n        sections.querySelector(\".router-link-active\")) as HTMLElement;\n      line.style.transition = to ? \"width 500ms, transform 500ms\" : \"none\";\n      line.style.transform = `translateX(${offsetLeft}px)`;\n      line.style.width = offsetWidth + \"px\";\n      const user = document.getElementById(\"user\");\n      if (user)\n        (this.$refs.classInfo as HTMLElement).style.marginRight =\n          user.offsetWidth + \"px\";\n    },\n    mainScrolled() {\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      const main = document.getElementById(\"main\")!;\n      const user = document.getElementById(\"user\")!;\n      const short = main.scrollTop > 30;\n      sections.style.paddingRight = short ? user.offsetWidth + 40 + \"px\" : \"\";\n      sections.className = short ? \"sticky\" : \"\";\n      user.classList[short ? \"add\" : \"remove\"](\"card\");\n    },\n    closeDropdown(id: string) {\n      if (id == this.visibleDropdown) this.visibleDropdown = \"\";\n    },\n    getDropdownList(filterBy?: \"headTeacher\" | \"school\"): DropdownItem[] {\n      return (\n        filterBy\n          ? this.classesList.filter((c) => c[filterBy] == this[filterBy])\n          : this.classesList\n      ).map((classInfo) => ({\n        name: filterBy ? this[filterBy] : classInfo.year,\n        alignRight: classInfo.name,\n        link: { params: { classId: classInfo.url.match(/\\d+/)![0] } },\n        active: classInfo.url.includes(this.classURL),\n      }));\n    },\n    getPathName(path: string): string {\n      return path.slice(path.lastIndexOf(\"/\") + 1);\n    },\n    getSectionsContainer(): HTMLElement {\n      return this.$refs.sectionsContainer as HTMLElement;\n    },\n  },\n  computed: {\n    /* TODO: FIX mapGetters TYPES */\n    user(): User | undefined {\n      return this.$store.getters.user;\n    },\n    openedClassInfo(): ClassInfo | undefined {\n      return this.$store.getters.classInfo(\n        this.$route.params.classId as string,\n      );\n    },\n    classesList(): ClassInfo[] {\n      return this.user ? this.user.classesList : [];\n    },\n    headTeacher(): string {\n      return this.openedClassInfo ? this.openedClassInfo.headTeacher || \"\" : \"\";\n    },\n    school(): string {\n      return this.openedClassInfo ? this.openedClassInfo.school : \"\";\n    },\n    dropdowns(): DropdownInfo[] {\n      return [\n        {\n          id: \"year\",\n          title: \"Godina:\",\n          name: this.openedClassInfo ? this.openedClassInfo.year : \"\",\n          list: this.getDropdownList(),\n        },\n        {\n          id: \"headteacher\",\n          title: \"Razrednik:\",\n          name: this.headTeacher,\n          list: this.getDropdownList(\"headTeacher\"),\n        },\n        {\n          id: \"school\",\n          title: \"kola:\",\n          name: this.school,\n          list: this.getDropdownList(\"school\"),\n        },\n      ];\n    },\n    confirmedFinalGrade(): string {\n      const finalGrade =\n        this.openedClassInfo && this.openedClassInfo.finalGrade;\n      return finalGrade ? formatNum(finalGrade) : \"\";\n    },\n    tabNames(): string[] {\n      return this.tabs.map((tab) => tab.name.toLowerCase());\n    },\n  },\n  watch: {\n    $route(to, from) {\n      /* this.showSpinner = true; */\n      this.classChanged();\n      this.userNavigated(to.href);\n      const fromIdx = this.tabNames.indexOf(this.getPathName(from.path));\n      const toIdx = this.tabNames.indexOf(this.getPathName(to.path));\n      this.sectionTransition = toIdx < fromIdx ? \"slide-right\" : \"slide-left\";\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\">\nbody > div:last-child {\n  z-index: 5 !important;\n\n  .router-link-active .tab-drag {\n    display: block !important;\n  }\n}\n</style>\n\n<style lang=\"scss\" scoped>\n#class-container {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n}\n\n#class-info {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  margin: 20px 30px 0;\n\n  & > div {\n    margin-bottom: 10px;\n  }\n}\n\n#class-title {\n  display: inline-block;\n  font-size: 55px;\n  font-weight: bold;\n  color: #1b3a57;\n  line-height: 55px;\n  height: 55px;\n  margin-right: 20px;\n}\n\n.dropdown-info {\n  position: relative;\n  display: inline-grid;\n  gap: 0px 0px;\n  grid-auto-flow: row;\n  color: $light-gray-text;\n  border-left: 1px solid $light-border-color;\n  padding-left: 20px;\n}\n\n.expand-arrow {\n  grid-area: 1 / 2 / 3 / 3;\n  font-size: 30px;\n  padding: 0 15px;\n\n  &:hover ~ .title,\n  &:hover ~ .name {\n    cursor: pointer;\n    color: $hovered-text-button;\n  }\n}\n\n.title,\n.name {\n  transition: color 150ms;\n}\n\n.title {\n  grid-area: 1 / 1 / 2 / 2;\n}\n\n.name {\n  grid-area: 2 / 1 / 3 / 2;\n}\n\n#confirmedFinalGrade {\n  background: #4caf50;\n  color: white;\n  padding: 5px 10px;\n  margin-left: 15px;\n}\n\n#sections-container {\n  position: sticky;\n  top: 0;\n  padding: 25px 30px 0;\n  transition: padding 150ms;\n  z-index: 5;\n\n  &.sticky {\n    backdrop-filter: blur(5px);\n    background: #ffffff75;\n  }\n\n  &.no-transition a {\n    transition: none !important;\n  }\n}\n\n#sections {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.section-item {\n  flex: 1;\n  z-index: 1;\n}\n\na {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  color: #476282;\n  padding: 0 15px 15px;\n  transition: color 500ms;\n\n  .material-icons {\n    padding-right: 5px;\n  }\n\n  &.router-link-active {\n    color: $button-color;\n  }\n}\n\n#line {\n  width: 100%;\n  height: 1.5px;\n  background: $light-border-color;\n}\n\n.selected-line {\n  position: absolute;\n  height: 3px;\n  left: 0;\n  bottom: 0;\n  border-radius: 3px 3px 0 0;\n  background: $button-color;\n  transition-timing-function: cubic-bezier(0.35, 0, 0.25, 1);\n  z-index: 1;\n\n  &.tab-drag {\n    bottom: -1.5px;\n    right: 0;\n    display: none;\n  }\n}\n\n#section {\n  position: relative;\n  flex: 1;\n  padding: 40px 20px;\n  overflow: hidden;\n\n  & > div {\n    transition: opacity $views-transition, transform $views-transition;\n  }\n}\n\n/* transitions */\n\n.slide-left-leave-to,\n.slide-right-enter-from {\n  transform: translateX(-50px);\n  opacity: 0;\n}\n\n.slide-left-enter-from,\n.slide-right-leave-to {\n  transform: translateX(50px);\n  opacity: 0;\n}\n</style>\n","<template>\r\n  <transition name=\"opacity\">\r\n    <div\r\n      v-if=\"visible\"\r\n      id=\"spinner\"\r\n      class=\"flex-center\"\r\n      :class=\"{ background }\"\r\n    >\r\n      <img\r\n        src=\"@/assets/img/spinner.svg\"\r\n        :style=\"{ width: size, height: size }\"\r\n      />\r\n      <slot></slot>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Spinner\",\r\n  props: {\r\n    visible: Boolean,\r\n    background: Boolean,\r\n    size: {\r\n      type: String,\r\n      default: \"200px\",\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#spinner {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n\r\n  &.background {\r\n    background: white;\r\n  }\r\n\r\n  /* Experimental */\r\n  transform: translate3d(0, 0, 0);\r\n  will-change: opacity, transform;\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Spinner\",\r\n  props: {\r\n    visible: Boolean,\r\n    background: Boolean,\r\n    size: {\r\n      type: String,\r\n      default: \"200px\",\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Spinner.vue?vue&type=template&id=65451572&scoped=true\"\nimport script from \"./Spinner.vue?vue&type=script&lang=ts\"\nexport * from \"./Spinner.vue?vue&type=script&lang=ts\"\n\nimport \"./Spinner.vue?vue&type=style&index=0&id=65451572&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-65451572\"\n\nexport default script","\nimport { defineComponent } from \"vue\";\nimport { User, ClassInfo } from \"@/store/state\";\nimport { MutationTypes } from \"@/store/mutations\";\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\nimport { SlickList, SlickItem } from \"vue-slicksort\";\nimport Spinner from \"@/components/Spinner.vue\";\nimport { formatNum } from \"@/scripts/utils\";\n\ninterface DropdownInfo {\n  id: string;\n  title: string;\n  name: string;\n  list: DropdownItem[];\n}\n\nexport default defineComponent({\n  name: \"Class\",\n  components: {\n    Dropdown,\n    SlickList,\n    SlickItem,\n    Spinner,\n  },\n  data() {\n    return {\n      classURL: \"\",\n      showSpinner: false,\n      tabs: [\n        { name: \"Ocjene\", icon: \"grade\" },\n        { name: \"Biljeke\", icon: \"edit\" },\n        { name: \"Ispiti\", icon: \"event_note\" },\n        { name: \"Izostanci\", icon: \"timer_off\" },\n        { name: \"Vladanja\", icon: \"error\" },\n        { name: \"Raspored\", icon: \"date_range\" },\n        { name: \"Statistika\", icon: \"show_chart\" },\n      ],\n      visibleDropdown: \"\",\n      sectionTransition: \"\",\n    };\n  },\n  beforeMount() {\n    if (!this.user) return;\n    const _tabs = this.user.settings.classTabsOrder;\n    if (!_tabs) return;\n    this.tabs = _tabs.map((name) => this.tabs.find((tab) => tab.name == name)!);\n  },\n  mounted() {\n    this.$nextTick(this.classChanged);\n    this.$emitter.on(\"main-scrolled\", this.mainScrolled);\n    new (window as any).ResizeObserver(() => this.userNavigated()).observe(\n      this.getSectionsContainer(),\n    );\n  },\n  beforeUnmount() {\n    this.$emitter.off(\"main-scrolled\", this.mainScrolled);\n    /* ResizeObserver is automatically unobserved on reference deletion! */\n  },\n  methods: {\n    tabsSortingEvent(started: boolean) {\n      const line = this.$refs.selectedLine as HTMLElement;\n      const sections = this.getSectionsContainer();\n      for (const anchor of sections.querySelectorAll(\"a\")) {\n        const _line = anchor.lastElementChild as HTMLElement;\n        const s = started && anchor.classList.contains(\"router-link-active\");\n        _line.style.display = s ? \"block\" : \"none\";\n      }\n      line.style.display = started ? \"none\" : \"block\";\n    },\n    tabsOrderChanged() {\n      this.user &&\n        this.$store.commit(MutationTypes.UPDATE_CLASS_TABS_ORDER, {\n          user: this.user,\n          tabs: this.tabs.map((tab) => tab.name),\n        });\n      const sections = this.getSectionsContainer();\n      sections.classList.add(\"no-transition\");\n      this.$nextTick(() => {\n        this.userNavigated();\n        sections.classList.remove(\"no-transition\");\n      });\n    },\n    classChanged() {\n      if (!this.user) return;\n      let classId = this.$route.params.classId as string;\n      if (classId == \"-\") {\n        // Match the newest class by default\n        classId = this.user.classesList[0].url.match(/\\d+/)![0];\n        this.$router.replace({ params: { classId } });\n      }\n      this.classURL = classId;\n    },\n    userNavigated(to?: string) {\n      const line = this.$refs.selectedLine as HTMLElement;\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      const { offsetLeft, offsetWidth } = ((to &&\n        [...sections.querySelectorAll(\"a\")].find(\n          (s) => s.getAttribute(\"href\") == to,\n        )) ||\n        sections.querySelector(\".router-link-active\")) as HTMLElement;\n      line.style.transition = to ? \"width 500ms, transform 500ms\" : \"none\";\n      line.style.transform = `translateX(${offsetLeft}px)`;\n      line.style.width = offsetWidth + \"px\";\n      const user = document.getElementById(\"user\");\n      if (user)\n        (this.$refs.classInfo as HTMLElement).style.marginRight =\n          user.offsetWidth + \"px\";\n    },\n    mainScrolled() {\n      const sections = this.getSectionsContainer();\n      if (!sections) return;\n      const main = document.getElementById(\"main\")!;\n      const user = document.getElementById(\"user\")!;\n      const short = main.scrollTop > 30;\n      sections.style.paddingRight = short ? user.offsetWidth + 40 + \"px\" : \"\";\n      sections.className = short ? \"sticky\" : \"\";\n      user.classList[short ? \"add\" : \"remove\"](\"card\");\n    },\n    closeDropdown(id: string) {\n      if (id == this.visibleDropdown) this.visibleDropdown = \"\";\n    },\n    getDropdownList(filterBy?: \"headTeacher\" | \"school\"): DropdownItem[] {\n      return (\n        filterBy\n          ? this.classesList.filter((c) => c[filterBy] == this[filterBy])\n          : this.classesList\n      ).map((classInfo) => ({\n        name: filterBy ? this[filterBy] : classInfo.year,\n        alignRight: classInfo.name,\n        link: { params: { classId: classInfo.url.match(/\\d+/)![0] } },\n        active: classInfo.url.includes(this.classURL),\n      }));\n    },\n    getPathName(path: string): string {\n      return path.slice(path.lastIndexOf(\"/\") + 1);\n    },\n    getSectionsContainer(): HTMLElement {\n      return this.$refs.sectionsContainer as HTMLElement;\n    },\n  },\n  computed: {\n    /* TODO: FIX mapGetters TYPES */\n    user(): User | undefined {\n      return this.$store.getters.user;\n    },\n    openedClassInfo(): ClassInfo | undefined {\n      return this.$store.getters.classInfo(\n        this.$route.params.classId as string,\n      );\n    },\n    classesList(): ClassInfo[] {\n      return this.user ? this.user.classesList : [];\n    },\n    headTeacher(): string {\n      return this.openedClassInfo ? this.openedClassInfo.headTeacher || \"\" : \"\";\n    },\n    school(): string {\n      return this.openedClassInfo ? this.openedClassInfo.school : \"\";\n    },\n    dropdowns(): DropdownInfo[] {\n      return [\n        {\n          id: \"year\",\n          title: \"Godina:\",\n          name: this.openedClassInfo ? this.openedClassInfo.year : \"\",\n          list: this.getDropdownList(),\n        },\n        {\n          id: \"headteacher\",\n          title: \"Razrednik:\",\n          name: this.headTeacher,\n          list: this.getDropdownList(\"headTeacher\"),\n        },\n        {\n          id: \"school\",\n          title: \"kola:\",\n          name: this.school,\n          list: this.getDropdownList(\"school\"),\n        },\n      ];\n    },\n    confirmedFinalGrade(): string {\n      const finalGrade =\n        this.openedClassInfo && this.openedClassInfo.finalGrade;\n      return finalGrade ? formatNum(finalGrade) : \"\";\n    },\n    tabNames(): string[] {\n      return this.tabs.map((tab) => tab.name.toLowerCase());\n    },\n  },\n  watch: {\n    $route(to, from) {\n      /* this.showSpinner = true; */\n      this.classChanged();\n      this.userNavigated(to.href);\n      const fromIdx = this.tabNames.indexOf(this.getPathName(from.path));\n      const toIdx = this.tabNames.indexOf(this.getPathName(to.path));\n      this.sectionTransition = toIdx < fromIdx ? \"slide-right\" : \"slide-left\";\n    },\n  },\n});\n","import { render } from \"./Class.vue?vue&type=template&id=0a54bb05&scoped=true\"\nimport script from \"./Class.vue?vue&type=script&lang=ts\"\nexport * from \"./Class.vue?vue&type=script&lang=ts\"\n\nimport \"./Class.vue?vue&type=style&index=0&id=0a54bb05&lang=scss\"\nimport \"./Class.vue?vue&type=style&index=1&id=0a54bb05&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0a54bb05\"\n\nexport default script","<template>\n  <div id=\"subjects\">\n    <div id=\"summary\" class=\"card\">\n      <div class=\"flex-center\">\n        Zavrna ocjena:\n        <div\n          id=\"final-grade-original\"\n          v-tooltip.top-start=\"{\n            content:\n              'Prosjek svih zakljunih ocjena (zavrni uspjeh).<br>' +\n              'Ako ocjena iz nekog predmeta nije zakljuena, zaokruuje se aritmetika sredina.' +\n              '<br>Ako predmet nema ocjena, ne uraunava se u prosjek.',\n            html: true,\n          }\"\n        >\n          {{ formatNum(finalGradeOriginal) }}\n        </div>\n        <transition name=\"opacity\">\n          <div\n            v-if=\"finalGradeOriginal != finalGrade && !isNaN(finalGrade)\"\n            id=\"final-grade\"\n            v-tooltip.top-start=\"{\n              content: 'Prosjek zaokruenih aritmetikih sredina.',\n              html: true,\n            }\"\n            :style=\"{\n              color: finalGradeOriginal > finalGrade ? 'green' : 'red',\n            }\"\n          >\n            <transition :name=\"finalGradeTransition\" mode=\"out-in\">\n              <div v-bind:key=\"finalGradeTransition\">\n                {{ formatNum(finalGrade) }}\n              </div>\n            </transition>\n          </div>\n        </transition>\n      </div>\n      <div id=\"options\" class=\"flex-center\">\n        <span\n          v-for=\"(option, i) in options\"\n          :key=\"i\"\n          class=\"material-icons flex-center\"\n          :class=\"{ 'option-enabled': option.enabled }\"\n          :style=\"{ 'font-size': option.fontSize || '24px' }\"\n          v-tooltip=\"option.tooltip\"\n          v-wave\n          @click=\"optionClicked(option)\"\n          >{{ option.icon }}</span\n        >\n      </div>\n    </div>\n    <SlickList\n      id=\"subjects-list\"\n      :class=\"{ sorting: subjectsSorting }\"\n      v-model:list=\"subjects\"\n      axis=\"xy\"\n      helperClass=\"dragged-subject\"\n      :lockOffset=\"15\"\n      :lockToContainerEdges=\"true\"\n      :distance=\"5\"\n      @sort-start=\"subjectsSortingEvent(true)\"\n      @sort-end=\"subjectsSortingEvent(false)\"\n      @sort-cancel=\"subjectsSortingEvent(false)\"\n      @update:list=\"subjectsOrderChanged\"\n    >\n      <SlickItem\n        v-for=\"(subject, i) in subjects\"\n        :key=\"i\"\n        :index=\"i\"\n        class=\"subject\"\n        :class=\"{ 'expanded-keep': subject.expandedKeep }\"\n        @mouseenter=\"subjectMouseEnter($event, subject)\"\n        @mouseleave=\"subjectMouseLeave(subject)\"\n      >\n        <div\n          class=\"subject-head card\"\n          :ref=\"subject.url + 'head'\"\n          :style=\"{ 'margin-bottom': subject.marginBottom }\"\n        >\n          <div class=\"subject-info\" @wheel=\"onSubjectInfoWheel\">\n            <div class=\"subject-name\">{{ subject.name }}</div>\n            <div class=\"teachers\">{{ subject.teachers }}</div>\n          </div>\n          <div class=\"grade-count\">\n            {{ getSubjectGradesCount(subject, subject.gradesByCategory) }}\n          </div>\n          <div\n            class=\"grade-avg flex-center\"\n            contenteditable=\"true\"\n            @input=\"avgInputted($event, subject)\"\n            @focus=\"avgFocusChanged\"\n            @blur=\"avgFocusChanged\"\n          >\n            {{\n              formatNum(getSubjectGradesAvg(subject, subject.gradesByCategory))\n            }}\n          </div>\n          <transition name=\"subject-colors\">\n            <div v-if=\"savedOptions.subjectColors\" class=\"subject-colors\"></div>\n          </transition>\n        </div>\n        <transition name=\"subject-body\">\n          <div\n            v-show=\"subject.expanded || subject.expandedKeep\"\n            class=\"subject-body card\"\n            :ref=\"subject.url + 'body'\"\n          >\n            <table\n              v-if=\"subject.gradesByCategory && subject.gradesByCategory.length\"\n            >\n              <thead>\n                <tr>\n                  <td>\n                    <div\n                      class=\"pin-subject\"\n                      :class=\"{ pinned: subject.expandedKeep }\"\n                      @click=\"expandSubject(subject, !subject.expandedKeep)\"\n                    >\n                      <span class=\"material-icons\"> keyboard_capslock </span>\n                      Zadri\n                    </div>\n                  </td>\n                  <td>IX</td>\n                  <td>X</td>\n                  <td>XI</td>\n                  <td>XII</td>\n                  <td>I</td>\n                  <td>II</td>\n                  <td>III</td>\n                  <td>IV</td>\n                  <td>V</td>\n                  <td>VI</td>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(row, i) in subject.gradesByCategory\" :key=\"i\">\n                  <td v-tooltip=\"row.name\" :key=\"tooltipKey\">\n                    {{ row.name }}\n                  </td>\n                  <td\n                    v-for=\"(grades, j) in row.grades\"\n                    :key=\"j\"\n                    contenteditable=\"true\"\n                    @input=\"gradeInputted($event, grades)\"\n                  >\n                    {{ grades.join(\", \") }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div v-else class=\"no-grades\">Predmet nema ocjena.</div>\n          </div>\n        </transition>\n      </SlickItem>\n    </SlickList>\n\n    <!-- SUBJECT -->\n    <router-view v-slot=\"{ Component }\">\n      <transition name=\"opacity\">\n        <component :is=\"Component\" />\n      </transition>\n    </router-view>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\nimport { SlickList, SlickItem } from \"vue-slicksort\";\nimport { updateSubjects } from \"@/scripts/scrapers\";\nimport { User, ClassInfo, SubjectCache, GradesByCategory } from \"@/store/state\";\nimport { formatNum, parseNum, setEndOfContenteditable } from \"@/scripts/utils\";\n\n/* import Spinner from \"@/components/Spinner.vue\";\n */\n\ninterface ExtendedSubjectCache extends SubjectCache {\n  expanded: boolean;\n  expandedKeep: boolean;\n  marginBottom?: string;\n  gradesByCategoryOriginal: GradesByCategory[];\n  gradesCount: number;\n  gradesAvg: number;\n}\n\ninterface Option {\n  icon: string;\n  tooltip: string;\n  name: string;\n  fontSize?: string;\n  enabled?: boolean;\n}\n\nexport default defineComponent({\n  name: \"Subjects\",\n  components: { SlickList, SlickItem /* Spinner */ },\n  props: { classURL: String },\n  /* emits: [\"sectionLoading\", \"sectionLoaded\"], */ // TODO: FIX TS ERROR ???\n  created() {\n    this.updateSubjects();\n  },\n  data() {\n    return {\n      tooltipKey: 1,\n      savedOptions: {\n        subjectColors: false,\n      },\n      options: [\n        {\n          icon: \"unfold_more\",\n          tooltip: \"Otvori sve tablice\",\n          enabled: false,\n          name: \"expandTables\",\n        },\n        {\n          icon: \"zoom_in\",\n          tooltip: \"Poveaj prikaz\",\n          name: \"zoomIn\",\n        },\n        {\n          icon: \"zoom_out\",\n          tooltip: \"Smanji prikaz\",\n          name: \"zoomOut\",\n        },\n        {\n          icon: \"border_color\",\n          tooltip: \"Prikai boje ocjena\",\n          fontSize: \"19px\",\n          name: \"subjectColors\",\n          enabled: false,\n        },\n        {\n          icon: \"functions\",\n          tooltip: \"Zbroji zakljune ocjene\",\n          name: \"countAvgs\",\n        },\n        {\n          icon: \"import_export\",\n          tooltip: \"Sortiraj predmete\",\n          name: \"sortSubjects\",\n        },\n        {\n          icon: \"sync\",\n          tooltip: \"Auriraj sve ocjene\",\n          name: \"updateSubjects\",\n        },\n      ] as Option[],\n      subjects: [] as ExtendedSubjectCache[],\n      subjectsLoading: false,\n      subjectsSorting: false,\n      finalGradeOriginal: 0,\n      finalGradeTransition: \"number-up\",\n    };\n  },\n  methods: {\n    async updateSubjects(forceUpdate?: true) {\n      if (!this.openedClassInfo || this.subjectsLoading) return;\n      this.$emit(\"sectionLoading\");\n      this.subjectsLoading = true;\n      if (!(await updateSubjects(this.openedClassInfo, forceUpdate))) return;\n      this.subjectsLoading = false;\n      this.$emit(\"sectionLoaded\");\n      this.resetSubjects();\n    },\n    resetSubjects() {\n      const cached =\n        this.openedClassInfo && this.openedClassInfo.cachedSubjects;\n      if (!cached || !cached.length) return;\n      this.subjects = cached.map((subject) => ({\n        ...subject,\n        gradesByCategoryOriginal: JSON.parse(\n          JSON.stringify(subject.gradesByCategory || []),\n        ),\n      })) as ExtendedSubjectCache[];\n      this.finalGradeOriginal = this.getFinalGradeOriginal();\n    },\n    subjectMouseEnter(e: MouseEvent, subject: ExtendedSubjectCache) {\n      const target = e.target as HTMLElement;\n      setTimeout(() => (subject.expanded = target.matches(\":hover\")), 150);\n    },\n    subjectMouseLeave(subject: ExtendedSubjectCache) {\n      subject.expanded = false;\n    },\n    onSubjectInfoWheel(e: WheelEvent) {\n      const path = ((e as any).path ||\n        (e.composedPath && e.composedPath()) ||\n        []) as HTMLElement[];\n      const target = path.find((el) => el.className == \"subject-info\");\n      if (!target) return;\n      const toLeft = e.deltaY < 0 && target.scrollLeft > 0;\n      const toRight =\n        e.deltaY > 0 &&\n        target.scrollLeft < target.scrollWidth - target.clientWidth;\n      if (toLeft || toRight) {\n        e.preventDefault();\n        target.scrollBy({ left: e.deltaY, behavior: \"smooth\" });\n      }\n    },\n    subjectsSortingEvent(started: boolean) {\n      this.subjectsSorting = started;\n    },\n    subjectsOrderChanged() {\n      this.tooltipKey += 1; // todo: fix tooltip reactivity bug\n    },\n    expandSubject(subject: ExtendedSubjectCache, expand: boolean) {\n      subject.expandedKeep = expand;\n      this.$nextTick(() => {\n        const subjectBody = this.$refs[subject.url + \"body\"] as HTMLElement;\n        const margin = expand ? subjectBody.offsetHeight + 10 + \"px\" : \"0px\";\n        subject.marginBottom = margin;\n      });\n    },\n    optionClicked(option: Option) {\n      if (option.enabled !== undefined) option.enabled = !option.enabled;\n      const enabled = option.enabled || false;\n      switch (option.name) {\n        case \"subjectColors\":\n          this.savedOptions.subjectColors = enabled;\n          break;\n        case \"expandTables\":\n          this.subjects.forEach((s) => this.expandSubject(s, enabled));\n          break;\n      }\n    },\n    gradeInputted(e: InputEvent, grades: number[]) {\n      const target = e.target as HTMLElement;\n      const _grades = (target.textContent as string).match(/[1-5]/g);\n      target.textContent = _grades ? _grades.join(\", \") : \"\";\n      grades.length = 0;\n      grades.push(...(_grades ? _grades.map(Number) : []));\n      this.$nextTick(() => target && setEndOfContenteditable(target));\n    },\n    avgInputted(e: InputEvent, subject: ExtendedSubjectCache) {\n      const target = e.target as HTMLElement;\n      if (!target.textContent) {\n        subject.gradesAvg = NaN;\n      } else if (e.data && /[1-5]/.test(e.data)) {\n        subject.gradesAvg = parseInt(e.data);\n        target.textContent = e.data;\n      } else {\n        target.textContent = \"\";\n      }\n      this.$nextTick(() => target && setEndOfContenteditable(target));\n    },\n    avgFocusChanged(e: FocusEvent) {\n      const target = e.target as HTMLElement;\n      if (e.type == \"focus\" && target.textContent == \"\") {\n        target.textContent = \"\";\n      } else if (e.type == \"blur\" && !target.textContent) {\n        target.textContent = \"\";\n      }\n    },\n    getSubjectGradesCount(\n      subject: ExtendedSubjectCache,\n      gradesByCategory?: GradesByCategory[],\n      original?: boolean,\n    ): number {\n      const gradesCount = (gradesByCategory || []).reduce((a, row) => {\n        return a + row.grades.flat().length;\n      }, 0);\n      if (!original) subject.gradesCount = gradesCount;\n      return gradesCount;\n    },\n    getSubjectGradesAvg(\n      subject: ExtendedSubjectCache,\n      gradesByCategory?: GradesByCategory[],\n      original?: boolean,\n    ): number {\n      const gradesAvg =\n        (gradesByCategory || []).reduce((a, row) => {\n          return a + row.grades.flat().reduce((b, grade) => b + grade, 0);\n        }, 0) / this.getSubjectGradesCount(subject, gradesByCategory, original);\n      if (!original) subject.gradesAvg = gradesAvg;\n      return gradesAvg;\n    },\n    getFinalGradeOriginal(): number {\n      const subjectsWithGrades = this.subjects.filter((subject) => {\n        const params = [subject, subject.gradesByCategoryOriginal, true];\n        return (this.getSubjectGradesCount as any)(...params);\n      });\n      return (\n        subjectsWithGrades.reduce((a, subject) => {\n          if (subject.finalGrade) return a + subject.finalGrade;\n          const params = [subject, subject.gradesByCategoryOriginal, true];\n          return a + Math.round((this.getSubjectGradesAvg as any)(...params));\n        }, 0) / subjectsWithGrades.length\n      );\n    },\n    formatNum: (num: number): string => formatNum(num),\n  },\n  computed: {\n    user(): User | undefined {\n      return this.$store.getters.user;\n    },\n    openedClassInfo(): ClassInfo | undefined {\n      return this.$store.getters.classInfo(this.classURL || \"\");\n    },\n    allSubjectsExpanded(): boolean {\n      return this.subjects.every((subject) => subject.expandedKeep);\n    },\n    finalGrade(): number {\n      const subjectsWithGrades = this.subjects.filter((subject) => {\n        return !isNaN(subject.gradesAvg);\n      });\n      return (\n        subjectsWithGrades.reduce((a, subject) => {\n          return a + Math.round(subject.gradesAvg);\n        }, 0) / subjectsWithGrades.length\n      );\n    },\n  },\n  watch: {\n    classURL(to, from) {\n      from && this.updateSubjects();\n    },\n    allSubjectsExpanded(yes) {\n      this.options.find((o) => o.tooltip == \"Otvori sve tablice\")!.enabled =\n        yes;\n    },\n    finalGrade(_new, prev) {\n      this.finalGradeTransition = _new > prev ? \"number-up\" : \"number-down\";\n      console.log(this.finalGradeTransition);\n    },\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n$subject-peek-duration: 150ms;\n$subject-peek-delay: 150ms;\n\n#subjects {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n#summary {\n  flex: 1 1 100%;\n  display: flex;\n  font-size: 24px;\n  padding: 0 30px;\n  margin: 0 10px 40px;\n  color: $main-color;\n  background: linear-gradient(\n      45deg,\n      transparent 55%,\n      #e3eaf1 65%,\n      aliceblue calc(65% + 10px)\n    ),\n    linear-gradient(-45deg, white 65%, #e3eaf1 calc(75% - 10px), aliceblue 75%);\n}\n\n#final-grade-original {\n  padding-left: 10px;\n}\n\n#final-grade {\n  border-left: 1px solid $light-border-color;\n  padding-left: 10px;\n  margin-left: 10px;\n  transition: color 500ms;\n}\n\n#options {\n  color: $user-color;\n  margin-left: auto;\n\n  & > span {\n    width: 24px;\n    height: 24px;\n    padding: 10px 10px;\n    transition: background-color 150ms;\n\n    &:hover {\n      cursor: pointer;\n      background: #dfebf5;\n    }\n  }\n}\n\n.option-enabled {\n  color: $navbar-selected-text-color;\n}\n\n/* subjects */\n\n#subjects-list {\n  flex: 1 1 100%;\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));\n\n  &.sorting > .subject {\n    pointer-events: none;\n    user-select: none;\n  }\n}\n\n.subject {\n  position: relative;\n  margin: 5px 10px;\n  white-space: nowrap;\n\n  &.expanded-keep > div {\n    background: white;\n    transition-delay: unset !important;\n  }\n\n  &:hover {\n    & > div {\n      background: aliceblue;\n    }\n\n    & > .subject-head {\n      z-index: 4;\n      transition: background-color $subject-peek-duration $subject-peek-delay,\n        margin-bottom 500ms;\n    }\n\n    & > .subject-body {\n      z-index: 3;\n      transition: background-color $subject-peek-duration $subject-peek-delay,\n        opacity $subject-peek-duration, transform $subject-peek-duration;\n    }\n  }\n}\n\n.dragged-subject > .subject-head {\n  background: white;\n  transition: none;\n}\n\n/* subject head */\n\n.subject-head {\n  position: relative;\n  height: 44px;\n  display: flex;\n  align-items: center;\n  overflow: hidden;\n  border-radius: 8px;\n  background: transparent;\n  margin-bottom: 0;\n  transition: background-color $subject-peek-duration $subject-peek-delay,\n    margin-bottom 500ms, z-index 0ms $subject-peek-duration;\n  z-index: 2;\n  transform: translateZ(0);\n  will-change: margin, margin-bottom;\n}\n\n.subject-info {\n  display: flex;\n  overflow-x: auto;\n  margin: 0 auto 0 30px;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n}\n\n.subject-name {\n  color: $hovered-text-button;\n  font-weight: bold;\n}\n\n.teachers,\n.grade-count {\n  color: $light-gray-text;\n  border-left: 1px solid $light-border-color;\n  margin-left: 15px;\n}\n\n.teachers {\n  padding-right: 30px;\n  padding-left: 15px;\n}\n\n.grade-count {\n  position: relative;\n  flex-shrink: 0;\n  width: 50px;\n  text-align: center;\n\n  &::after {\n    content: \"\";\n    position: absolute;\n    left: -45px;\n    height: 100%;\n    width: 30px;\n    background: linear-gradient(to right, transparent, white);\n  }\n}\n\n.grade-avg {\n  flex-shrink: 0;\n  height: 100%;\n  line-height: 44px;\n  width: 75px;\n  border-left: 1px solid $light-border-color;\n  border-radius: 8px;\n  text-align: center;\n  box-shadow: 0 0 5px #cacccc;\n  clip-path: inset(1px 1px 1px -5px);\n  outline: none;\n}\n\n.subject-colors {\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  height: 4px;\n  background: red;\n  transition: opacity 500ms, transform 500ms;\n  transform-origin: left;\n}\n\n/* subject body */\n\n.subject-body {\n  position: absolute;\n  left: -4px;\n  right: -4px;\n  padding-top: 10px;\n  top: 40px;\n  font-size: 14px;\n  background: white;\n  transition: background-color $subject-peek-duration $subject-peek-delay,\n    opacity $subject-peek-duration, transform $subject-peek-duration,\n    z-index 0ms $subject-peek-duration;\n  transform-origin: top;\n  overflow: hidden;\n  z-index: 1;\n}\n\n.pin-subject {\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  user-select: none;\n  transition: color 150ms;\n\n  &.pinned {\n    color: $button-color;\n  }\n\n  span {\n    padding: 0 10px 0 24px;\n  }\n}\n\ntable {\n  table-layout: fixed;\n  white-space: pre-line;\n  width: 100%;\n  border-spacing: 0;\n}\n\nthead {\n  font-weight: bold;\n}\n\ntd {\n  border: 1px solid #eeeeee;\n  border-radius: 4px;\n  text-align: center;\n  padding: 3px 5px;\n  overflow: hidden;\n  outline: none;\n\n  &:first-child {\n    width: 150px;\n    text-align: left;\n    white-space: pre;\n    text-overflow: ellipsis;\n  }\n}\n\n.no-grades {\n  text-align: center;\n  padding: 10px;\n}\n\n/* transitions */\n\n.number-up-active,\n.number-down-active,\n.number-up-active,\n.number-down-active {\n  transition: 1s !important;\n}\n\n.number-up-enter-from,\n.number-down-leave-to {\n  opacity: 0;\n  transform: translateY(-10px);\n}\n\n.number-down-enter-from,\n.number-up-leave-to {\n  opacity: 0;\n  transform: translateY(10px);\n}\n\n.subject-colors-enter-from,\n.subject-colors-leave-to {\n  opacity: 0;\n  transform: scaleX(0);\n}\n\n.subject-body-enter-from {\n  opacity: 0;\n  transform: scaleY(0.5) translateY(-10px);\n}\n.subject-body-leave-to {\n  opacity: 0;\n  transform: scale(0.97);\n}\n</style>\n","\nimport { defineComponent } from \"vue\";\nimport { SlickList, SlickItem } from \"vue-slicksort\";\nimport { updateSubjects } from \"@/scripts/scrapers\";\nimport { User, ClassInfo, SubjectCache, GradesByCategory } from \"@/store/state\";\nimport { formatNum, parseNum, setEndOfContenteditable } from \"@/scripts/utils\";\n\n/* import Spinner from \"@/components/Spinner.vue\";\n */\n\ninterface ExtendedSubjectCache extends SubjectCache {\n  expanded: boolean;\n  expandedKeep: boolean;\n  marginBottom?: string;\n  gradesByCategoryOriginal: GradesByCategory[];\n  gradesCount: number;\n  gradesAvg: number;\n}\n\ninterface Option {\n  icon: string;\n  tooltip: string;\n  name: string;\n  fontSize?: string;\n  enabled?: boolean;\n}\n\nexport default defineComponent({\n  name: \"Subjects\",\n  components: { SlickList, SlickItem /* Spinner */ },\n  props: { classURL: String },\n  /* emits: [\"sectionLoading\", \"sectionLoaded\"], */ // TODO: FIX TS ERROR ???\n  created() {\n    this.updateSubjects();\n  },\n  data() {\n    return {\n      tooltipKey: 1,\n      savedOptions: {\n        subjectColors: false,\n      },\n      options: [\n        {\n          icon: \"unfold_more\",\n          tooltip: \"Otvori sve tablice\",\n          enabled: false,\n          name: \"expandTables\",\n        },\n        {\n          icon: \"zoom_in\",\n          tooltip: \"Poveaj prikaz\",\n          name: \"zoomIn\",\n        },\n        {\n          icon: \"zoom_out\",\n          tooltip: \"Smanji prikaz\",\n          name: \"zoomOut\",\n        },\n        {\n          icon: \"border_color\",\n          tooltip: \"Prikai boje ocjena\",\n          fontSize: \"19px\",\n          name: \"subjectColors\",\n          enabled: false,\n        },\n        {\n          icon: \"functions\",\n          tooltip: \"Zbroji zakljune ocjene\",\n          name: \"countAvgs\",\n        },\n        {\n          icon: \"import_export\",\n          tooltip: \"Sortiraj predmete\",\n          name: \"sortSubjects\",\n        },\n        {\n          icon: \"sync\",\n          tooltip: \"Auriraj sve ocjene\",\n          name: \"updateSubjects\",\n        },\n      ] as Option[],\n      subjects: [] as ExtendedSubjectCache[],\n      subjectsLoading: false,\n      subjectsSorting: false,\n      finalGradeOriginal: 0,\n      finalGradeTransition: \"number-up\",\n    };\n  },\n  methods: {\n    async updateSubjects(forceUpdate?: true) {\n      if (!this.openedClassInfo || this.subjectsLoading) return;\n      this.$emit(\"sectionLoading\");\n      this.subjectsLoading = true;\n      if (!(await updateSubjects(this.openedClassInfo, forceUpdate))) return;\n      this.subjectsLoading = false;\n      this.$emit(\"sectionLoaded\");\n      this.resetSubjects();\n    },\n    resetSubjects() {\n      const cached =\n        this.openedClassInfo && this.openedClassInfo.cachedSubjects;\n      if (!cached || !cached.length) return;\n      this.subjects = cached.map((subject) => ({\n        ...subject,\n        gradesByCategoryOriginal: JSON.parse(\n          JSON.stringify(subject.gradesByCategory || []),\n        ),\n      })) as ExtendedSubjectCache[];\n      this.finalGradeOriginal = this.getFinalGradeOriginal();\n    },\n    subjectMouseEnter(e: MouseEvent, subject: ExtendedSubjectCache) {\n      const target = e.target as HTMLElement;\n      setTimeout(() => (subject.expanded = target.matches(\":hover\")), 150);\n    },\n    subjectMouseLeave(subject: ExtendedSubjectCache) {\n      subject.expanded = false;\n    },\n    onSubjectInfoWheel(e: WheelEvent) {\n      const path = ((e as any).path ||\n        (e.composedPath && e.composedPath()) ||\n        []) as HTMLElement[];\n      const target = path.find((el) => el.className == \"subject-info\");\n      if (!target) return;\n      const toLeft = e.deltaY < 0 && target.scrollLeft > 0;\n      const toRight =\n        e.deltaY > 0 &&\n        target.scrollLeft < target.scrollWidth - target.clientWidth;\n      if (toLeft || toRight) {\n        e.preventDefault();\n        target.scrollBy({ left: e.deltaY, behavior: \"smooth\" });\n      }\n    },\n    subjectsSortingEvent(started: boolean) {\n      this.subjectsSorting = started;\n    },\n    subjectsOrderChanged() {\n      this.tooltipKey += 1; // todo: fix tooltip reactivity bug\n    },\n    expandSubject(subject: ExtendedSubjectCache, expand: boolean) {\n      subject.expandedKeep = expand;\n      this.$nextTick(() => {\n        const subjectBody = this.$refs[subject.url + \"body\"] as HTMLElement;\n        const margin = expand ? subjectBody.offsetHeight + 10 + \"px\" : \"0px\";\n        subject.marginBottom = margin;\n      });\n    },\n    optionClicked(option: Option) {\n      if (option.enabled !== undefined) option.enabled = !option.enabled;\n      const enabled = option.enabled || false;\n      switch (option.name) {\n        case \"subjectColors\":\n          this.savedOptions.subjectColors = enabled;\n          break;\n        case \"expandTables\":\n          this.subjects.forEach((s) => this.expandSubject(s, enabled));\n          break;\n      }\n    },\n    gradeInputted(e: InputEvent, grades: number[]) {\n      const target = e.target as HTMLElement;\n      const _grades = (target.textContent as string).match(/[1-5]/g);\n      target.textContent = _grades ? _grades.join(\", \") : \"\";\n      grades.length = 0;\n      grades.push(...(_grades ? _grades.map(Number) : []));\n      this.$nextTick(() => target && setEndOfContenteditable(target));\n    },\n    avgInputted(e: InputEvent, subject: ExtendedSubjectCache) {\n      const target = e.target as HTMLElement;\n      if (!target.textContent) {\n        subject.gradesAvg = NaN;\n      } else if (e.data && /[1-5]/.test(e.data)) {\n        subject.gradesAvg = parseInt(e.data);\n        target.textContent = e.data;\n      } else {\n        target.textContent = \"\";\n      }\n      this.$nextTick(() => target && setEndOfContenteditable(target));\n    },\n    avgFocusChanged(e: FocusEvent) {\n      const target = e.target as HTMLElement;\n      if (e.type == \"focus\" && target.textContent == \"\") {\n        target.textContent = \"\";\n      } else if (e.type == \"blur\" && !target.textContent) {\n        target.textContent = \"\";\n      }\n    },\n    getSubjectGradesCount(\n      subject: ExtendedSubjectCache,\n      gradesByCategory?: GradesByCategory[],\n      original?: boolean,\n    ): number {\n      const gradesCount = (gradesByCategory || []).reduce((a, row) => {\n        return a + row.grades.flat().length;\n      }, 0);\n      if (!original) subject.gradesCount = gradesCount;\n      return gradesCount;\n    },\n    getSubjectGradesAvg(\n      subject: ExtendedSubjectCache,\n      gradesByCategory?: GradesByCategory[],\n      original?: boolean,\n    ): number {\n      const gradesAvg =\n        (gradesByCategory || []).reduce((a, row) => {\n          return a + row.grades.flat().reduce((b, grade) => b + grade, 0);\n        }, 0) / this.getSubjectGradesCount(subject, gradesByCategory, original);\n      if (!original) subject.gradesAvg = gradesAvg;\n      return gradesAvg;\n    },\n    getFinalGradeOriginal(): number {\n      const subjectsWithGrades = this.subjects.filter((subject) => {\n        const params = [subject, subject.gradesByCategoryOriginal, true];\n        return (this.getSubjectGradesCount as any)(...params);\n      });\n      return (\n        subjectsWithGrades.reduce((a, subject) => {\n          if (subject.finalGrade) return a + subject.finalGrade;\n          const params = [subject, subject.gradesByCategoryOriginal, true];\n          return a + Math.round((this.getSubjectGradesAvg as any)(...params));\n        }, 0) / subjectsWithGrades.length\n      );\n    },\n    formatNum: (num: number): string => formatNum(num),\n  },\n  computed: {\n    user(): User | undefined {\n      return this.$store.getters.user;\n    },\n    openedClassInfo(): ClassInfo | undefined {\n      return this.$store.getters.classInfo(this.classURL || \"\");\n    },\n    allSubjectsExpanded(): boolean {\n      return this.subjects.every((subject) => subject.expandedKeep);\n    },\n    finalGrade(): number {\n      const subjectsWithGrades = this.subjects.filter((subject) => {\n        return !isNaN(subject.gradesAvg);\n      });\n      return (\n        subjectsWithGrades.reduce((a, subject) => {\n          return a + Math.round(subject.gradesAvg);\n        }, 0) / subjectsWithGrades.length\n      );\n    },\n  },\n  watch: {\n    classURL(to, from) {\n      from && this.updateSubjects();\n    },\n    allSubjectsExpanded(yes) {\n      this.options.find((o) => o.tooltip == \"Otvori sve tablice\")!.enabled =\n        yes;\n    },\n    finalGrade(_new, prev) {\n      this.finalGradeTransition = _new > prev ? \"number-up\" : \"number-down\";\n      console.log(this.finalGradeTransition);\n    },\n  },\n});\n","import { render } from \"./Subjects.vue?vue&type=template&id=859a18c6&scoped=true\"\nimport script from \"./Subjects.vue?vue&type=script&lang=ts\"\nexport * from \"./Subjects.vue?vue&type=script&lang=ts\"\n\nimport \"./Subjects.vue?vue&type=style&index=0&id=859a18c6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-859a18c6\"\n\nexport default script","<template>\r\n  <div id=\"subject\">PREDMET</div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Subject\",\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Subject\",\r\n});\r\n","import { render } from \"./Subject.vue?vue&type=template&id=ebab6462&scoped=true\"\nimport script from \"./Subject.vue?vue&type=script&lang=ts\"\nexport * from \"./Subject.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-ebab6462\"\n\nexport default script","<template>\n  <div id=\"notes\"></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Notes\",\n});\n</script>\n\n<style lang=\"scss\" scoped>\n#notes {\n  /* background: blue;\n  height: 200px; */\n}\n</style>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Notes\",\n});\n","import { render } from \"./Notes.vue?vue&type=template&id=b17fbd3c&scoped=true\"\nimport script from \"./Notes.vue?vue&type=script&lang=ts\"\nexport * from \"./Notes.vue?vue&type=script&lang=ts\"\n\nimport \"./Notes.vue?vue&type=style&index=0&id=b17fbd3c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-b17fbd3c\"\n\nexport default script","<template>\n<div></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Exams\",\n});\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Exams\",\n});\n","import { render } from \"./Exams.vue?vue&type=template&id=bb467c20&scoped=true\"\nimport script from \"./Exams.vue?vue&type=script&lang=ts\"\nexport * from \"./Exams.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-bb467c20\"\n\nexport default script","<template>\n<div></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Absences\",\n});\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Absences\",\n});\n","import { render } from \"./Absences.vue?vue&type=template&id=429a1f90&scoped=true\"\nimport script from \"./Absences.vue?vue&type=script&lang=ts\"\nexport * from \"./Absences.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-429a1f90\"\n\nexport default script","<template>\n<div></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Conduct\",\n});\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Conduct\",\n});\n","import { render } from \"./Conduct.vue?vue&type=template&id=a0747420&scoped=true\"\nimport script from \"./Conduct.vue?vue&type=script&lang=ts\"\nexport * from \"./Conduct.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-a0747420\"\n\nexport default script","<template>\n<div></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Schedule\",\n});\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Schedule\",\n});\n","import { render } from \"./Schedule.vue?vue&type=template&id=19eb6b36&scoped=true\"\nimport script from \"./Schedule.vue?vue&type=script&lang=ts\"\nexport * from \"./Schedule.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-19eb6b36\"\n\nexport default script","<template>\n  <div></div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Stats\",\n});\n</script>\n\n<style lang=\"scss\" scoped>\n\n</style>\n","\nimport { defineComponent } from \"vue\";\n\nexport default defineComponent({\n  name: \"Stats\",\n});\n","import { render } from \"./Stats.vue?vue&type=template&id=769d9b60&scoped=true\"\nimport script from \"./Stats.vue?vue&type=script&lang=ts\"\nexport * from \"./Stats.vue?vue&type=script&lang=ts\"\nscript.render = render\nscript.__scopeId = \"data-v-769d9b60\"\n\nexport default script","<template>\r\n  <div id=\"websites\">\r\n    <div\r\n      v-if=\"activeFrames.length > 1\"\r\n      id=\"urls\"\r\n      class=\"flex-center card\"\r\n      @click.self=\"showDropdown = !showDropdown\"\r\n    >\r\n      <span class=\"material-icons\"> link </span>\r\n      <Dropdown\r\n        :visible=\"showDropdown\"\r\n        :list=\"dropdown\"\r\n        sourceElementId=\"urls\"\r\n        @close=\"dropdownClosed\"\r\n      ></Dropdown>\r\n    </div>\r\n    <div id=\"iframe\">\r\n      <iframe\r\n        :src=\"activeFrame.url\"\r\n        @load=\"iframeLoaded\"\r\n        @error=\"iframeError\"\r\n        ref=\"iframe\"\r\n      ></iframe>\r\n      <Spinner :visible=\"showSpinner\"></Spinner>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { defineComponent } from \"vue\";\r\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\r\nimport Spinner from \"@/components/Spinner.vue\";\r\n\r\ninterface Website {\r\n  name: string;\r\n  url: string;\r\n  tooltip?: string;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Website\",\r\n  components: {\r\n    Dropdown,\r\n    Spinner,\r\n  },\r\n  data() {\r\n    return {\r\n      showSpinner: false,\r\n      showDropdown: false,\r\n      frames: {\r\n        \"kolska-stranica\": [\r\n          {\r\n            name: \"kolska stranica\",\r\n            url: \"http://www.ss-elektrotehnicka-zg.skole.hr/\",\r\n          },\r\n        ],\r\n        \"kolski-e-rudnik\": [\r\n          {\r\n            name: \"eR - kolski e-Rudnik (Vol. 2)\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiM2Q1NjVmZDEtMGUyMy00MDBiLTkzYWItYjBhMTA3MDFlOWUxIiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje statistike podatke o opem uspjehu uenika, njihovim ocjenama,<br> \" +\r\n              \"opravdanim i neopravdanim izostancima, pedagokim mjerama<br> \" +\r\n              \"te trendove po kolskim godinama.\",\r\n          },\r\n          {\r\n            name: \"eR - kolski e-Rudnik\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiZWE3YTE4OWQtOWJmNC00OTJmLWE2MjktYTQ5MWJlNDNlZDQ0IiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje adresar kolskih ustanova, geografsku distribuciju kola i uenika,<br> \" +\r\n              \"razne statistike podatke o kolama, uenicima i o obrazovnim programima<br> \" +\r\n              \"te demografske trendove po kolskim godinama.\",\r\n          },\r\n\r\n          {\r\n            name: \"eR - kolski e-Rudnik (Vol. 3)\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiOTUxNTE3YmQtM2E3MC00MDc0LTg3OTQtYTExZWZhYzU3Y2FlIiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje rezultate uenika na dravnoj maturi, njihove ocjene u zavrnim<br> \" +\r\n              \"razredima osnovnih i srednjih kola, trendove po kolskim godinama<br> \" +\r\n              \"te upise na visoka uilita.\",\r\n          },\r\n        ],\r\n        loomen: [{ name: \"Loomen\", url: \"https://loomen.carnet.hr/\" }],\r\n        \"srednja.hr\": [{ name: \"Srednja.hr\", url: \"https://www.srednja.hr/\" }],\r\n      } as Record<string, Website[]>,\r\n      activeFrames: [] as Website[],\r\n      activeFrame: {} as Website,\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.$emitter.emit(\"show-user-card\", true);\r\n    this.changeFrame();\r\n  },\r\n  methods: {\r\n    changeFrame() {\r\n      const site = this.$route.params.website as string;\r\n      if (!site) return;\r\n      this.activeFrames = this.frames[site];\r\n      this.activeFrame = this.frames[site][0];\r\n      this.showFrame(false);\r\n    },\r\n    iframeLoaded() {\r\n      this.showFrame(true);\r\n    },\r\n    iframeError() {\r\n      this.showFrame(false);\r\n    },\r\n    showFrame(show: boolean) {\r\n      this.showSpinner = !show;\r\n      const frame = this.$refs.iframe as HTMLElement;\r\n      if (frame) frame.className = show ? \"visible\" : \"\";\r\n    },\r\n    dropdownClosed(rowName?: string) {\r\n      this.showDropdown = false;\r\n      if (!rowName) return;\r\n      this.activeFrame = this.activeFrames.find(\r\n        (f) => f.name == rowName,\r\n      ) as Website;\r\n    },\r\n  },\r\n  computed: {\r\n    dropdown(): DropdownItem[] {\r\n      return this.activeFrames.map((frame) => ({\r\n        name: frame.name,\r\n        tooltip: frame.tooltip,\r\n        active: frame.url == this.activeFrame.url,\r\n      }));\r\n    },\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.changeFrame();\r\n    },\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#websites,\r\n#iframe,\r\niframe {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\niframe {\r\n  outline: none;\r\n  border: none;\r\n  opacity: 0;\r\n  transition: opacity $views-transition;\r\n\r\n  &.visible {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n#urls {\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 20px;\r\n  width: 44px;\r\n  height: 44px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n\r\n  & > span {\r\n    pointer-events: none;\r\n  }\r\n}\r\n</style>\r\n","\r\nimport { defineComponent } from \"vue\";\r\nimport Dropdown, { DropdownItem } from \"@/components/Dropdown.vue\";\r\nimport Spinner from \"@/components/Spinner.vue\";\r\n\r\ninterface Website {\r\n  name: string;\r\n  url: string;\r\n  tooltip?: string;\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"Website\",\r\n  components: {\r\n    Dropdown,\r\n    Spinner,\r\n  },\r\n  data() {\r\n    return {\r\n      showSpinner: false,\r\n      showDropdown: false,\r\n      frames: {\r\n        \"kolska-stranica\": [\r\n          {\r\n            name: \"kolska stranica\",\r\n            url: \"http://www.ss-elektrotehnicka-zg.skole.hr/\",\r\n          },\r\n        ],\r\n        \"kolski-e-rudnik\": [\r\n          {\r\n            name: \"eR - kolski e-Rudnik (Vol. 2)\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiM2Q1NjVmZDEtMGUyMy00MDBiLTkzYWItYjBhMTA3MDFlOWUxIiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje statistike podatke o opem uspjehu uenika, njihovim ocjenama,<br> \" +\r\n              \"opravdanim i neopravdanim izostancima, pedagokim mjerama<br> \" +\r\n              \"te trendove po kolskim godinama.\",\r\n          },\r\n          {\r\n            name: \"eR - kolski e-Rudnik\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiZWE3YTE4OWQtOWJmNC00OTJmLWE2MjktYTQ5MWJlNDNlZDQ0IiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje adresar kolskih ustanova, geografsku distribuciju kola i uenika,<br> \" +\r\n              \"razne statistike podatke o kolama, uenicima i o obrazovnim programima<br> \" +\r\n              \"te demografske trendove po kolskim godinama.\",\r\n          },\r\n\r\n          {\r\n            name: \"eR - kolski e-Rudnik (Vol. 3)\",\r\n            url: \"https://app.powerbi.com/view?r=eyJrIjoiOTUxNTE3YmQtM2E3MC00MDc0LTg3OTQtYTExZWZhYzU3Y2FlIiwidCI6IjJjMTFjYmNjLWI3NjEtNDVkYi1hOWY1LTRhYzc3ZTk0ZTFkNCIsImMiOjh9\",\r\n            tooltip:\r\n              \"Prikazuje rezultate uenika na dravnoj maturi, njihove ocjene u zavrnim<br> \" +\r\n              \"razredima osnovnih i srednjih kola, trendove po kolskim godinama<br> \" +\r\n              \"te upise na visoka uilita.\",\r\n          },\r\n        ],\r\n        loomen: [{ name: \"Loomen\", url: \"https://loomen.carnet.hr/\" }],\r\n        \"srednja.hr\": [{ name: \"Srednja.hr\", url: \"https://www.srednja.hr/\" }],\r\n      } as Record<string, Website[]>,\r\n      activeFrames: [] as Website[],\r\n      activeFrame: {} as Website,\r\n    };\r\n  },\r\n  beforeMount() {\r\n    this.$emitter.emit(\"show-user-card\", true);\r\n    this.changeFrame();\r\n  },\r\n  methods: {\r\n    changeFrame() {\r\n      const site = this.$route.params.website as string;\r\n      if (!site) return;\r\n      this.activeFrames = this.frames[site];\r\n      this.activeFrame = this.frames[site][0];\r\n      this.showFrame(false);\r\n    },\r\n    iframeLoaded() {\r\n      this.showFrame(true);\r\n    },\r\n    iframeError() {\r\n      this.showFrame(false);\r\n    },\r\n    showFrame(show: boolean) {\r\n      this.showSpinner = !show;\r\n      const frame = this.$refs.iframe as HTMLElement;\r\n      if (frame) frame.className = show ? \"visible\" : \"\";\r\n    },\r\n    dropdownClosed(rowName?: string) {\r\n      this.showDropdown = false;\r\n      if (!rowName) return;\r\n      this.activeFrame = this.activeFrames.find(\r\n        (f) => f.name == rowName,\r\n      ) as Website;\r\n    },\r\n  },\r\n  computed: {\r\n    dropdown(): DropdownItem[] {\r\n      return this.activeFrames.map((frame) => ({\r\n        name: frame.name,\r\n        tooltip: frame.tooltip,\r\n        active: frame.url == this.activeFrame.url,\r\n      }));\r\n    },\r\n  },\r\n  watch: {\r\n    $route() {\r\n      this.changeFrame();\r\n    },\r\n  },\r\n});\r\n","import { render } from \"./Websites.vue?vue&type=template&id=14b45f66&scoped=true\"\nimport script from \"./Websites.vue?vue&type=script&lang=ts\"\nexport * from \"./Websites.vue?vue&type=script&lang=ts\"\n\nimport \"./Websites.vue?vue&type=style&index=0&id=14b45f66&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-14b45f66\"\n\nexport default script","import { createRouter, createWebHashHistory, RouteRecordRaw } from \"vue-router\";\nimport { store } from \"@/store\";\nimport Login from \"../views/Login.vue\";\nimport Class from \"../views/Class.vue\";\nimport Subjects from \"../views/class/Subjects.vue\";\nimport Subject from \"../views/class/Subject.vue\";\nimport Notes from \"../views/class/Notes.vue\";\nimport Exams from \"../views/class/Exams.vue\";\nimport Absences from \"../views/class/Absences.vue\";\nimport Conduct from \"../views/class/Conduct.vue\";\nimport Schedule from \"../views/class/Schedule.vue\";\nimport Stats from \"../views/class/Stats.vue\";\nimport Websites from \"../views/Websites.vue\";\n\n/*\nNo lazy loading:\nhttps://router.vuejs.org/guide/advanced/lazy-loading.html#grouping-components-in-the-same-chunk\n\nHash URL mode:\nhttps://next.router.vuejs.org/guide/essentials/history-mode.html#hash-mode\n */\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: \"/\",\n    component: Login,\n  },\n  {\n    path: \"/razred\",\n    redirect: \"/razred/-/ocjene\",\n  },\n  {\n    path: \"/razred/:classId\",\n    component: Class,\n    children: [\n      {\n        path: \"\",\n        redirect: \"/razred/-/ocjene\",\n      },\n      {\n        path: \"ocjene\",\n        component: Subjects,\n        children: [\n          {\n            path: \":subjectId\",\n            component: Subject,\n          },\n        ],\n      },\n      {\n        path: \"biljeke\",\n        component: Notes,\n      },\n      {\n        path: \"ispiti\",\n        component: Exams,\n      },\n      {\n        path: \"izostanci\",\n        component: Absences,\n      },\n      {\n        path: \"vladanja\",\n        component: Conduct,\n      },\n      {\n        path: \"raspored\",\n        component: Schedule,\n      },\n      {\n        path: \"statistika\",\n        component: Stats,\n      },\n    ],\n  },\n  {\n    path: \"/stranica/:website\",\n    component: Websites,\n  },\n  {\n    path: \"/:pathMatch(.*)\",\n    redirect: \"/\",\n  },\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(process.env.BASE_URL),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = !!store.getters.user;\n  const isLoginPage = to.path == \"/\";\n  if (!isLoginPage && !isAuthenticated) next({ path: \"/\" });\n  else if (isLoginPage && isAuthenticated) next(false);\n  else next();\n});\n\nexport default router;\n","import { createApp } from \"vue\";\r\nimport App from \"./App.vue\";\r\n\r\n/* https://next.vuex.vuejs.org/ */\r\nimport { store } from \"./store\";\r\n\r\n/* https://next.router.vuejs.org/ */\r\nimport router from \"./router\";\r\n\r\n/* https://github.com/developit/mitt */\r\nimport mitt from \"mitt\";\r\n\r\n/* https://github.com/Maronato/vue-toastification/tree/next */\r\nimport Toast, { PluginOptions } from \"vue-toastification\";\r\nimport \"vue-toastification/dist/index.css\";\r\n\r\n/* https://github.com/justintaddei/v-wave */\r\nimport VWave from \"v-wave\";\r\n\r\n/* https://v-tooltip.netlify.app/ */\r\nimport VTooltip from \"v-tooltip\";\r\nimport \"v-tooltip/dist/v-tooltip.css\";\r\n\r\n/* https://v-tooltip.netlify.app/guide/config.html#default-values */\r\nVTooltip.options.offset = [0, 10];\r\nVTooltip.options.instantMove = true;\r\n\r\nconst app = createApp(App);\r\napp.config.globalProperties.$emitter = mitt();\r\napp\r\n  .use(store)\r\n  .use(router)\r\n  .use(Toast, { position: \"bottom-right\" } as PluginOptions)\r\n  .use(VWave)\r\n  .use(VTooltip)\r\n  .mount(\"#app\");\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Class.vue?vue&type=style&index=0&id=0a54bb05&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Notes.vue?vue&type=style&index=0&id=b17fbd3c&lang=scss&scoped=true\""],"sourceRoot":""}